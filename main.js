(self.webpackChunkngx_text_diff_app=self.webpackChunkngx_text_diff_app||[]).push([[179],{320:(Hr,j,Ze)=>{"use strict";function Ne(e){return"function"==typeof e}let Se=!1;const w={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else Se&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Se=e},get useDeprecatedSynchronousErrorHandling(){return Se}};function S(e){setTimeout(()=>{throw e},0)}const x={closed:!0,next(e){},error(e){if(w.useDeprecatedSynchronousErrorHandling)throw e;S(e)},complete(){}},A=Array.isArray||(e=>e&&"number"==typeof e.length);function R(e){return null!==e&&"object"==typeof e}const F=(()=>{function e(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return e.prototype=Object.create(Error.prototype),e})();class P{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:r,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof P)n.remove(this);else if(null!==n)for(let a=0;a<n.length;++a)n[a].remove(this);if(Ne(r))try{r.call(this)}catch(a){t=a instanceof F?U(a.errors):[a]}if(A(o)){let a=-1,c=o.length;for(;++a<c;){const d=o[a];if(R(d))try{d.unsubscribe()}catch(p){t=t||[],p instanceof F?t=t.concat(U(p.errors)):t.push(p)}}}if(t)throw new F(t)}add(t){let n=t;if(!t)return P.EMPTY;switch(typeof t){case"function":n=new P(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof P)){const a=n;n=new P,n._subscriptions=[a]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof P){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}remove(t){const n=this._subscriptions;if(n){const r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}var e;function U(e){return e.reduce((t,n)=>t.concat(n instanceof F?n.errors:n),[])}P.EMPTY=((e=new P).closed=!0,e);const Z="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Q extends P{constructor(t,n,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=x;break;case 1:if(!t){this.destination=x;break}if("object"==typeof t){t instanceof Q?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new me(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new me(this,t,n,r)}}[Z](){return this}static create(t,n,r){const o=new Q(t,n,r);return o.syncErrorThrowable=!1,o}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class me extends Q{constructor(t,n,r,o){super(),this._parentSubscriber=t;let a,c=this;Ne(n)?a=n:n&&(a=n.next,r=n.error,o=n.complete,n!==x&&(c=Object.create(n),Ne(c.unsubscribe)&&this.add(c.unsubscribe.bind(c)),c.unsubscribe=this.unsubscribe.bind(this))),this._context=c,this._next=a,this._error=r,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:n}=this;w.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:n}=this,{useDeprecatedSynchronousErrorHandling:r}=w;if(this._error)r&&n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(n.syncErrorThrowable)r?(n.syncErrorValue=t,n.syncErrorThrown=!0):S(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;S(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const n=()=>this._complete.call(this._context);w.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,n){try{t.call(this._context,n)}catch(r){if(this.unsubscribe(),w.useDeprecatedSynchronousErrorHandling)throw r;S(r)}}__tryOrSetError(t,n,r){if(!w.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,r)}catch(o){return w.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=o,t.syncErrorThrown=!0,!0):(S(o),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const Ke="function"==typeof Symbol&&Symbol.observable||"@@observable";function pt(e){return e}let de=(()=>{class e{constructor(n){this._isScalar=!1,n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){const{operator:a}=this,c=function De(e,t,n){if(e){if(e instanceof Q)return e;if(e[Z])return e[Z]()}return e||t||n?new Q(e,t,n):new Q(x)}(n,r,o);if(c.add(a?a.call(c,this.source):this.source||w.useDeprecatedSynchronousErrorHandling&&!c.syncErrorThrowable?this._subscribe(c):this._trySubscribe(c)),w.useDeprecatedSynchronousErrorHandling&&c.syncErrorThrowable&&(c.syncErrorThrowable=!1,c.syncErrorThrown))throw c.syncErrorValue;return c}_trySubscribe(n){try{return this._subscribe(n)}catch(r){w.useDeprecatedSynchronousErrorHandling&&(n.syncErrorThrown=!0,n.syncErrorValue=r),function ye(e){for(;e;){const{closed:t,destination:n,isStopped:r}=e;if(t||r)return!1;e=n&&n instanceof Q?n:null}return!0}(n)?n.error(r):console.warn(r)}}forEach(n,r){return new(r=tt(r))((o,a)=>{let c;c=this.subscribe(d=>{try{n(d)}catch(p){a(p),c&&c.unsubscribe()}},a,o)})}_subscribe(n){const{source:r}=this;return r&&r.subscribe(n)}[Ke](){return this}pipe(...n){return 0===n.length?this:function ft(e){return 0===e.length?pt:1===e.length?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}(n)(this)}toPromise(n){return new(n=tt(n))((r,o)=>{let a;this.subscribe(c=>a=c,c=>o(c),()=>r(a))})}}return e.create=t=>new e(t),e})();function tt(e){if(e||(e=w.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const Qe=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class $e extends P{constructor(t,n){super(),this.subject=t,this.subscriber=n,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,n=t.observers;if(this.subject=null,!n||0===n.length||t.isStopped||t.closed)return;const r=n.indexOf(this.subscriber);-1!==r&&n.splice(r,1)}}class ie extends Q{constructor(t){super(t),this.destination=t}}let ht=(()=>{class e extends de{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Z](){return new ie(this)}lift(n){const r=new gi(this,this);return r.operator=n,r}next(n){if(this.closed)throw new Qe;if(!this.isStopped){const{observers:r}=this,o=r.length,a=r.slice();for(let c=0;c<o;c++)a[c].next(n)}}error(n){if(this.closed)throw new Qe;this.hasError=!0,this.thrownError=n,this.isStopped=!0;const{observers:r}=this,o=r.length,a=r.slice();for(let c=0;c<o;c++)a[c].error(n);this.observers.length=0}complete(){if(this.closed)throw new Qe;this.isStopped=!0;const{observers:n}=this,r=n.length,o=n.slice();for(let a=0;a<r;a++)o[a].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(n){if(this.closed)throw new Qe;return super._trySubscribe(n)}_subscribe(n){if(this.closed)throw new Qe;return this.hasError?(n.error(this.thrownError),P.EMPTY):this.isStopped?(n.complete(),P.EMPTY):(this.observers.push(n),new $e(this,n))}asObservable(){const n=new de;return n.source=this,n}}return e.create=(t,n)=>new gi(t,n),e})();class gi extends ht{constructor(t,n){super(),this.destination=t,this.source=n}next(t){const{destination:n}=this;n&&n.next&&n.next(t)}error(t){const{destination:n}=this;n&&n.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:n}=this;return n?this.source.subscribe(t):P.EMPTY}}function jn(e){return e&&"function"==typeof e.schedule}class Dn extends Q{constructor(t,n,r){super(),this.parent=t,this.outerValue=n,this.outerIndex=r,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const mi=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()},wo=function ds(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),en=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Bl(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const hs=e=>{if(e&&"function"==typeof e[Ke])return(e=>t=>{const n=e[Ke]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)})(e);if(en(e))return mi(e);if(Bl(e))return(e=>t=>(e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,S),t))(e);if(e&&"function"==typeof e[wo])return(e=>t=>{const n=e[wo]();for(;;){const r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t})(e);{const n=`You provided ${R(e)?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(n)}};function En(e,t,n,r,o=new Dn(e,n,r)){if(!o.closed)return t instanceof de?t.subscribe(o):hs(t)(o)}class yi extends Q{notifyNext(t,n,r,o,a){this.destination.next(n)}notifyError(t,n){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function et(e,t){return function(r){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new Hl(e,t))}}class Hl{constructor(t,n){this.project=t,this.thisArg=n}call(t,n){return n.subscribe(new ga(t,this.project,this.thisArg))}}class ga extends Q{constructor(t,n,r){super(t),this.project=n,this.count=0,this.thisArg=r||this}_next(t){let n;try{n=this.project.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(n)}}function Eo(e,t){return new de(n=>{const r=new P;let o=0;return r.add(t.schedule(function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function tn(e,t){return t?function _h(e,t){if(null!=e){if(function Ac(e){return e&&"function"==typeof e[Ke]}(e))return function Ul(e,t){return new de(n=>{const r=new P;return r.add(t.schedule(()=>{const o=e[Ke]();r.add(o.subscribe({next(a){r.add(t.schedule(()=>n.next(a)))},error(a){r.add(t.schedule(()=>n.error(a)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if(Bl(e))return function nt(e,t){return new de(n=>{const r=new P;return r.add(t.schedule(()=>e.then(o=>{r.add(t.schedule(()=>{n.next(o),r.add(t.schedule(()=>n.complete()))}))},o=>{r.add(t.schedule(()=>n.error(o)))}))),r})}(e,t);if(en(e))return Eo(e,t);if(function Ic(e){return e&&"function"==typeof e[wo]}(e)||"string"==typeof e)return function yh(e,t){if(!e)throw new Error("Iterable cannot be null");return new de(n=>{const r=new P;let o;return r.add(()=>{o&&"function"==typeof o.return&&o.return()}),r.add(t.schedule(()=>{o=e[wo](),r.add(t.schedule(function(){if(n.closed)return;let a,c;try{const d=o.next();a=d.value,c=d.done}catch(d){return void n.error(d)}c?n.complete():(n.next(a),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof de?e:new de(hs(e))}function Vt(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(Vt((o,a)=>tn(e(o,a)).pipe(et((c,d)=>t(o,c,a,d))),n)):("number"==typeof t&&(n=t),r=>r.lift(new Rc(e,n)))}class Rc{constructor(t,n=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=n}call(t,n){return n.subscribe(new Ch(t,this.project,this.concurrent))}}class Ch extends yi{constructor(t,n,r=Number.POSITIVE_INFINITY){super(t),this.project=n,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let n;const r=this.index++;try{n=this.project(t,r)}catch(o){return void this.destination.error(o)}this.active++,this._innerSub(n,t,r)}_innerSub(t,n,r){const o=new Dn(this,n,r),a=this.destination;a.add(o);const c=En(this,t,void 0,void 0,o);c!==o&&a.add(c)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,n,r,o,a){this.destination.next(n)}notifyComplete(t){const n=this.buffer;this.remove(t),this.active--,n.length>0?this._next(n.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function $i(e=Number.POSITIVE_INFINITY){return Vt(pt,e)}function ma(e,t){return t?Eo(e,t):new de(mi(e))}function jl(){return function(t){return t.lift(new gs(t))}}class gs{constructor(t){this.connectable=t}call(t,n){const{connectable:r}=this;r._refCount++;const o=new ms(t,r),a=n.subscribe(o);return o.closed||(o.connection=r.connect()),a}}class ms extends Q{constructor(t,n){super(t),this.connectable=n}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const n=t._refCount;if(n<=0)return void(this.connection=null);if(t._refCount=n-1,n>1)return void(this.connection=null);const{connection:r}=this,o=t._connection;this.connection=null,o&&(!r||o===r)&&o.unsubscribe()}}class Oc extends de{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new P,t.add(this.source.subscribe(new Nc(this.getSubject(),this))),t.closed&&(this._connection=null,t=P.EMPTY)),t}refCount(){return jl()(this)}}const Ur=(()=>{const e=Oc.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class Nc extends ie{constructor(t,n){super(t),this.connectable=n}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const n=t._connection;t._refCount=0,t._subject=null,t._connection=null,n&&n.unsubscribe()}}}class Ft{constructor(t,n){this.subjectFactory=t,this.selector=n}call(t,n){const{selector:r}=this,o=this.subjectFactory(),a=r(o).subscribe(t);return a.add(n.subscribe(o)),a}}function zt(){return new ht}function Ue(e){for(let t in e)if(e[t]===Ue)return t;throw Error("Could not find renamed property on target object.")}function _i(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ce(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ce).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function va(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const zl=Ue({__forward_ref__:Ue});function rt(e){return e.__forward_ref__=rt,e.toString=function(){return Ce(this())},e}function Re(e){return $l(e)?e():e}function $l(e){return"function"==typeof e&&e.hasOwnProperty(zl)&&e.__forward_ref__===rt}class nn extends Error{constructor(t,n){super(function Gl(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function Me(e){return"string"==typeof e?e:null==e?"":String(e)}function Sn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Me(e)}function So(e,t){const n=t?` in ${t}`:"";throw new nn(-201,`No provider for ${Sn(e)} found${n}`)}function ee(e,t){null==e&&function it(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Te(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function $t(e){return{providers:e.providers||[],imports:e.imports||[]}}function z(e){return be(e,qi)||be(e,we)}function be(e,t){return e.hasOwnProperty(t)?e[t]:null}function ys(e){return e&&(e.hasOwnProperty(_a)||e.hasOwnProperty(bh))?e[_a]:null}const qi=Ue({\u0275prov:Ue}),_a=Ue({\u0275inj:Ue}),we=Ue({ngInjectableDef:Ue}),bh=Ue({ngInjectorDef:Ue});var Ae=(()=>((Ae=Ae||{})[Ae.Default=0]="Default",Ae[Ae.Host=1]="Host",Ae[Ae.Self=2]="Self",Ae[Ae.SkipSelf=4]="SkipSelf",Ae[Ae.Optional=8]="Optional",Ae))();let xo;function zr(e){const t=xo;return xo=e,t}function Ql(e,t,n){const r=z(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ae.Optional?null:void 0!==t?t:void So(Ce(e),"Injector")}function Mr(e){return{toString:e}.toString()}var Xn=(()=>((Xn=Xn||{})[Xn.OnPush=0]="OnPush",Xn[Xn.Default=1]="Default",Xn))(),cr=(()=>(function(e){e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"}(cr||(cr={})),cr))();const Uc="undefined"!=typeof globalThis&&globalThis,jc="undefined"!=typeof window&&window,Dh="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,lt=Uc||"undefined"!=typeof global&&global||jc||Dh,To={},ot=[],bi=Ue({\u0275cmp:Ue}),Xl=Ue({\u0275dir:Ue}),Jl=Ue({\u0275pipe:Ue}),Wc=Ue({\u0275mod:Ue}),$r=Ue({\u0275fac:Ue}),Zi=Ue({__NG_ELEMENT_ID__:Ue});let zc=0;function wi(e){return Mr(()=>{const n={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Xn.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||ot,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||cr.Emulated,id:"c",styles:e.styles||ot,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.directives,a=e.features,c=e.pipes;return r.id+=zc++,r.inputs=tu(e.inputs,n),r.outputs=tu(e.outputs),a&&a.forEach(d=>d(r)),r.directiveDefs=o?()=>("function"==typeof o?o():o).map(eu):null,r.pipeDefs=c?()=>("function"==typeof c?c():c).map(_s):null,r})}function eu(e){return cn(e)||function fn(e){return e[Xl]||null}(e)}function _s(e){return function Ki(e){return e[Jl]||null}(e)}const Cs={};function rn(e){return Mr(()=>{const t={type:e.type,bootstrap:e.bootstrap||ot,declarations:e.declarations||ot,imports:e.imports||ot,exports:e.exports||ot,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(Cs[e.id]=e.type),t})}function tu(e,t){if(null==e)return To;const n={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],a=o;Array.isArray(o)&&(a=o[1],o=o[0]),n[o]=r,t&&(t[o]=a)}return n}const he=wi;function Mn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function cn(e){return e[bi]||null}function Jn(e,t){const n=e[Wc]||null;if(!n&&!0===t)throw new Error(`Type ${Ce(e)} does not have '\u0275mod' property.`);return n}function Nn(e){return Array.isArray(e)&&"object"==typeof e[1]}function dr(e){return Array.isArray(e)&&!0===e[1]}function Da(e){return 0!=(8&e.flags)}function Ea(e){return 2==(2&e.flags)}function Fo(e){return 1==(1&e.flags)}function tr(e){return null!==e.template}function Sh(e){return 0!=(512&e[2])}function Ji(e,t){return e.hasOwnProperty($r)?e[$r]:null}class Rh{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Fn(){return iu}function iu(e){return e.type.prototype.ngOnChanges&&(e.setInput=Jc),Ds}function Ds(){const e=Ma(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===To)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Jc(e,t,n,r){const o=Ma(e)||function xa(e,t){return e[ou]=t}(e,{previous:To,current:null}),a=o.current||(o.current={}),c=o.previous,d=this.declaredInputs[n],p=c[d];a[d]=new Rh(p&&p.currentValue,t,c===To),e[r]=t}Fn.ngInherit=!0;const ou="__ngSimpleChanges__";function Ma(e){return e[ou]||null}let Es;function Ra(){return void 0!==Es?Es:"undefined"!=typeof document?document:void 0}function Rt(e){return!!e.listen}const nf={createRenderer:(e,t)=>Ra()};function gt(e){for(;Array.isArray(e);)e=e[0];return e}function Lo(e,t){return gt(t[e])}function kn(e,t){return gt(t[e.index])}function Ms(e,t){return e.data[t]}function Zt(e,t){const n=t[e];return Nn(n)?n:n[0]}function yn(e){return 4==(4&e[2])}function xr(e){return 128==(128&e[2])}function hr(e,t){return null==t?null:e[t]}function sf(e){e[18]=0}function Oa(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const ve={lFrame:cf(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Fa(){return ve.bindingsEnabled}function W(){return ve.lFrame.lView}function Be(){return ve.lFrame.tView}function eo(e){return ve.lFrame.contextLView=e,e[8]}function Ht(){let e=xs();for(;null!==e&&64===e.type;)e=e.parent;return e}function xs(){return ve.lFrame.currentTNode}function Tr(e,t){const n=ve.lFrame;n.currentTNode=e,n.isParent=t}function uu(){return ve.lFrame.isParent}function Mi(){return ve.isInCheckNoChangesMode}function ka(e){ve.isInCheckNoChangesMode=e}function on(){const e=ve.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function to(){return ve.lFrame.bindingIndex++}function An(e){const t=ve.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Rs(e,t){const n=ve.lFrame;n.bindingIndex=n.bindingRootIndex=e,Pa(t)}function Pa(e){ve.lFrame.currentDirectiveIndex=e}function cu(){return ve.lFrame.currentQueryIndex}function fu(e){ve.lFrame.currentQueryIndex=e}function no(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Ti(e,t,n){if(n&Ae.SkipSelf){let o=t,a=e;for(;!(o=o.parent,null!==o||n&Ae.Host||(o=no(a),null===o||(a=a[15],10&o.type))););if(null===o)return!1;t=o,e=a}const r=ve.lFrame=uf();return r.currentTNode=t,r.lView=e,!0}function Va(e){const t=uf(),n=e[1];ve.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function uf(){const e=ve.lFrame,t=null===e?null:e.child;return null===t?cf(e):t}function cf(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function ff(){const e=ve.lFrame;return ve.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const df=ff;function Ba(){const e=ff();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function st(){return ve.lFrame.selectedIndex}function mt(e){ve.lFrame.selectedIndex=e}function Os(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const a=e.data[n].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:d,ngAfterViewInit:p,ngAfterViewChecked:m,ngOnDestroy:_}=a;c&&(e.contentHooks||(e.contentHooks=[])).push(-n,c),d&&((e.contentHooks||(e.contentHooks=[])).push(n,d),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,d)),p&&(e.viewHooks||(e.viewHooks=[])).push(-n,p),m&&((e.viewHooks||(e.viewHooks=[])).push(n,m),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,m)),null!=_&&(e.destroyHooks||(e.destroyHooks=[])).push(n,_)}}function Uo(e,t,n){ja(e,t,3,n)}function Ua(e,t,n,r){(3&e[2])===n&&ja(e,t,n,r)}function Ns(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function ja(e,t,n,r){const a=null!=r?r:-1,c=t.length-1;let d=0;for(let p=void 0!==r?65535&e[18]:0;p<c;p++)if("number"==typeof t[p+1]){if(d=t[p],null!=r&&d>=r)break}else t[p]<0&&(e[18]+=65536),(d<a||-1==a)&&(hf(e,n,t,p),e[18]=(4294901760&e[18])+p+2),p++}function hf(e,t,n,r){const o=n[r]<0,a=n[r+1],d=e[o?-n[r]:n[r]];if(o){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{a.call(d)}finally{}}}else try{a.call(d)}finally{}}class ro{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function _n(e,t,n){const r=Rt(e);let o=0;for(;o<n.length;){const a=n[o];if("number"==typeof a){if(0!==a)break;o++;const c=n[o++],d=n[o++],p=n[o++];r?e.setAttribute(t,d,p,c):t.setAttributeNS(c,d,p)}else{const c=a,d=n[++o];Gn(c)?r&&e.setProperty(t,c,d):r?e.setAttribute(t,c,d):t.setAttribute(c,d),o++}}return o}function Xe(e){return 3===e||4===e||6===e}function Gn(e){return 64===e.charCodeAt(0)}function pr(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||Kr(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function Kr(e,t,n,r,o){let a=0,c=e.length;if(-1===t)c=-1;else for(;a<e.length;){const d=e[a++];if("number"==typeof d){if(d===t){c=-1;break}if(d>t){c=a-1;break}}}for(;a<e.length;){const d=e[a];if("number"==typeof d)break;if(d===n){if(null===r)return void(null!==o&&(e[a+1]=o));if(r===e[a+1])return void(e[a+2]=o)}a++,null!==r&&a++,null!==o&&a++}-1!==c&&(e.splice(c,0,t),a=c+1),e.splice(a++,0,n),null!==r&&e.splice(a++,0,r),null!==o&&e.splice(a++,0,o)}function hu(e){return-1!==e}function Ai(e){return 32767&e}function Wo(e,t){let n=function mf(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let Ps=!0;function Ii(e){const t=Ps;return Ps=e,t}let vf=0;function Ls(e,t){const n=Vs(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,zo(r.data,e),zo(t,null),zo(r.blueprint,null));const o=Bs(e,t),a=e.injectorIndex;if(hu(o)){const c=Ai(o),d=Wo(o,t),p=d[1].data;for(let m=0;m<8;m++)t[a+m]=d[c+m]|p[c+m]}return t[a+8]=o,a}function zo(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Vs(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Bs(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){const a=o[1],c=a.type;if(r=2===c?a.declTNode:1===c?o[6]:null,null===r)return-1;if(n++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function za(e,t,n){!function yf(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Zi)&&(r=n[Zi]),null==r&&(r=n[Zi]=vf++);const o=255&r;t.data[e+(o>>5)]|=1<<o}(e,t,n)}function Cf(e,t,n){if(n&Ae.Optional)return e;So(t,"NodeInjector")}function bf(e,t,n,r){if(n&Ae.Optional&&void 0===r&&(r=null),0==(n&(Ae.Self|Ae.Host))){const o=e[9],a=zr(void 0);try{return o?o.get(t,r,n&Ae.Optional):Ql(t,r,n&Ae.Optional)}finally{zr(a)}}return Cf(r,t,n)}function Hs(e,t,n,r=Ae.Default,o){if(null!==e){const a=function gu(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Zi)?e[Zi]:void 0;return"number"==typeof t?t>=0?255&t:Uh:t}(n);if("function"==typeof a){if(!Ti(t,e,r))return r&Ae.Host?Cf(o,n,r):bf(t,n,r,o);try{const c=a(r);if(null!=c||r&Ae.Optional)return c;So(n)}finally{df()}}else if("number"==typeof a){let c=null,d=Vs(e,t),p=-1,m=r&Ae.Host?t[16][6]:null;for((-1===d||r&Ae.SkipSelf)&&(p=-1===d?Bs(e,t):t[d+8],-1!==p&&mu(r,!1)?(c=t[1],d=Ai(p),t=Wo(p,t)):d=-1);-1!==d;){const _=t[1];if(js(a,d,_.data)){const b=jh(d,t,n,c,r,m);if(b!==pu)return b}p=t[d+8],-1!==p&&mu(r,t[1].data[d+8]===m)&&js(a,d,t)?(c=_,d=Ai(p),t=Wo(p,t)):d=-1}}}return bf(t,n,r,o)}const pu={};function Uh(){return new Ri(Ht(),W())}function jh(e,t,n,r,o,a){const c=t[1],d=c.data[e+8],_=Us(d,c,n,null==r?Ea(d)&&Ps:r!=c&&0!=(3&d.type),o&Ae.Host&&a===d);return null!==_?Ir(t,c,_,d):pu}function Us(e,t,n,r,o){const a=e.providerIndexes,c=t.data,d=1048575&a,p=e.directiveStart,_=a>>20,E=o?d+_:e.directiveEnd;for(let T=r?d:d+_;T<E;T++){const k=c[T];if(T<p&&n===k||T>=p&&k.type===n)return T}if(o){const T=c[p];if(T&&tr(T)&&T.type===n)return p}return null}function Ir(e,t,n,r){let o=e[n];const a=t.data;if(function pf(e){return e instanceof ro}(o)){const c=o;c.resolving&&function ql(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new nn(-200,`Circular dependency in DI detected for ${e}${n}`)}(Sn(a[n]));const d=Ii(c.canSeeViewProviders);c.resolving=!0;const p=c.injectImpl?zr(c.injectImpl):null;Ti(e,r,Ae.Default);try{o=e[n]=c.factory(void 0,a,e,r),t.firstCreatePass&&n>=r.directiveStart&&function du(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:a}=t.type.prototype;if(r){const c=iu(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,c),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,c)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,o),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,a))}(n,a[n],t)}finally{null!==p&&zr(p),Ii(d),c.resolving=!1,df()}}return o}function js(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function mu(e,t){return!(e&Ae.Self||e&Ae.Host&&t)}class Ri{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Hs(this._tNode,this._lView,t,r,n)}}function Ln(e){return Mr(()=>{const t=e.prototype.constructor,n=t[$r]||vu(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const a=o[$r]||vu(o);if(a&&a!==n)return a;o=Object.getPrototypeOf(o)}return a=>new a})}function vu(e){return $l(e)?()=>{const t=vu(Re(e));return t&&t()}:Ji(e)}const Qr="__parameters__";function gr(e,t,n){return Mr(()=>{const r=function $a(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...a){if(this instanceof o)return r.apply(this,a),this;const c=new o(...a);return d.annotation=c,d;function d(p,m,_){const b=p.hasOwnProperty(Qr)?p[Qr]:Object.defineProperty(p,Qr,{value:[]})[Qr];for(;b.length<=_;)b.push(null);return(b[_]=b[_]||[]).push(c),p}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}class Le{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Te({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Df=new Le("AnalyzeForEntryComponents");function Cn(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Cn(r,t)):t!==e&&t.push(r)}return t}function mr(e,t){e.forEach(n=>Array.isArray(n)?mr(n,t):t(n))}function Ef(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function $s(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function qn(e,t,n){let r=so(e,t);return r>=0?e[1|r]=n:(r=~r,function Gh(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function hn(e,t){const n=so(e,t);if(n>=0)return e[1|n]}function so(e,t){return function Mf(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const a=r+(o-r>>1),c=e[a<<n];if(t===c)return a<<n;c>t?o=a:r=a+1}return~(o<<n)}(e,t,1)}const Oi={},ao="__NG_DI_FLAG__",or="ngTempTokenPath",Qh=/\n/gm,wu="__source",Rf=Ue({provide:String,useValue:Ue});let qo;function qs(e){const t=qo;return qo=e,t}function Zo(e,t=Ae.Default){if(void 0===qo)throw new Error("inject() must be called from an injection context");return null===qo?Ql(e,void 0,t):qo.get(e,t&Ae.Optional?null:void 0,t)}function fe(e,t=Ae.Default){return(function Sr(){return xo}()||Zo)(Re(e),t)}const Du=fe;function Eu(e){const t=[];for(let n=0;n<e.length;n++){const r=Re(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let o,a=Ae.Default;for(let c=0;c<r.length;c++){const d=r[c],p=Of(d);"number"==typeof p?-1===p?o=d.token:a|=p:o=d}t.push(fe(o,a))}else t.push(fe(r))}return t}function Jr(e,t){return e[ao]=t,e.prototype[ao]=t,e}function Of(e){return e[ao]}const Ni=Jr(gr("Inject",e=>({token:e})),-1),Or=Jr(gr("Optional"),8),Nr=Jr(gr("SkipSelf"),4);let Xa,Ks;function Qo(e){var t;return(null===(t=function Ja(){if(void 0===Xa&&(Xa=null,lt.trustedTypes))try{Xa=lt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Xa}())||void 0===t?void 0:t.createHTML(e))||e}function Iu(e){var t;return(null===(t=function Au(){if(void 0===Ks&&(Ks=null,lt.trustedTypes))try{Ks=lt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Ks}())||void 0===t?void 0:t.createHTML(e))||e}class Ys{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Fr(e){return e instanceof Ys?e.changingThisBreaksApplicationSecurity:e}class Hf{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(Qo(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch(n){return null}}}class hp{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const r=this.inertDocument.createElement("body");n.appendChild(r)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=Qo(t),n;const r=this.inertDocument.createElement("body");return r.innerHTML=Qo(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const n=t.attributes;for(let o=n.length-1;0<o;o--){const c=n.item(o).name;("xmlns:ns1"===c||0===c.indexOf("ns1:"))&&t.removeAttribute(c)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const Uf=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,jf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function el(e){return(e=String(e)).match(Uf)||e.match(jf)?e:"unsafe:"+e}function co(e){return(e=String(e)).split(",").map(t=>el(t.trim())).join(", ")}function kr(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Fi(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const Wf=kr("area,br,col,hr,img,wbr"),St=kr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zf=kr("rp,rt"),i=Fi(Wf,Fi(St,kr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fi(zf,kr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fi(zf,St)),s=kr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),u=kr("srcset"),h=Fi(s,u,kr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),kr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),g=kr("script,style,template");class v{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=this.checkClobberedElement(n,n.nextSibling);if(o){n=o;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!i.hasOwnProperty(n))return this.sanitizedSomething=!0,!g.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let o=0;o<r.length;o++){const a=r.item(o),c=a.name,d=c.toLowerCase();if(!h.hasOwnProperty(d)){this.sanitizedSomething=!0;continue}let p=a.value;s[d]&&(p=el(p)),u[d]&&(p=co(p)),this.buf.push(" ",c,'="',D(p),'"')}return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();i.hasOwnProperty(n)&&!Wf.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(D(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,C=/([^\#-~ |!])/g;function D(e){return e.replace(/&/g,"&amp;").replace(y,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(C,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let M;function I(e){return"content"in e&&function L(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var V=(()=>((V=V||{})[V.NONE=0]="NONE",V[V.HTML=1]="HTML",V[V.STYLE=2]="STYLE",V[V.SCRIPT=3]="SCRIPT",V[V.URL=4]="URL",V[V.RESOURCE_URL=5]="RESOURCE_URL",V))();function $(e){const t=function an(){const e=W();return e&&e[12]}();return t?Iu(t.sanitize(V.HTML,e)||""):function ei(e,t){const n=function yr(e){return e instanceof Ys&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}(e,"HTML")?Iu(Fr(e)):function N(e,t){let n=null;try{M=M||function Nu(e){const t=new hp(e);return function Fu(){try{return!!(new window.DOMParser).parseFromString(Qo(""),"text/html")}catch(e){return!1}}()?new Hf(t):t}(e);let r=t?String(t):"";n=M.getInertBodyElement(r);let o=5,a=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=a,a=n.innerHTML,n=M.getInertBodyElement(r)}while(r!==a);return Qo((new v).sanitizeChildren(I(n)||n))}finally{if(n){const r=I(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(Ra(),Me(e))}const Yt="__ngContext__";function Ge(e,t){e[Yt]=t}function Ct(e){const t=function _t(e){return e[Yt]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Qs(e){return e.ngOriginalError}function gE(e,...t){e.error(...t)}class nl{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),r=function pE(e){return e&&e.ngErrorLogger||gE}(t);r(this._console,"ERROR",t),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Qs(t);for(;n&&Qs(n);)n=Qs(n);return n||null}}const Wv=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(lt))();function ki(e){return e instanceof Function?e():e}var Cr=(()=>((Cr=Cr||{})[Cr.Important=1]="Important",Cr[Cr.DashCase=2]="DashCase",Cr))();function gp(e,t){return undefined(e,t)}function Pu(e){const t=e[3];return dr(t)?t[3]:t}function mp(e){return Zv(e[13])}function vp(e){return Zv(e[4])}function Zv(e){for(;null!==e&&!dr(e);)e=e[4];return e}function il(e,t,n,r,o){if(null!=r){let a,c=!1;dr(r)?a=r:Nn(r)&&(c=!0,r=r[0]);const d=gt(r);0===e&&null!==n?null==o?ey(t,n,d):Xs(t,n,d,o||null,!0):1===e&&null!==n?Xs(t,n,d,o||null,!0):2===e?function ay(e,t,n){const r=$f(e,t);r&&function VE(e,t,n,r){Rt(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,d,c):3===e&&t.destroyNode(d),null!=a&&function UE(e,t,n,r,o){const a=n[7];a!==gt(n)&&il(t,e,r,a,o);for(let d=10;d<n.length;d++){const p=n[d];Lu(p[1],p,e,t,r,a)}}(t,e,a,n,o)}}function _p(e,t,n){return Rt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Yv(e,t){const n=e[9],r=n.indexOf(t),o=t[3];1024&t[2]&&(t[2]&=-1025,Oa(o,-1)),n.splice(r,1)}function Cp(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const o=r[17];null!==o&&o!==e&&Yv(o,r),t>0&&(e[n-1][4]=r[4]);const a=$s(e,10+t);!function IE(e,t){Lu(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const c=a[19];null!==c&&c.detachView(a[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Qv(e,t){if(!(256&t[2])){const n=t[11];Rt(n)&&n.destroyNode&&Lu(e,t,n,3,null,null),function NE(e){let t=e[13];if(!t)return bp(e[1],e);for(;t;){let n=null;if(Nn(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Nn(t)&&bp(t[1],t),t=t[3];null===t&&(t=e),Nn(t)&&bp(t[1],t),n=t&&t[4]}t=n}}(t)}}function bp(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function LE(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof ro)){const a=n[r+1];if(Array.isArray(a))for(let c=0;c<a.length;c+=2){const d=o[a[c]],p=a[c+1];try{p.call(d)}finally{}}else try{a.call(o)}finally{}}}}(e,t),function PE(e,t){const n=e.cleanup,r=t[7];let o=-1;if(null!==n)for(let a=0;a<n.length-1;a+=2)if("string"==typeof n[a]){const c=n[a+1],d="function"==typeof c?c(t):gt(t[c]),p=r[o=n[a+2]],m=n[a+3];"boolean"==typeof m?d.removeEventListener(n[a],p,m):m>=0?r[o=m]():r[o=-m].unsubscribe(),a+=2}else{const c=r[o=n[a+1]];n[a].call(c)}if(null!==r){for(let a=o+1;a<r.length;a++)r[a]();t[7]=null}}(e,t),1===t[1].type&&Rt(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&dr(t[3])){n!==t[3]&&Yv(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function Xv(e,t,n){return function Jv(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const o=e.data[r.directiveStart].encapsulation;if(o===cr.None||o===cr.Emulated)return null}return kn(r,n)}(e,t.parent,n)}function Xs(e,t,n,r,o){Rt(e)?e.insertBefore(t,n,r,o):t.insertBefore(n,r,o)}function ey(e,t,n){Rt(e)?e.appendChild(t,n):t.appendChild(n)}function ty(e,t,n,r,o){null!==r?Xs(e,t,n,r,o):ey(e,t,n)}function $f(e,t){return Rt(e)?e.parentNode(t):t.parentNode}let iy=function ry(e,t,n){return 40&e.type?kn(e,n):null};function Gf(e,t,n,r){const o=Xv(e,r,t),a=t[11],d=function ny(e,t,n){return iy(e,t,n)}(r.parent||t[6],r,t);if(null!=o)if(Array.isArray(n))for(let p=0;p<n.length;p++)ty(a,o,n[p],d,!1);else ty(a,o,n,d,!1)}function qf(e,t){if(null!==t){const n=t.type;if(3&n)return kn(t,e);if(4&n)return Dp(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return qf(e,r);{const o=e[t.index];return dr(o)?Dp(-1,o):gt(o)}}if(32&n)return gp(t,e)()||gt(e[t.index]);{const r=sy(e,t);return null!==r?Array.isArray(r)?r[0]:qf(Pu(e[16]),r):qf(e,t.next)}}return null}function sy(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Dp(e,t){const n=10+e+1;if(n<t.length){const r=t[n],o=r[1].firstChild;if(null!==o)return qf(r,o)}return t[7]}function Ep(e,t,n,r,o,a,c){for(;null!=n;){const d=r[n.index],p=n.type;if(c&&0===t&&(d&&Ge(gt(d),r),n.flags|=4),64!=(64&n.flags))if(8&p)Ep(e,t,n.child,r,o,a,!1),il(t,e,o,d,a);else if(32&p){const m=gp(n,r);let _;for(;_=m();)il(t,e,o,_,a);il(t,e,o,d,a)}else 16&p?ly(e,t,r,n,o,a):il(t,e,o,d,a);n=c?n.projectionNext:n.next}}function Lu(e,t,n,r,o,a){Ep(n,r,e.firstChild,t,o,a,!1)}function ly(e,t,n,r,o,a){const c=n[16],p=c[6].projection[r.projection];if(Array.isArray(p))for(let m=0;m<p.length;m++)il(t,e,o,p[m],a);else Ep(e,t,p,c[3],o,a,!0)}function uy(e,t,n){Rt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Sp(e,t,n){Rt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function cy(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const a=t.length;if(o+a===r||e.charCodeAt(o+a)<=32)return o}n=o+1}}const fy="ng-template";function WE(e,t,n){let r=0;for(;r<e.length;){let o=e[r++];if(n&&"class"===o){if(o=e[r],-1!==cy(o.toLowerCase(),t,0))return!0}else if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===t)return!0;return!1}}return!1}function dy(e){return 4===e.type&&e.value!==fy}function zE(e,t,n){return t===(4!==e.type||n?e.value:fy)}function $E(e,t,n){let r=4;const o=e.attrs||[],a=function ZE(e){for(let t=0;t<e.length;t++)if(Xe(e[t]))return t;return e.length}(o);let c=!1;for(let d=0;d<t.length;d++){const p=t[d];if("number"!=typeof p){if(!c)if(4&r){if(r=2|1&r,""!==p&&!zE(e,p,n)||""===p&&1===t.length){if(ii(r))return!1;c=!0}}else{const m=8&r?p:t[++d];if(8&r&&null!==e.attrs){if(!WE(e.attrs,m,n)){if(ii(r))return!1;c=!0}continue}const b=GE(8&r?"class":p,o,dy(e),n);if(-1===b){if(ii(r))return!1;c=!0;continue}if(""!==m){let E;E=b>a?"":o[b+1].toLowerCase();const T=8&r?E:null;if(T&&-1!==cy(T,m,0)||2&r&&m!==E){if(ii(r))return!1;c=!0}}}}else{if(!c&&!ii(r)&&!ii(p))return!1;if(c&&ii(p))continue;c=!1,r=p|1&r}}return ii(r)||c}function ii(e){return 0==(1&e)}function GE(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let a=!1;for(;o<t.length;){const c=t[o];if(c===e)return o;if(3===c||6===c)a=!0;else{if(1===c||2===c){let d=t[++o];for(;"string"==typeof d;)d=t[++o];continue}if(4===c)break;if(0===c){o+=4;continue}}o+=a?1:2}return-1}return function KE(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function hy(e,t,n=!1){for(let r=0;r<t.length;r++)if($E(e,t[r],n))return!0;return!1}function py(e,t){return e?":not("+t.trim()+")":t}function QE(e){let t=e[0],n=1,r=2,o="",a=!1;for(;n<e.length;){let c=e[n];if("string"==typeof c)if(2&r){const d=e[++n];o+="["+c+(d.length>0?'="'+d+'"':"")+"]"}else 8&r?o+="."+c:4&r&&(o+=" "+c);else""!==o&&!ii(c)&&(t+=py(a,o),o=""),r=c,a=a||!ii(r);n++}return""!==o&&(t+=py(a,o)),t}const Pe={};function Oe(e){gy(Be(),W(),st()+e,Mi())}function gy(e,t,n,r){if(!r)if(3==(3&t[2])){const a=e.preOrderCheckHooks;null!==a&&Uo(t,a,n)}else{const a=e.preOrderHooks;null!==a&&Ua(t,a,0,n)}mt(n)}function Zf(e,t){return e<<17|t<<2}function oi(e){return e>>17&32767}function Mp(e){return 2|e}function ho(e){return(131068&e)>>2}function xp(e,t){return-131069&e|t<<2}function Tp(e){return 1|e}function My(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r],a=n[r+1];if(-1!==a){const c=e.data[a];fu(o),c.contentQueries(2,t[a],a)}}}function Vu(e,t,n,r,o,a,c,d,p,m){const _=t.blueprint.slice();return _[0]=o,_[2]=140|r,sf(_),_[3]=_[15]=e,_[8]=n,_[10]=c||e&&e[10],_[11]=d||e&&e[11],_[12]=p||e&&e[12]||null,_[9]=m||e&&e[9]||null,_[6]=a,_[16]=2==t.type?e[16]:_,_}function ol(e,t,n,r,o){let a=e.data[t];if(null===a)a=function Lp(e,t,n,r,o){const a=xs(),c=uu(),p=e.data[t]=function gS(e,t,n,r,o,a){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?a:a&&a.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=p),null!==a&&(c?null==a.child&&null!==p.parent&&(a.child=p):null===a.next&&(a.next=p)),p}(e,t,n,r,o),function Is(){return ve.lFrame.inI18n}()&&(a.flags|=64);else if(64&a.type){a.type=n,a.value=r,a.attrs=o;const c=function Ts(){const e=ve.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();a.injectorIndex=null===c?-1:c.injectorIndex}return Tr(a,!0),a}function sl(e,t,n,r){if(0===n)return-1;const o=t.length;for(let a=0;a<n;a++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function Bu(e,t,n){Va(t);try{const r=e.viewQuery;null!==r&&Gp(1,r,n);const o=e.template;null!==o&&xy(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&My(e,t),e.staticViewQueries&&Gp(2,e.viewQuery,n);const a=e.components;null!==a&&function dS(e,t){for(let n=0;n<t.length;n++)NS(e,t[n])}(t,a)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,Ba()}}function al(e,t,n,r){const o=t[2];if(256==(256&o))return;Va(t);const a=Mi();try{sf(t),function Bo(e){return ve.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&xy(e,t,n,2,r);const c=3==(3&o);if(!a)if(c){const m=e.preOrderCheckHooks;null!==m&&Uo(t,m,null)}else{const m=e.preOrderHooks;null!==m&&Ua(t,m,0,null),Ns(t,0)}if(function RS(e){for(let t=mp(e);null!==t;t=vp(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const o=n[r],a=o[3];0==(1024&o[2])&&Oa(a,1),o[2]|=1024}}}(t),function IS(e){for(let t=mp(e);null!==t;t=vp(t))for(let n=10;n<t.length;n++){const r=t[n],o=r[1];xr(r)&&al(o,r,o.template,r[8])}}(t),null!==e.contentQueries&&My(e,t),!a)if(c){const m=e.contentCheckHooks;null!==m&&Uo(t,m)}else{const m=e.contentHooks;null!==m&&Ua(t,m,1),Ns(t,1)}!function cS(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)mt(~o);else{const a=o,c=n[++r],d=n[++r];Rs(c,a),d(2,t[a])}}}finally{mt(-1)}}(e,t);const d=e.components;null!==d&&function fS(e,t){for(let n=0;n<t.length;n++)OS(e,t[n])}(t,d);const p=e.viewQuery;if(null!==p&&Gp(2,p,r),!a)if(c){const m=e.viewCheckHooks;null!==m&&Uo(t,m)}else{const m=e.viewHooks;null!==m&&Ua(t,m,2),Ns(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),a||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Oa(t[3],-1))}finally{Ba()}}function hS(e,t,n,r){const o=t[10],a=!Mi(),c=yn(t);try{a&&!c&&o.begin&&o.begin(),c&&Bu(e,t,r),al(e,t,n,r)}finally{a&&!c&&o.end&&o.end()}}function xy(e,t,n,r,o){const a=st(),c=2&r;try{mt(-1),c&&t.length>20&&gy(e,t,20,Mi()),n(r,o)}finally{mt(a)}}function Vp(e,t,n){!Fa()||(function wS(e,t,n,r){const o=n.directiveStart,a=n.directiveEnd;e.firstCreatePass||Ls(n,t),Ge(r,t);const c=n.initialInputs;for(let d=o;d<a;d++){const p=e.data[d],m=tr(p);m&&xS(t,n,p);const _=Ir(t,e,d,n);Ge(_,t),null!==c&&TS(0,d-o,_,p,0,c),m&&(Zt(n.index,t)[8]=_)}}(e,t,n,kn(n,t)),128==(128&n.flags)&&function DS(e,t,n){const r=n.directiveStart,o=n.directiveEnd,c=n.index,d=function Ho(){return ve.lFrame.currentDirectiveIndex}();try{mt(c);for(let p=r;p<o;p++){const m=e.data[p],_=t[p];Pa(p),(null!==m.hostBindings||0!==m.hostVars||null!==m.hostAttrs)&&Py(m,_)}}finally{mt(-1),Pa(d)}}(e,t,n))}function Bp(e,t,n=kn){const r=t.localNames;if(null!==r){let o=t.index+1;for(let a=0;a<r.length;a+=2){const c=r[a+1],d=-1===c?n(t,e):e[c];e[o++]=d}}}function Ay(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Qf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Qf(e,t,n,r,o,a,c,d,p,m){const _=20+r,b=_+o,E=function pS(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Pe);return n}(_,b),T="function"==typeof m?m():m;return E[1]={type:e,blueprint:E,template:n,queries:null,viewQuery:d,declTNode:t,data:E.slice().fill(null,_),bindingStartIndex:_,expandoStartIndex:b,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:p,consts:T,incompleteFirstPass:!1}}function Oy(e,t,n,r){const o=jy(t);null===n?o.push(r):(o.push(n),e.firstCreatePass&&Wy(e).push(r,o.length-1))}function Ny(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const o=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,o):n[r]=[t,o]}return n}function Hp(e,t,n,r){let o=!1;if(Fa()){const a=function ES(e,t,n){const r=e.directiveRegistry;let o=null;if(r)for(let a=0;a<r.length;a++){const c=r[a];hy(n,c.selectors,!1)&&(o||(o=[]),za(Ls(n,t),e,c.type),tr(c)?(Ly(e,n),o.unshift(c)):o.push(c))}return o}(e,t,n),c=null===r?null:{"":-1};if(null!==a){o=!0,Vy(n,e.data.length,a.length);for(let _=0;_<a.length;_++){const b=a[_];b.providersResolver&&b.providersResolver(b)}let d=!1,p=!1,m=sl(e,t,a.length,null);for(let _=0;_<a.length;_++){const b=a[_];n.mergedAttrs=pr(n.mergedAttrs,b.hostAttrs),By(e,n,t,m,b),MS(m,b,c),null!==b.contentQueries&&(n.flags|=8),(null!==b.hostBindings||null!==b.hostAttrs||0!==b.hostVars)&&(n.flags|=128);const E=b.type.prototype;!d&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),d=!0),!p&&(E.ngOnChanges||E.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),p=!0),m++}!function mS(e,t){const r=t.directiveEnd,o=e.data,a=t.attrs,c=[];let d=null,p=null;for(let m=t.directiveStart;m<r;m++){const _=o[m],b=_.inputs,E=null===a||dy(t)?null:AS(b,a);c.push(E),d=Ny(b,m,d),p=Ny(_.outputs,m,p)}null!==d&&(d.hasOwnProperty("class")&&(t.flags|=16),d.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=c,t.inputs=d,t.outputs=p}(e,n)}c&&function SS(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const a=n[t[o+1]];if(null==a)throw new nn(-301,`Export of name '${t[o+1]}' not found!`);r.push(t[o],a)}}}(n,r,c)}return n.mergedAttrs=pr(n.mergedAttrs,n.attrs),o}function ky(e,t,n,r,o,a){const c=a.hostBindings;if(c){let d=e.hostBindingOpCodes;null===d&&(d=e.hostBindingOpCodes=[]);const p=~t.index;(function bS(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(d)!=p&&d.push(p),d.push(r,o,c)}}function Py(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ly(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function MS(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;tr(t)&&(n[""]=e)}}function Vy(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function By(e,t,n,r,o){e.data[r]=o;const a=o.factory||(o.factory=Ji(o.type)),c=new ro(a,tr(o),null);e.blueprint[r]=c,n[r]=c,ky(e,t,0,r,sl(e,n,o.hostVars,Pe),o)}function xS(e,t,n){const r=kn(t,e),o=Ay(n),a=e[10],c=Xf(e,Vu(e,o,null,n.onPush?64:16,r,t,a,a.createRenderer(r,n),null,null));e[t.index]=c}function TS(e,t,n,r,o,a){const c=a[t];if(null!==c){const d=r.setInput;for(let p=0;p<c.length;){const m=c[p++],_=c[p++],b=c[p++];null!==d?r.setInput(n,b,m,_):n[_]=b}}}function AS(e,t){let n=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;e.hasOwnProperty(o)&&(null===n&&(n=[]),n.push(o,e[o],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Hy(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function OS(e,t){const n=Zt(t,e);if(xr(n)){const r=n[1];80&n[2]?al(r,n,r.template,n[8]):n[5]>0&&jp(n)}}function jp(e){for(let r=mp(e);null!==r;r=vp(r))for(let o=10;o<r.length;o++){const a=r[o];if(1024&a[2]){const c=a[1];al(c,a,c.template,a[8])}else a[5]>0&&jp(a)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const o=Zt(n[r],e);xr(o)&&o[5]>0&&jp(o)}}function NS(e,t){const n=Zt(t,e),r=n[1];(function FS(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Bu(r,n,n[8])}function Xf(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Wp(e){for(;e;){e[2]|=64;const t=Pu(e);if(Sh(e)&&!t)return e;e=t}return null}function $p(e,t,n){const r=t[10];r.begin&&r.begin();try{al(e,t,e.template,n)}catch(o){throw $y(t,o),o}finally{r.end&&r.end()}}function Uy(e){!function zp(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=Ct(n),o=r[1];hS(o,r,o.template,n)}}(e[8])}function Gp(e,t,n){fu(0),t(e,n)}const VS=(()=>Promise.resolve(null))();function jy(e){return e[7]||(e[7]=[])}function Wy(e){return e.cleanup||(e.cleanup=[])}function $y(e,t){const n=e[9],r=n?n.get(nl,null):null;r&&r.handleError(t)}function Gy(e,t,n,r,o){for(let a=0;a<n.length;){const c=n[a++],d=n[a++],p=t[c],m=e.data[c];null!==m.setInput?m.setInput(p,o,r,d):p[d]=o}}function po(e,t,n){const r=Lo(t,e);!function Kv(e,t,n){Rt(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}function Jf(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,a=0;if(null!==t)for(let c=0;c<t.length;c++){const d=t[c];"number"==typeof d?a=d:1==a?o=va(o,d):2==a&&(r=va(r,d+": "+t[++c]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}const qp=new Le("INJECTOR",-1);class qy{get(t,n=Oi){if(n===Oi){const r=new Error(`NullInjectorError: No provider for ${Ce(t)}!`);throw r.name="NullInjectorError",r}return n}}const Zp=new Le("Set Injector scope."),Hu={},US={};let Kp;function Zy(){return void 0===Kp&&(Kp=new qy),Kp}function Ky(e,t=null,n=null,r){const o=Yy(e,t,n,r);return o._resolveInjectorDefTypes(),o}function Yy(e,t=null,n=null,r){return new jS(e,n,t||Zy(),r)}class jS{constructor(t,n,r,o=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const a=[];n&&mr(n,d=>this.processProvider(d,t,n)),mr([t],d=>this.processInjectorType(d,[],a)),this.records.set(qp,ll(void 0,this));const c=this.records.get(Zp);this.scope=null!=c?c.value:null,this.source=o||("object"==typeof t?null:Ce(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=Oi,r=Ae.Default){this.assertNotDestroyed();const o=qs(this),a=zr(void 0);try{if(!(r&Ae.SkipSelf)){let d=this.records.get(t);if(void 0===d){const p=function YS(e){return"function"==typeof e||"object"==typeof e&&e instanceof Le}(t)&&z(t);d=p&&this.injectableDefInScope(p)?ll(Yp(t),Hu):null,this.records.set(t,d)}if(null!=d)return this.hydrate(t,d)}return(r&Ae.Self?Zy():this.parent).get(t,n=r&Ae.Optional&&n===Oi?null:n)}catch(c){if("NullInjectorError"===c.name){if((c[or]=c[or]||[]).unshift(Ce(t)),o)throw c;return function Xh(e,t,n,r){const o=e[or];throw t[wu]&&o.unshift(t[wu]),e.message=function Nf(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let o=Ce(t);if(Array.isArray(t))o=t.map(Ce).join(" -> ");else if("object"==typeof t){let a=[];for(let c in t)if(t.hasOwnProperty(c)){let d=t[c];a.push(c+":"+("string"==typeof d?JSON.stringify(d):Ce(d)))}o=`{${a.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(Qh,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[or]=null,e}(c,t,"R3InjectorError",this.source)}throw c}finally{zr(a),qs(o)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,o)=>t.push(Ce(o))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,n,r){if(!(t=Re(t)))return!1;let o=ys(t);const a=null==o&&t.ngModule||void 0,c=void 0===a?t:a,d=-1!==r.indexOf(c);if(void 0!==a&&(o=ys(a)),null==o)return!1;if(null!=o.imports&&!d){let _;r.push(c);try{mr(o.imports,b=>{this.processInjectorType(b,n,r)&&(void 0===_&&(_=[]),_.push(b))})}finally{}if(void 0!==_)for(let b=0;b<_.length;b++){const{ngModule:E,providers:T}=_[b];mr(T,k=>this.processProvider(k,E,T||ot))}}this.injectorDefTypes.add(c);const p=Ji(c)||(()=>new c);this.records.set(c,ll(p,Hu));const m=o.providers;if(null!=m&&!d){const _=t;mr(m,b=>this.processProvider(b,_,m))}return void 0!==a&&void 0!==t.providers}processProvider(t,n,r){let o=ul(t=Re(t))?t:Re(t&&t.provide);const a=function zS(e,t,n){return Xy(e)?ll(void 0,e.useValue):ll(Qy(e),Hu)}(t);if(ul(t)||!0!==t.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=ll(void 0,Hu,!0),c.factory=()=>Eu(c.multi),this.records.set(o,c)),o=t,c.multi.push(t)}this.records.set(o,a)}hydrate(t,n){return n.value===Hu&&(n.value=US,n.value=n.factory()),"object"==typeof n.value&&n.value&&function KS(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Re(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Yp(e){const t=z(e),n=null!==t?t.factory:Ji(e);if(null!==n)return n;if(e instanceof Le)throw new Error(`Token ${Ce(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function WS(e){const t=e.length;if(t>0){const r=function ir(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?");throw new Error(`Can't resolve all parameters for ${Ce(e)}: (${r.join(", ")}).`)}const n=function Kl(e){const t=e&&(e[qi]||e[we]);if(t){const n=function Yl(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function Qy(e,t,n){let r;if(ul(e)){const o=Re(e);return Ji(o)||Yp(o)}if(Xy(e))r=()=>Re(e.useValue);else if(function GS(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Eu(e.deps||[]));else if(function $S(e){return!(!e||!e.useExisting)}(e))r=()=>fe(Re(e.useExisting));else{const o=Re(e&&(e.useClass||e.provide));if(!function ZS(e){return!!e.deps}(e))return Ji(o)||Yp(o);r=()=>new o(...Eu(e.deps))}return r}function ll(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Xy(e){return null!==e&&"object"==typeof e&&Rf in e}function ul(e){return"function"==typeof e}let Vn=(()=>{class e{static create(n,r){var o;if(Array.isArray(n))return Ky({name:""},r,n,"");{const a=null!==(o=n.name)&&void 0!==o?o:"";return Ky({name:a},n.parent,n.providers,a)}}}return e.THROW_IF_NOT_FOUND=Oi,e.NULL=new qy,e.\u0275prov=Te({token:e,providedIn:"any",factory:()=>fe(qp)}),e.__NG_ELEMENT_ID__=-1,e})();function iM(e,t){Os(Ct(e)[1],Ht())}function Dt(e){let t=function c_(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(tr(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");o=t.\u0275dir}if(o){if(n){r.push(o);const c=e;c.inputs=Jp(e.inputs),c.declaredInputs=Jp(e.declaredInputs),c.outputs=Jp(e.outputs);const d=o.hostBindings;d&&lM(e,d);const p=o.viewQuery,m=o.contentQueries;if(p&&sM(e,p),m&&aM(e,m),_i(e.inputs,o.inputs),_i(e.declaredInputs,o.declaredInputs),_i(e.outputs,o.outputs),tr(o)&&o.data.animation){const _=e.data;_.animation=(_.animation||[]).concat(o.data.animation)}}const a=o.features;if(a)for(let c=0;c<a.length;c++){const d=a[c];d&&d.ngInherit&&d(e),d===Dt&&(n=!1)}}t=Object.getPrototypeOf(t)}!function oM(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=pr(o.hostAttrs,n=pr(n,o.hostAttrs))}}(r)}function Jp(e){return e===To?{}:e===ot?[]:e}function sM(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function aM(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,a)=>{t(r,o,a),n(r,o,a)}:t}function lM(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}let ed=null;function cl(){if(!ed){const e=lt.Symbol;if(e&&e.iterator)ed=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(ed=r)}}}return ed}function Uu(e){return!!eg(e)&&(Array.isArray(e)||!(e instanceof Map)&&cl()in e)}function eg(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Li(e,t,n){return e[t]=n}function Bn(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Nt(e,t,n,r,o,a,c,d){const p=W(),m=Be(),_=e+20,b=m.firstCreatePass?function gM(e,t,n,r,o,a,c,d,p){const m=t.consts,_=ol(t,e,4,c||null,hr(m,d));Hp(t,n,_,hr(m,p)),Os(t,_);const b=_.tViews=Qf(2,_,r,o,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,m);return null!==t.queries&&(t.queries.template(t,_),b.queries=t.queries.embeddedTView(_)),_}(_,m,p,t,n,r,o,a,c):m.data[_];Tr(b,!1);const E=p[11].createComment("");Gf(m,p,E,b),Ge(E,p),Xf(p,p[_]=Hy(E,p,E,b)),Fo(b)&&Vp(m,p,b),null!=c&&Bp(p,b,d)}function G(e,t=Ae.Default){const n=W();return null===n?fe(e,t):Hs(Ht(),n,Re(e),t)}function og(){throw new Error("invalid")}function ge(e,t,n){const r=W();return Bn(r,to(),t)&&function br(e,t,n,r,o,a,c,d){const p=kn(t,n);let _,m=t.inputs;!d&&null!=m&&(_=m[r])?(Gy(e,n,_,r,o),Ea(t)&&function yS(e,t){const n=Zt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function vS(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=c?c(o,t.value||"",r):o,Rt(a)?a.setProperty(p,r,o):Gn(r)||(p.setProperty?p.setProperty(r,o):p[r]=o))}(Be(),function vt(){const e=ve.lFrame;return Ms(e.tView,e.selectedIndex)}(),r,e,t,r[11],n,!1),ge}function sg(e,t,n,r,o){const c=o?"class":"style";Gy(e,n,t.inputs[c],c,r)}function ue(e,t,n,r){const o=W(),a=Be(),c=20+e,d=o[11],p=o[c]=_p(d,t,function Vh(){return ve.lFrame.currentNamespace}()),m=a.firstCreatePass?function LM(e,t,n,r,o,a,c){const d=t.consts,m=ol(t,e,2,o,hr(d,a));return Hp(t,n,m,hr(d,c)),null!==m.attrs&&Jf(m,m.attrs,!1),null!==m.mergedAttrs&&Jf(m,m.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,m),m}(c,a,o,0,t,n,r):a.data[c];Tr(m,!0);const _=m.mergedAttrs;null!==_&&_n(d,p,_);const b=m.classes;null!==b&&Sp(d,p,b);const E=m.styles;null!==E&&uy(d,p,E),64!=(64&m.flags)&&Gf(a,o,p,m),0===function au(){return ve.lFrame.elementDepthCount}()&&Ge(p,o),function Na(){ve.lFrame.elementDepthCount++}(),Fo(m)&&(Vp(a,o,m),function Ty(e,t,n){if(Da(t)){const o=t.directiveEnd;for(let a=t.directiveStart;a<o;a++){const c=e.data[a];c.contentQueries&&c.contentQueries(1,n[a],a)}}}(a,m,o)),null!==r&&Bp(o,m)}function ce(){let e=Ht();uu()?function As(){ve.lFrame.isParent=!1}():(e=e.parent,Tr(e,!1));const t=e;!function Fh(){ve.lFrame.elementDepthCount--}();const n=Be();n.firstCreatePass&&(Os(n,e),Da(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Zr(e){return 0!=(16&e.flags)}(t)&&sg(n,t,W(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function gf(e){return 0!=(32&e.flags)}(t)&&sg(n,t,W(),t.stylesWithoutHost,!1)}function Xt(e,t,n,r){ue(e,t,n,r),ce()}function rd(){return W()}function Wu(e){return!!e&&"function"==typeof e.then}const ag=function O_(e){return!!e&&"function"==typeof e.subscribe};function gn(e,t,n,r){const o=W(),a=Be(),c=Ht();return function F_(e,t,n,r,o,a,c,d){const p=Fo(r),_=e.firstCreatePass&&Wy(e),b=t[8],E=jy(t);let T=!0;if(3&r.type||d){const q=kn(r,t),J=d?d(q):q,B=E.length,se=d?xe=>d(gt(xe[r.index])):r.index;if(Rt(n)){let xe=null;if(!d&&p&&(xe=function HM(e,t,n,r){const o=e.cleanup;if(null!=o)for(let a=0;a<o.length-1;a+=2){const c=o[a];if(c===n&&o[a+1]===r){const d=t[7],p=o[a+2];return d.length>p?d[p]:null}"string"==typeof c&&(a+=2)}return null}(e,t,o,r.index)),null!==xe)(xe.__ngLastListenerFn__||xe).__ngNextListenerFn__=a,xe.__ngLastListenerFn__=a,T=!1;else{a=lg(r,t,b,a,!1);const Je=n.listen(J,o,a);E.push(a,Je),_&&_.push(o,se,B,B+1)}}else a=lg(r,t,b,a,!0),J.addEventListener(o,a,c),E.push(a),_&&_.push(o,se,B,c)}else a=lg(r,t,b,a,!1);const k=r.outputs;let H;if(T&&null!==k&&(H=k[o])){const q=H.length;if(q)for(let J=0;J<q;J+=2){const Er=t[H[J]][H[J+1]].subscribe(a),pa=E.length;E.push(a,Er),_&&_.push(o,r.index,pa,-(pa+1))}}}(a,o,o[11],c,e,t,!!n,r),gn}function k_(e,t,n,r){try{return!1!==n(r)}catch(o){return $y(e,o),!1}}function lg(e,t,n,r,o){return function a(c){if(c===Function)return r;const d=2&e.flags?Zt(e.index,t):t;0==(32&t[2])&&Wp(d);let p=k_(t,0,r,c),m=a.__ngNextListenerFn__;for(;m;)p=k_(t,0,m,c)&&p,m=m.__ngNextListenerFn__;return o&&!1===p&&(c.preventDefault(),c.returnValue=!1),p}}function Pt(e=1){return function Pn(e){return(ve.lFrame.contextLView=function Kt(e,t){for(;e>0;)t=t[15],e--;return t}(e,ve.lFrame.contextLView))[8]}(e)}function $_(e,t,n,r,o){const a=e[n+1],c=null===t;let d=r?oi(a):ho(a),p=!1;for(;0!==d&&(!1===p||c);){const _=e[d+1];GM(e[d],t)&&(p=!0,e[d+1]=r?Tp(_):Mp(_)),d=r?oi(_):ho(_)}p&&(e[n+1]=r?Mp(a):Tp(a))}function GM(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&so(e,t)>=0}const mn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function G_(e){return e.substring(mn.key,mn.keyEnd)}function q_(e,t){const n=mn.textEnd;return n===t?-1:(t=mn.keyEnd=function YM(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,mn.key=t,n),bl(e,t,n))}function bl(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function id(e,t){return function ai(e,t,n,r){const o=W(),a=Be(),c=An(2);a.firstUpdatePass&&tC(a,e,c,r),t!==Pe&&Bn(o,c,t)&&rC(a,a.data[st()],o,o[11],e,o[c+1]=function sx(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Ce(Fr(e)))),e}(t,n),r,c)}(e,t,null,!0),id}function J_(e){!function li(e,t,n,r){const o=Be(),a=An(2);o.firstUpdatePass&&tC(o,null,a,r);const c=W();if(n!==Pe&&Bn(c,a,n)){const d=o.data[st()];if(oC(d,r)&&!eC(o,a)){let p=r?d.classesWithoutHost:d.stylesWithoutHost;null!==p&&(n=va(p,n||"")),sg(o,d,c,n,r)}else!function ox(e,t,n,r,o,a,c,d){o===Pe&&(o=ot);let p=0,m=0,_=0<o.length?o[0]:null,b=0<a.length?a[0]:null;for(;null!==_||null!==b;){const E=p<o.length?o[p+1]:void 0,T=m<a.length?a[m+1]:void 0;let H,k=null;_===b?(p+=2,m+=2,E!==T&&(k=b,H=T)):null===b||null!==_&&_<b?(p+=2,k=_):(m+=2,k=b,H=T),null!==k&&rC(e,t,n,r,k,H,c,d),_=p<o.length?o[p]:null,b=m<a.length?a[m]:null}}(o,d,c,c[11],c[a+1],c[a+1]=function ix(e,t,n){if(null==n||""===n)return ot;const r=[],o=Fr(n);if(Array.isArray(o))for(let a=0;a<o.length;a++)e(r,o[a],!0);else if("object"==typeof o)for(const a in o)o.hasOwnProperty(a)&&e(r,a,o[a]);else"string"==typeof o&&t(r,o);return r}(e,t,n),r,a)}}(qn,Hi,e,!0)}function Hi(e,t){for(let n=function ZM(e){return function K_(e){mn.key=0,mn.keyEnd=0,mn.value=0,mn.valueEnd=0,mn.textEnd=e.length}(e),q_(e,bl(e,0,mn.textEnd))}(t);n>=0;n=q_(t,n))qn(e,G_(t),!0)}function eC(e,t){return t>=e.expandoStartIndex}function tC(e,t,n,r){const o=e.data;if(null===o[n+1]){const a=o[st()],c=eC(e,n);oC(a,r)&&null===t&&!c&&(t=!1),t=function ex(e,t,n,r){const o=function La(e){const t=ve.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let a=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=zu(n=cg(null,e,t,n,r),t.attrs,r),a=null);else{const c=t.directiveStylingLast;if(-1===c||e[c]!==o)if(n=cg(o,e,t,n,r),null===a){let p=function tx(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==ho(r))return e[oi(r)]}(e,t,r);void 0!==p&&Array.isArray(p)&&(p=cg(null,e,t,p[1],r),p=zu(p,t.attrs,r),function nx(e,t,n,r){e[oi(n?t.classBindings:t.styleBindings)]=r}(e,t,r,p))}else a=function rx(e,t,n){let r;const o=t.directiveEnd;for(let a=1+t.directiveStylingLast;a<o;a++)r=zu(r,e[a].hostAttrs,n);return zu(r,t.attrs,n)}(e,t,r)}return void 0!==a&&(r?t.residualClasses=a:t.residualStyles=a),n}(o,a,t,r),function zM(e,t,n,r,o,a){let c=a?t.classBindings:t.styleBindings,d=oi(c),p=ho(c);e[r]=n;let _,m=!1;if(Array.isArray(n)){const b=n;_=b[1],(null===_||so(b,_)>0)&&(m=!0)}else _=n;if(o)if(0!==p){const E=oi(e[d+1]);e[r+1]=Zf(E,d),0!==E&&(e[E+1]=xp(e[E+1],r)),e[d+1]=function eS(e,t){return 131071&e|t<<17}(e[d+1],r)}else e[r+1]=Zf(d,0),0!==d&&(e[d+1]=xp(e[d+1],r)),d=r;else e[r+1]=Zf(p,0),0===d?d=r:e[p+1]=xp(e[p+1],r),p=r;m&&(e[r+1]=Mp(e[r+1])),$_(e,_,r,!0),$_(e,_,r,!1),function $M(e,t,n,r,o){const a=o?e.residualClasses:e.residualStyles;null!=a&&"string"==typeof t&&so(a,t)>=0&&(n[r+1]=Tp(n[r+1]))}(t,_,e,r,a),c=Zf(d,p),a?t.classBindings=c:t.styleBindings=c}(o,a,t,n,c,r)}}function cg(e,t,n,r,o){let a=null;const c=n.directiveEnd;let d=n.directiveStylingLast;for(-1===d?d=n.directiveStart:d++;d<c&&(a=t[d],r=zu(r,a.hostAttrs,o),a!==e);)d++;return null!==e&&(n.directiveStylingLast=d),r}function zu(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let a=0;a<t.length;a++){const c=t[a];"number"==typeof c?o=c:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),qn(e,c,!!n||t[++a]))}return void 0===e?null:e}function rC(e,t,n,r,o,a,c,d){if(!(3&t.type))return;const p=e.data,m=p[d+1];od(function yy(e){return 1==(1&e)}(m)?iC(p,t,n,o,ho(m),c):void 0)||(od(a)||function vy(e){return 2==(2&e)}(m)&&(a=iC(p,null,n,o,d,c)),function jE(e,t,n,r,o){const a=Rt(e);if(t)o?a?e.addClass(n,r):n.classList.add(r):a?e.removeClass(n,r):n.classList.remove(r);else{let c=-1===r.indexOf("-")?void 0:Cr.DashCase;if(null==o)a?e.removeStyle(n,r,c):n.style.removeProperty(r);else{const d="string"==typeof o&&o.endsWith("!important");d&&(o=o.slice(0,-10),c|=Cr.Important),a?e.setStyle(n,r,o,c):n.style.setProperty(r,o,d?"important":"")}}}(r,c,Lo(st(),n),o,a))}function iC(e,t,n,r,o,a){const c=null===t;let d;for(;o>0;){const p=e[o],m=Array.isArray(p),_=m?p[1]:p,b=null===_;let E=n[o+1];E===Pe&&(E=b?ot:void 0);let T=b?hn(E,r):_===r?E:void 0;if(m&&!od(T)&&(T=hn(p,r)),od(T)&&(d=T,c))return d;const k=e[o+1];o=c?oi(k):ho(k)}if(null!==t){let p=a?t.residualClasses:t.residualStyles;null!=p&&(d=hn(p,r))}return d}function od(e){return void 0!==e}function oC(e,t){return 0!=(e.flags&(t?16:32))}function sr(e,t=""){const n=W(),r=Be(),o=e+20,a=r.firstCreatePass?ol(r,o,1,t,null):r.data[o],c=n[o]=function yp(e,t){return Rt(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Gf(r,n,c,a),Tr(a,!1)}function ea(e){return ta("",e,""),ea}function ta(e,t,n){const r=W(),o=function dl(e,t,n,r){return Bn(e,to(),n)?t+Me(n)+r:Pe}(r,e,t,n);return o!==Pe&&po(r,st(),o),ta}const na=void 0;var Mx=["en",[["a","p"],["AM","PM"],na],[["AM","PM"],na,na],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],na,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],na,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",na,"{1} 'at' {0}",na],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Sx(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let wl={};function MC(e){return e in wl||(wl[e]=lt.ng&&lt.ng.common&&lt.ng.common.locales&&lt.ng.common.locales[e]),wl[e]}var oe=(()=>((oe=oe||{})[oe.LocaleId=0]="LocaleId",oe[oe.DayPeriodsFormat=1]="DayPeriodsFormat",oe[oe.DayPeriodsStandalone=2]="DayPeriodsStandalone",oe[oe.DaysFormat=3]="DaysFormat",oe[oe.DaysStandalone=4]="DaysStandalone",oe[oe.MonthsFormat=5]="MonthsFormat",oe[oe.MonthsStandalone=6]="MonthsStandalone",oe[oe.Eras=7]="Eras",oe[oe.FirstDayOfWeek=8]="FirstDayOfWeek",oe[oe.WeekendRange=9]="WeekendRange",oe[oe.DateFormat=10]="DateFormat",oe[oe.TimeFormat=11]="TimeFormat",oe[oe.DateTimeFormat=12]="DateTimeFormat",oe[oe.NumberSymbols=13]="NumberSymbols",oe[oe.NumberFormats=14]="NumberFormats",oe[oe.CurrencyCode=15]="CurrencyCode",oe[oe.CurrencySymbol=16]="CurrencySymbol",oe[oe.CurrencyName=17]="CurrencyName",oe[oe.Currencies=18]="Currencies",oe[oe.Directionality=19]="Directionality",oe[oe.PluralCase=20]="PluralCase",oe[oe.ExtraData=21]="ExtraData",oe))();const sd="en-US";let xC=sd;function hg(e,t,n,r,o){if(e=Re(e),Array.isArray(e))for(let a=0;a<e.length;a++)hg(e[a],t,n,r,o);else{const a=Be(),c=W();let d=ul(e)?e:Re(e.provide),p=Qy(e);const m=Ht(),_=1048575&m.providerIndexes,b=m.directiveStart,E=m.providerIndexes>>20;if(ul(e)||!e.multi){const T=new ro(p,o,G),k=gg(d,t,o?_:_+E,b);-1===k?(za(Ls(m,c),a,d),pg(a,e,t.length),t.push(d),m.directiveStart++,m.directiveEnd++,o&&(m.providerIndexes+=1048576),n.push(T),c.push(T)):(n[k]=T,c[k]=T)}else{const T=gg(d,t,_+E,b),k=gg(d,t,_,_+E),H=T>=0&&n[T],q=k>=0&&n[k];if(o&&!q||!o&&!H){za(Ls(m,c),a,d);const J=function M1(e,t,n,r,o){const a=new ro(e,n,G);return a.multi=[],a.index=t,a.componentProviders=0,QC(a,o,r&&!n),a}(o?S1:E1,n.length,o,r,p);!o&&q&&(n[k].providerFactory=J),pg(a,e,t.length,0),t.push(d),m.directiveStart++,m.directiveEnd++,o&&(m.providerIndexes+=1048576),n.push(J),c.push(J)}else pg(a,e,T>-1?T:k,QC(n[o?k:T],p,!o&&r));!o&&r&&q&&n[k].componentProviders++}}}function pg(e,t,n,r){const o=ul(t),a=function qS(e){return!!e.useClass}(t);if(o||a){const p=(a?Re(t.useClass):t).prototype.ngOnDestroy;if(p){const m=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const _=m.indexOf(n);-1===_?m.push(n,[r,p]):m[_+1].push(r,p)}else m.push(n,p)}}}function QC(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function gg(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function E1(e,t,n,r){return mg(this.multi,[])}function S1(e,t,n,r){const o=this.multi;let a;if(this.providerFactory){const c=this.providerFactory.componentProviders,d=Ir(n,n[1],this.providerFactory.index,r);a=d.slice(0,c),mg(o,a);for(let p=c;p<d.length;p++)a.push(d[p])}else a=[],mg(o,a);return a}function mg(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Tt(e,t=[]){return n=>{n.providersResolver=(r,o)=>function D1(e,t,n){const r=Be();if(r.firstCreatePass){const o=tr(e);hg(n,r.data,r.blueprint,o,!0),hg(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}class XC{}class A1{resolveComponentFactory(t){throw function T1(e){const t=Error(`No component factory found for ${Ce(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let El=(()=>{class e{}return e.NULL=new A1,e})();function I1(){return Sl(Ht(),W())}function Sl(e,t){return new Hn(kn(e,t))}let Hn=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=I1,e})();function R1(e){return e instanceof Hn?e.nativeElement:e}class e0{}let go=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function N1(){const e=W(),n=Zt(Ht().index,e);return function O1(e){return e[11]}(Nn(n)?n:e)}(),e})(),F1=(()=>{class e{}return e.\u0275prov=Te({token:e,providedIn:"root",factory:()=>null}),e})();class Ku{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const k1=new Ku("13.1.2"),vg={};function fd(e,t,n,r,o=!1){for(;null!==n;){const a=t[n.index];if(null!==a&&r.push(gt(a)),dr(a))for(let d=10;d<a.length;d++){const p=a[d],m=p[1].firstChild;null!==m&&fd(p[1],p,m,r)}const c=n.type;if(8&c)fd(e,t,n.child,r);else if(32&c){const d=gp(n,t);let p;for(;p=d();)r.push(p)}else if(16&c){const d=sy(t,n);if(Array.isArray(d))r.push(...d);else{const p=Pu(t[16]);fd(p[1],p,d,r,!0)}}n=o?n.projectionNext:n.next}return r}class Yu{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return fd(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(dr(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Cp(t,r),$s(n,r))}this._attachedToViewContainer=!1}Qv(this._lView[1],this._lView)}onDestroy(t){Oy(this._lView[1],this._lView,null,t)}markForCheck(){Wp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){$p(this._lView[1],this._lView,this.context)}checkNoChanges(){!function PS(e,t,n){ka(!0);try{$p(e,t,n)}finally{ka(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function OE(e,t){Lu(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class P1 extends Yu{constructor(t){super(t),this._view=t}detectChanges(){Uy(this._view)}checkNoChanges(){!function LS(e){ka(!0);try{Uy(e)}finally{ka(!1)}}(this._view)}get context(){return null}}class t0 extends El{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=cn(t);return new yg(n,this.ngModule)}}function n0(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const V1=new Le("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Wv});class yg extends XC{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function XE(e){return e.map(QE).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return n0(this.componentDef.inputs)}get outputs(){return n0(this.componentDef.outputs)}create(t,n,r,o){const a=(o=o||this.ngModule)?function B1(e,t){return{get:(n,r,o)=>{const a=e.get(n,vg,o);return a!==vg||r===vg?a:t.get(n,r,o)}}}(t,o.injector):t,c=a.get(e0,nf),d=a.get(F1,null),p=c.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",_=r?function Ry(e,t,n){if(Rt(e))return e.selectRootElement(t,n===cr.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(p,r,this.componentDef.encapsulation):_p(c.createRenderer(null,this.componentDef),m,function L1(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(m)),b=this.componentDef.onPush?576:528,E=function u_(e,t){return{components:[],scheduler:e||Wv,clean:VS,playerHandler:t||null,flags:0}}(),T=Qf(0,null,null,1,0,null,null,null,null,null),k=Vu(null,T,E,b,null,null,c,p,d,a);let H,q;Va(k);try{const J=function a_(e,t,n,r,o,a){const c=n[1];n[20]=e;const p=ol(c,20,2,"#host",null),m=p.mergedAttrs=t.hostAttrs;null!==m&&(Jf(p,m,!0),null!==e&&(_n(o,e,m),null!==p.classes&&Sp(o,e,p.classes),null!==p.styles&&uy(o,e,p.styles)));const _=r.createRenderer(e,t),b=Vu(n,Ay(t),null,t.onPush?64:16,n[20],p,r,_,a||null,null);return c.firstCreatePass&&(za(Ls(p,n),c,t.type),Ly(c,p),Vy(p,n.length,1)),Xf(n,b),n[20]=b}(_,this.componentDef,k,c,p);if(_)if(r)_n(p,_,["ng-version",k1.full]);else{const{attrs:B,classes:se}=function JE(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let a=e[r];if("string"==typeof a)2===o?""!==a&&t.push(a,e[++r]):8===o&&n.push(a);else{if(!ii(o))break;o=a}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);B&&_n(p,_,B),se&&se.length>0&&Sp(p,_,se.join(" "))}if(q=Ms(T,20),void 0!==n){const B=q.projection=[];for(let se=0;se<this.ngContentSelectors.length;se++){const xe=n[se];B.push(null!=xe?Array.from(xe):null)}}H=function l_(e,t,n,r,o){const a=n[1],c=function CS(e,t,n){const r=Ht();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),By(e,r,t,sl(e,t,1,null),n));const o=Ir(t,e,r.directiveStart,r);Ge(o,t);const a=kn(r,t);return a&&Ge(a,t),o}(a,n,t);if(r.components.push(c),e[8]=c,o&&o.forEach(p=>p(c,t)),t.contentQueries){const p=Ht();t.contentQueries(1,c,p.directiveStart)}const d=Ht();return!a.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(mt(d.index),ky(n[1],d,0,d.directiveStart,d.directiveEnd,t),Py(t,c)),c}(J,this.componentDef,k,E,[iM]),Bu(T,k,null)}finally{Ba()}return new U1(this.componentType,H,Sl(q,k),k,q)}}class U1 extends class x1{}{constructor(t,n,r,o,a){super(),this.location=r,this._rootLView=o,this._tNode=a,this.instance=n,this.hostView=this.changeDetectorRef=new P1(o),this.componentType=t}get injector(){return new Ri(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class mo{}class r0{}const Ml=new Map;class a0 extends mo{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new t0(this);const r=Jn(t);this._bootstrapComponents=ki(r.bootstrap),this._r3Injector=Yy(t,n,[{provide:mo,useValue:this},{provide:El,useValue:this.componentFactoryResolver}],Ce(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=Vn.THROW_IF_NOT_FOUND,r=Ae.Default){return t===Vn||t===mo||t===qp?this:this._r3Injector.get(t,n,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class _g extends r0{constructor(t){super(),this.moduleType=t,null!==Jn(t)&&function W1(e){const t=new Set;!function n(r){const o=Jn(r,!0),a=o.id;null!==a&&(function o0(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${Ce(t)} vs ${Ce(t.name)}`)}(a,Ml.get(a),r),Ml.set(a,r));const c=ki(o.imports);for(const d of c)t.has(d)||(t.add(d),n(d))}(e)}(t)}create(t){return new a0(this.moduleType,t)}}function Qu(e,t,n,r){return u0(W(),on(),e,t,n,r)}function ar(e,t,n,r,o){return function c0(e,t,n,r,o,a,c){const d=t+n;return function Js(e,t,n,r){const o=Bn(e,t,n);return Bn(e,t+1,r)||o}(e,d,o,a)?Li(e,d+2,c?r.call(c,o,a):r(o,a)):Xu(e,d+2)}(W(),on(),e,t,n,r,o)}function Xu(e,t){const n=e[t];return n===Pe?void 0:n}function u0(e,t,n,r,o,a){const c=t+n;return Bn(e,c,o)?Li(e,c+1,a?r.call(a,o):r(o)):Xu(e,c+1)}function ns(e,t){const n=Be();let r;const o=e+20;n.firstCreatePass?(r=function Q1(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(o,r.onDestroy)):r=n.data[o];const a=r.factory||(r.factory=Ji(r.type)),c=zr(G);try{const d=Ii(!1),p=a();return Ii(d),function mM(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,W(),o,p),p}finally{zr(c)}}function rs(e,t,n){const r=e+20,o=W(),a=function rr(e,t){return e[t]}(o,r);return function Ju(e,t){return e[1].data[t].pure}(o,r)?u0(o,on(),t,a.transform,n,a):a.transform(n)}function Cg(e){return t=>{setTimeout(e,void 0,t)}}const bt=class nT extends ht{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){var o,a,c;let d=t,p=n||(()=>null),m=r;if(t&&"object"==typeof t){const b=t;d=null===(o=b.next)||void 0===o?void 0:o.bind(b),p=null===(a=b.error)||void 0===a?void 0:a.bind(b),m=null===(c=b.complete)||void 0===c?void 0:c.bind(b)}this.__isAsync&&(p=Cg(p),d&&(d=Cg(d)),m&&(m=Cg(m)));const _=super.subscribe({next:d,error:p,complete:m});return t instanceof P&&t.add(_),_}};function rT(){return this._results[cl()]()}class bg{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=cl(),r=bg.prototype;r[n]||(r[n]=rT)}get changes(){return this._changes||(this._changes=new bt)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const o=Cn(t);(this._changesDetected=!function zs(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],a=t[r];if(n&&(o=n(o),a=n(a)),a!==o)return!1}return!0}(r._results,o,n))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let vo=(()=>{class e{}return e.__NG_ELEMENT_ID__=sT,e})();const iT=vo,oT=class extends iT{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t){const n=this._declarationTContainer.tViews,r=Vu(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[19];return null!==a&&(r[19]=a.createEmbeddedView(n)),Bu(n,r,t),new Yu(r)}};function sT(){return dd(Ht(),W())}function dd(e,t){return 4&e.type?new oT(t,e,Sl(e,t)):null}let ui=(()=>{class e{}return e.__NG_ELEMENT_ID__=aT,e})();function aT(){return m0(Ht(),W())}const lT=ui,p0=class extends lT{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Sl(this._hostTNode,this._hostLView)}get injector(){return new Ri(this._hostTNode,this._hostLView)}get parentInjector(){const t=Bs(this._hostTNode,this._hostLView);if(hu(t)){const n=Wo(t,this._hostLView),r=Ai(t);return new Ri(n[1].data[r+8],n)}return new Ri(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=g0(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){const o=t.createEmbeddedView(n||{});return this.insert(o,r),o}createComponent(t,n,r,o,a){const c=t&&!function Xr(e){return"function"==typeof e}(t);let d;if(c)d=n;else{const b=n||{};d=b.index,r=b.injector,o=b.projectableNodes,a=b.ngModuleRef}const p=c?t:new yg(cn(t)),m=r||this.parentInjector;if(!a&&null==p.ngModule&&m){const b=m.get(mo,null);b&&(a=b)}const _=p.create(m,o,void 0,a);return this.insert(_.hostView,d),_}insert(t,n){const r=t._lView,o=r[1];if(function Si(e){return dr(e[3])}(r)){const _=this.indexOf(t);if(-1!==_)this.detach(_);else{const b=r[3],E=new p0(b,b[6],b[3]);E.detach(E.indexOf(t))}}const a=this._adjustIndex(n),c=this._lContainer;!function FE(e,t,n,r){const o=10+r,a=n.length;r>0&&(n[o-1][4]=t),r<a-10?(t[4]=n[o],Ef(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const c=t[17];null!==c&&n!==c&&function kE(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(c,t);const d=t[19];null!==d&&d.insertView(e),t[2]|=128}(o,r,c,a);const d=Dp(a,c),p=r[11],m=$f(p,c[7]);return null!==m&&function RE(e,t,n,r,o,a){r[0]=o,r[6]=t,Lu(e,r,n,1,o,a)}(o,c[6],p,r,m,d),t.attachToViewContainerRef(),Ef(wg(c),a,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=g0(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Cp(this._lContainer,n);r&&($s(wg(this._lContainer),n),Qv(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=Cp(this._lContainer,n);return r&&null!=$s(wg(this._lContainer),n)?new Yu(r):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function g0(e){return e[8]}function wg(e){return e[8]||(e[8]=[])}function m0(e,t){let n;const r=t[e.index];if(dr(r))n=r;else{let o;if(8&e.type)o=gt(r);else{const a=t[11];o=a.createComment("");const c=kn(e,t);Xs(a,$f(a,c),o,function BE(e,t){return Rt(e)?e.nextSibling(t):t.nextSibling}(a,c),!1)}t[e.index]=n=Hy(r,t,o,e),Xf(t,n)}return new p0(n,e,t)}class Dg{constructor(t){this.queryList=t,this.matches=null}clone(){return new Dg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Eg{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let a=0;a<r;a++){const c=n.getByIndex(a);o.push(this.queries[c.indexInDeclarationView].clone())}return new Eg(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==b0(t,n).matches&&this.queries[n].setDirty()}}class v0{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Sg{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,a=this.getByIndex(r).embeddedTView(t,o);a&&(a.indexInDeclarationView=r,null!==n?n.push(a):n=[a])}return null!==n?new Sg(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Mg{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Mg(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const a=r[o];this.matchTNodeWithReadOption(t,n,fT(n,a)),this.matchTNodeWithReadOption(t,n,Us(n,t,a,!1,!1))}else r===vo?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Us(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===Hn||o===ui||o===vo&&4&n.type)this.addMatch(n.index,-2);else{const a=Us(n,t,o,!1,!1);null!==a&&this.addMatch(n.index,a)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function fT(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function hT(e,t,n,r){return-1===n?function dT(e,t){return 11&e.type?Sl(e,t):4&e.type?dd(e,t):null}(t,e):-2===n?function pT(e,t,n){return n===Hn?Sl(t,e):n===vo?dd(t,e):n===ui?m0(t,e):void 0}(e,t,r):Ir(e,e[1],n,t)}function y0(e,t,n,r){const o=t[19].queries[r];if(null===o.matches){const a=e.data,c=n.matches,d=[];for(let p=0;p<c.length;p+=2){const m=c[p];d.push(m<0?null:hT(t,a[m],c[p+1],n.metadata.read))}o.matches=d}return o.matches}function xg(e,t,n,r){const o=e.queries.getByIndex(n),a=o.matches;if(null!==a){const c=y0(e,t,o,n);for(let d=0;d<a.length;d+=2){const p=a[d];if(p>0)r.push(c[d/2]);else{const m=a[d+1],_=t[-p];for(let b=10;b<_.length;b++){const E=_[b];E[17]===E[3]&&xg(E[1],E,m,r)}if(null!==_[9]){const b=_[9];for(let E=0;E<b.length;E++){const T=b[E];xg(T[1],T,m,r)}}}}}return r}function ec(e){const t=W(),n=Be(),r=cu();fu(r+1);const o=b0(n,r);if(e.dirty&&yn(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const a=o.crossesNgTemplate?xg(n,t,r,[]):y0(n,t,o,r);e.reset(a,R1),e.notifyOnChanges()}return!0}return!1}function Tg(e,t,n){const r=Be();r.firstCreatePass&&(function C0(e,t,n){null===e.queries&&(e.queries=new Sg),e.queries.track(new Mg(t,n))}(r,new v0(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function _0(e,t,n){const r=new bg(4==(4&n));Oy(e,t,r,r.destroy),null===t[19]&&(t[19]=new Eg),t[19].queries.push(new Dg(r))}(r,W(),t)}function tc(){return function gT(e,t){return e[19].queries[t].queryList}(W(),cu())}function b0(e,t){return e.queries.getByIndex(t)}function gd(...e){}const md=new Le("Application Initializer");let Tl=(()=>{class e{constructor(n){this.appInits=n,this.resolve=gd,this.reject=gd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const a=this.appInits[o]();if(Wu(a))n.push(a);else if(ag(a)){const c=new Promise((d,p)=>{a.subscribe({complete:d,error:p})});n.push(c)}}Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(fe(md,8))},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})();const rc=new Le("AppId"),kT={provide:rc,useFactory:function FT(){return`${kg()}${kg()}${kg()}`},deps:[]};function kg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const V0=new Le("Platform Initializer"),vd=new Le("Platform ID"),B0=new Le("appBootstrapListener");let H0=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})();const is=new Le("LocaleId"),U0=new Le("DefaultCurrencyCode");class PT{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let yd=(()=>{class e{compileModuleSync(n){return new _g(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),a=ki(Jn(n).declarations).reduce((c,d)=>{const p=cn(d);return p&&c.push(new yg(p)),c},[]);return new PT(r,a)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})();const VT=(()=>Promise.resolve(0))();function Pg(e){"undefined"==typeof Zone?VT.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Wt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bt(!1),this.onMicrotaskEmpty=new bt(!1),this.onStable=new bt(!1),this.onError=new bt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function BT(){let e=lt.requestAnimationFrame,t=lt.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function jT(e){const t=()=>{!function UT(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(lt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Vg(e),e.isCheckStableRunning=!0,Lg(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Vg(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,a,c,d)=>{try{return j0(e),n.invokeTask(o,a,c,d)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||e.shouldCoalesceRunChangeDetection)&&t(),W0(e)}},onInvoke:(n,r,o,a,c,d,p)=>{try{return j0(e),n.invoke(o,a,c,d,p)}finally{e.shouldCoalesceRunChangeDetection&&t(),W0(e)}},onHasTask:(n,r,o,a)=>{n.hasTask(o,a),r===o&&("microTask"==a.change?(e._hasPendingMicrotasks=a.microTask,Vg(e),Lg(e)):"macroTask"==a.change&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(n,r,o,a)=>(n.handleError(o,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}(o)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Wt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const a=this._inner,c=a.scheduleEventTask("NgZoneEvent: "+o,t,HT,gd,gd);try{return a.runTask(c,n,r)}finally{a.cancelTask(c)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const HT={};function Lg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Vg(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function j0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function W0(e){e._nesting--,Lg(e)}class WT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bt,this.onMicrotaskEmpty=new bt,this.onStable=new bt,this.onError=new bt}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}let Bg=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wt.assertNotInAngularZone(),Pg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Pg(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let a=-1;r&&r>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==a),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:a,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,o){return[]}}return e.\u0275fac=function(n){return new(n||e)(fe(Wt))},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})(),z0=(()=>{class e{constructor(){this._applications=new Map,Hg.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Hg.findTestabilityInTree(this,n,r)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})();class zT{addToWindow(t){}findTestabilityInTree(t,n,r){return null}}let ci,Hg=new zT;const $0=new Le("AllowMultipleToken");class G0{constructor(t,n){this.name=t,this.token=n}}function q0(e,t,n=[]){const r=`Platform: ${t}`,o=new Le(r);return(a=[])=>{let c=Z0();if(!c||c.injector.get($0,!1))if(e)e(n.concat(a).concat({provide:o,useValue:!0}));else{const d=n.concat(a).concat({provide:o,useValue:!0},{provide:Zp,useValue:"platform"});!function ZT(e){if(ci&&!ci.destroyed&&!ci.injector.get($0,!1))throw new nn(400,"");ci=e.get(K0);const t=e.get(V0,null);t&&t.forEach(n=>n())}(Vn.create({providers:d,name:r}))}return function KT(e){const t=Z0();if(!t)throw new nn(401,"");return t}()}}function Z0(){return ci&&!ci.destroyed?ci:null}let K0=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const d=function YT(e,t){let n;return n="noop"===e?new WT:("zone.js"===e?void 0:e)||new Wt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),p=[{provide:Wt,useValue:d}];return d.run(()=>{const m=Vn.create({providers:p,parent:this.injector,name:n.moduleType.name}),_=n.create(m),b=_.injector.get(nl,null);if(!b)throw new nn(402,"");return d.runOutsideAngular(()=>{const E=d.onError.subscribe({next:T=>{b.handleError(T)}});_.onDestroy(()=>{Ug(this._modules,_),E.unsubscribe()})}),function QT(e,t,n){try{const r=n();return Wu(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(b,d,()=>{const E=_.injector.get(Tl);return E.runInitializers(),E.donePromise.then(()=>(function Rx(e){ee(e,"Expected localeId to be defined"),"string"==typeof e&&(xC=e.toLowerCase().replace(/_/g,"-"))}(_.injector.get(is,sd)||sd),this._moduleDoBootstrap(_),_))})})}bootstrapModule(n,r=[]){const o=Y0({},r);return function GT(e,t,n){const r=new _g(n);return Promise.resolve(r)}(0,0,n).then(a=>this.bootstrapModuleFactory(a,o))}_moduleDoBootstrap(n){const r=n.injector.get(ic);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new nn(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new nn(404,"");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(fe(Vn))},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})();function Y0(e,t){return Array.isArray(t)?t.reduce(Y0,e):Object.assign(Object.assign({},e),t)}let ic=(()=>{class e{constructor(n,r,o,a,c){this._zone=n,this._injector=r,this._exceptionHandler=o,this._componentFactoryResolver=a,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const d=new de(m=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{m.next(this._stable),m.complete()})}),p=new de(m=>{let _;this._zone.runOutsideAngular(()=>{_=this._zone.onStable.subscribe(()=>{Wt.assertNotInAngularZone(),Pg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,m.next(!0))})})});const b=this._zone.onUnstable.subscribe(()=>{Wt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{m.next(!1)}))});return()=>{_.unsubscribe(),b.unsubscribe()}});this.isStable=function ps(...e){let t=Number.POSITIVE_INFINITY,n=null,r=e[e.length-1];return jn(r)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof r&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof de?e[0]:$i(t)(ma(e,n))}(d,p.pipe(function Fc(){return e=>jl()(function Wn(e,t){return function(r){let o;if(o="function"==typeof e?e:function(){return e},"function"==typeof t)return r.lift(new Ft(o,t));const a=Object.create(r,Ur);return a.source=r,a.subjectFactory=o,a}}(zt)(e))}()))}bootstrap(n,r){if(!this._initStatus.done)throw new nn(405,"");let o;o=n instanceof XC?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function qT(e){return e.isBoundToModule}(o)?void 0:this._injector.get(mo),d=o.create(Vn.NULL,[],r||o.selector,a),p=d.location.nativeElement,m=d.injector.get(Bg,null),_=m&&d.injector.get(z0);return m&&_&&_.registerApplication(p,m),d.onDestroy(()=>{this.detachView(d.hostView),Ug(this.components,d),_&&_.unregisterApplication(p)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new nn(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Ug(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(B0,[]).concat(this._bootstrapListeners).forEach(o=>o(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(fe(Wt),fe(Vn),fe(nl),fe(El),fe(Tl))},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})();function Ug(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let _d=(()=>{class e{}return e.__NG_ELEMENT_ID__=eA,e})();function eA(e){return function tA(e,t,n){if(Ea(e)&&!n){const r=Zt(e.index,t);return new Yu(r,r)}return 47&e.type?new Yu(t[16],t):null}(Ht(),W(),16==(16&e))}class ob{constructor(){}supports(t){return Uu(t)}create(t){return new aA(t)}}const sA=(e,t)=>t;class aA{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||sA}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,a=null;for(;n||r;){const c=!r||n&&n.currentIndex<ab(r,o,a)?n:r,d=ab(c,o,a),p=c.currentIndex;if(c===r)o--,r=r._nextRemoved;else if(n=n._next,null==c.previousIndex)o++;else{a||(a=[]);const m=d-o,_=p-o;if(m!=_){for(let E=0;E<m;E++){const T=E<a.length?a[E]:a[E]=0,k=T+E;_<=k&&k<m&&(a[E]=T+1)}a[c.previousIndex]=_-m}}d!==p&&t(c,d,p)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Uu(t))throw new Error(`Error trying to diff '${Ce(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,a,c,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let d=0;d<this.length;d++)a=t[d],c=this._trackByFn(d,a),null!==n&&Object.is(n.trackById,c)?(r&&(n=this._verifyReinsertion(n,a,c,d)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,c,d),r=!0),n=n._next}else o=0,function pM(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[cl()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,d=>{c=this._trackByFn(o,d),null!==n&&Object.is(n.trackById,c)?(r&&(n=this._verifyReinsertion(n,d,c,o)),Object.is(n.item,d)||this._addIdentityChange(n,d)):(n=this._mismatch(n,d,c,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let a;return null===t?a=this._itTail:(a=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,a,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,a,o)):t=this._addAfter(new lA(n,r),a,o),t}_verifyReinsertion(t,n,r,o){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==a?t=this._reinsertAfter(a,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,a=t._nextRemoved;return null===o?this._removalsHead=a:o._nextRemoved=a,null===a?this._removalsTail=o:a._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new sb),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sb),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class lA{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class uA{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class sb{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new uA,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ab(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}class lb{constructor(){}supports(t){return t instanceof Map||eg(t)}create(){return new cA}}class cA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||eg(t)))throw new Error(`Error trying to diff '${Ce(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const a=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,a)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,n);const a=o._prev,c=o._next;return a&&(a._next=c),c&&(c._prev=a),o._next=null,o._prev=null,o}const r=new fA(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class fA{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ub(){return new oc([new ob])}let oc=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||ub()),deps:[[e,new Nr,new Or]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function dA(e){return e.name||typeof e}(n)}'`)}}return e.\u0275prov=Te({token:e,providedIn:"root",factory:ub}),e})();function cb(){return new ia([new lb])}let ia=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||cb()),deps:[[e,new Nr,new Or]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return e.\u0275prov=Te({token:e,providedIn:"root",factory:cb}),e})();const hA=[new lb],gA=new oc([new ob]),mA=new ia(hA),vA=q0(null,"core",[{provide:vd,useValue:"unknown"},{provide:K0,deps:[Vn]},{provide:z0,deps:[]},{provide:H0,deps:[]}]),wA=[{provide:ic,useClass:ic,deps:[Wt,Vn,nl,El,Tl]},{provide:V1,deps:[Wt],useFactory:function DA(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:Tl,useClass:Tl,deps:[[new Or,md]]},{provide:yd,useClass:yd,deps:[]},kT,{provide:oc,useFactory:function yA(){return gA},deps:[]},{provide:ia,useFactory:function _A(){return mA},deps:[]},{provide:is,useFactory:function CA(e){return e||function bA(){return"undefined"!=typeof $localize&&$localize.locale||sd}()},deps:[[new Ni(is),new Or,new Nr]]},{provide:U0,useValue:"USD"}];let EA=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(fe(ic))},e.\u0275mod=rn({type:e}),e.\u0275inj=$t({providers:wA}),e})(),bd=null;function Ui(){return bd}const lr=new Le("DocumentToken");let oa=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Te({token:e,factory:function(){return function TA(){return fe(fb)}()},providedIn:"platform"}),e})();const AA=new Le("Location Initialized");let fb=(()=>{class e extends oa{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ui().getBaseHref(this._doc)}onPopState(n){const r=Ui().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Ui().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,o){db()?this._history.pushState(n,r,o):this.location.hash=o}replaceState(n,r,o){db()?this._history.replaceState(n,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(fe(lr))},e.\u0275prov=Te({token:e,factory:function(){return function IA(){return new fb(fe(lr))}()},providedIn:"platform"}),e})();function db(){return!!window.history.pushState}function Gg(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function hb(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function yo(e){return e&&"?"!==e[0]?"?"+e:e}let Al=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Te({token:e,factory:function(){return function RA(e){const t=fe(lr).location;return new pb(fe(oa),t&&t.origin||"")}()},providedIn:"root"}),e})();const qg=new Le("appBaseHref");let pb=(()=>{class e extends Al{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Gg(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+yo(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,a){const c=this.prepareExternalUrl(o+yo(a));this._platformLocation.pushState(n,r,c)}replaceState(n,r,o,a){const c=this.prepareExternalUrl(o+yo(a));this._platformLocation.replaceState(n,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,n)}}return e.\u0275fac=function(n){return new(n||e)(fe(oa),fe(qg,8))},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})(),OA=(()=>{class e extends Al{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Gg(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,a){let c=this.prepareExternalUrl(o+yo(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(n,r,c)}replaceState(n,r,o,a){let c=this.prepareExternalUrl(o+yo(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,n)}}return e.\u0275fac=function(n){return new(n||e)(fe(oa),fe(qg,8))},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})(),Zg=(()=>{class e{constructor(n,r){this._subject=new bt,this._urlChangeListeners=[],this._platformStrategy=n;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=hb(gb(o)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+yo(r))}normalize(n){return e.stripTrailingSlash(function FA(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,gb(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._platformStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+yo(r)),o)}replaceState(n,r="",o=null){this._platformStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+yo(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r,complete:o})}}return e.normalizeQueryParams=yo,e.joinWithSlash=Gg,e.stripTrailingSlash=hb,e.\u0275fac=function(n){return new(n||e)(fe(Al),fe(oa))},e.\u0275prov=Te({token:e,factory:function(){return function NA(){return new Zg(fe(Al),fe(oa))}()},providedIn:"root"}),e})();function gb(e){return e.replace(/\/index.html$/,"")}var ln=(()=>((ln=ln||{})[ln.Zero=0]="Zero",ln[ln.One=1]="One",ln[ln.Two=2]="Two",ln[ln.Few=3]="Few",ln[ln.Many=4]="Many",ln[ln.Other=5]="Other",ln))();const UA=function SC(e){return function Zn(e){const t=function xx(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=MC(t);if(n)return n;const r=t.split("-")[0];if(n=MC(r),n)return n;if("en"===r)return Mx;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[oe.PluralCase]};class Rd{}let mI=(()=>{class e extends Rd{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(UA(r||this.locale)(n)){case ln.Zero:return"zero";case ln.One:return"one";case ln.Two:return"two";case ln.Few:return"few";case ln.Many:return"many";default:return"other"}}}return e.\u0275fac=function(n){return new(n||e)(fe(is))},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})(),Eb=(()=>{class e{constructor(n,r,o,a){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=o,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(n){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof n?n.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(n){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof n?n.split(/\s+/):n,this._rawClass&&(Uu(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const n=this._iterableDiffer.diff(this._rawClass);n&&this._applyIterableChanges(n)}else if(this._keyValueDiffer){const n=this._keyValueDiffer.diff(this._rawClass);n&&this._applyKeyValueChanges(n)}}_applyKeyValueChanges(n){n.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),n.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),n.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(n){n.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ce(r.item)}`);this._toggleClass(r.item,!0)}),n.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(r=>this._toggleClass(r,!0)):Object.keys(n).forEach(r=>this._toggleClass(r,!!n[r])))}_removeClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(r=>this._toggleClass(r,!1)):Object.keys(n).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(n,r){(n=n.trim())&&n.split(/\s+/g).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return e.\u0275fac=function(n){return new(n||e)(G(oc),G(ia),G(Hn),G(go))},e.\u0275dir=he({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})();class _I{constructor(t,n,r,o){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Sb=(()=>{class e{constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((o,a,c)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new _I(o.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===a?void 0:a);else if(null!==a){const d=r.get(a);r.move(d,c),Mb(d,o)}});for(let o=0,a=r.length;o<a;o++){const d=r.get(o).context;d.index=o,d.count=a,d.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{Mb(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(G(ui),G(vo),G(oc))},e.\u0275dir=he({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();function Mb(e,t){e.context.$implicit=t.item}let Od=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new CI,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){xb("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){xb("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(G(ui),G(vo))},e.\u0275dir=he({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class CI{constructor(){this.$implicit=null,this.ngIf=null}}function xb(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Ce(t)}'.`)}let Ab=(()=>{class e{constructor(n,r,o){this._ngEl=n,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){const[o,a]=n.split(".");null!=(r=null!=r&&a?`${r}${a}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,o,r):this._renderer.removeStyle(this._ngEl.nativeElement,o)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return e.\u0275fac=function(n){return new(n||e)(G(Hn),G(ia),G(go))},e.\u0275dir=he({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e})(),am=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=rn({type:e}),e.\u0275inj=$t({providers:[{provide:Rd,useClass:mI}]}),e})();const Rb="browser";let YI=(()=>{class e{}return e.\u0275prov=Te({token:e,providedIn:"root",factory:()=>new QI(fe(lr),window)}),e})();class QI{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function XI(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const a=o.shadowRoot;if(a){const c=a.getElementById(t)||a.querySelector(`[name="${t}"]`);if(c)return c}o=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],o-a[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Ob(this.window.history)||Ob(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Ob(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class lm extends class eR extends class xA{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function MA(e){bd||(bd=e)}(new lm)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function tR(){return lc=lc||document.querySelector("base"),lc?lc.getAttribute("href"):null}();return null==n?null:function nR(e){Nd=Nd||document.createElement("a"),Nd.setAttribute("href",e);const t=Nd.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){lc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function vI(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[o,a]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(a)}return null}(document.cookie,t)}}let Nd,lc=null;const Nb=new Le("TRANSITION_ID"),iR=[{provide:md,useFactory:function rR(e,t,n){return()=>{n.get(Tl).donePromise.then(()=>{const r=Ui(),o=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let a=0;a<o.length;a++)r.remove(o[a])})}},deps:[Nb,lr,Vn],multi:!0}];class um{static init(){!function $T(e){Hg=e}(new um)}addToWindow(t){lt.getAngularTestability=(r,o=!0)=>{const a=t.findTestabilityInTree(r,o);if(null==a)throw new Error("Could not find testability for element.");return a},lt.getAllAngularTestabilities=()=>t.getAllTestabilities(),lt.getAllAngularRootElements=()=>t.getAllRootElements(),lt.frameworkStabilizers||(lt.frameworkStabilizers=[]),lt.frameworkStabilizers.push(r=>{const o=lt.getAllAngularTestabilities();let a=o.length,c=!1;const d=function(p){c=c||p,a--,0==a&&r(c)};o.forEach(function(p){p.whenStable(d)})})}findTestabilityInTree(t,n,r){if(null==n)return null;const o=t.getTestability(n);return null!=o?o:r?Ui().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null}}let oR=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})();const Fd=new Le("EventManagerPlugins");let kd=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>o.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}addGlobalEventListener(n,r,o){return this._findPluginFor(r).addGlobalEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const o=this._plugins;for(let a=0;a<o.length;a++){const c=o[a];if(c.supports(n))return this._eventNameToPlugin.set(n,c),c}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(fe(Fd),fe(Wt))},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})();class Fb{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const o=Ui().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${n}`);return this.addEventListener(o,n,r)}}let kb=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})(),uc=(()=>{class e extends kb{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,o){n.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,o.push(r.appendChild(c))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(Pb),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(n,o,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Pb))}}return e.\u0275fac=function(n){return new(n||e)(fe(lr))},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})();function Pb(e){Ui().remove(e)}const cm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},fm=/%COMP%/g;function Pd(e,t,n){for(let r=0;r<t.length;r++){let o=t[r];Array.isArray(o)?Pd(e,o,n):(o=o.replace(fm,e),n.push(o))}return n}function Bb(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let dm=(()=>{class e{constructor(n,r,o){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new hm(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case cr.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new fR(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(n),o}case 1:case cr.ShadowDom:return new dR(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const o=Pd(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(fe(kd),fe(uc),fe(rc))},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})();class hm{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(cm[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){t.appendChild(n)}insertBefore(t,n,r){t&&t.insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;const a=cm[o];a?t.setAttributeNS(a,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const o=cm[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(Cr.DashCase|Cr.Important)?t.style.setProperty(n,r,o&Cr.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Cr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,Bb(r)):this.eventManager.addEventListener(t,n,Bb(r))}}class fR extends hm{constructor(t,n,r,o){super(t),this.component=r;const a=Pd(o+"-"+r.id,r.styles,[]);n.addStyles(a),this.contentAttr=function lR(e){return"_ngcontent-%COMP%".replace(fm,e)}(o+"-"+r.id),this.hostAttr=function uR(e){return"_nghost-%COMP%".replace(fm,e)}(o+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class dR extends hm{constructor(t,n,r,o){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Pd(o.id,o.styles,[]);for(let c=0;c<a.length;c++){const d=document.createElement("style");d.textContent=a[c],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let hR=(()=>{class e extends Fb{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}}return e.\u0275fac=function(n){return new(n||e)(fe(lr))},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})();const Ub=["alt","control","meta","shift"],gR={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jb={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},mR={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let vR=(()=>{class e extends Fb{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,o){const a=e.parseEventName(r),c=e.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ui().onAndCancel(n,a.domEventName,c))}static parseEventName(n){const r=n.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const a=e._normalizeKey(r.pop());let c="";if(Ub.forEach(p=>{const m=r.indexOf(p);m>-1&&(r.splice(m,1),c+=p+".")}),c+=a,0!=r.length||0===a.length)return null;const d={};return d.domEventName=o,d.fullKey=c,d}static getEventFullKey(n){let r="",o=function yR(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&jb.hasOwnProperty(t)&&(t=jb[t]))}return gR[t]||t}(n);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Ub.forEach(a=>{a!=o&&mR[a](n)&&(r+=a+".")}),r+=o,r}static eventCallback(n,r,o){return a=>{e.getEventFullKey(a)===n&&o.runGuarded(()=>r(a))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(fe(lr))},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})();const wR=q0(vA,"browser",[{provide:vd,useValue:Rb},{provide:V0,useValue:function _R(){lm.makeCurrent(),um.init()},multi:!0},{provide:lr,useFactory:function bR(){return function ef(e){Es=e}(document),document},deps:[]}]),DR=[{provide:Zp,useValue:"root"},{provide:nl,useFactory:function CR(){return new nl},deps:[]},{provide:Fd,useClass:hR,multi:!0,deps:[lr,Wt,vd]},{provide:Fd,useClass:vR,multi:!0,deps:[lr]},{provide:dm,useClass:dm,deps:[kd,uc,rc]},{provide:e0,useExisting:dm},{provide:kb,useExisting:uc},{provide:uc,useClass:uc,deps:[lr]},{provide:Bg,useClass:Bg,deps:[Wt]},{provide:kd,useClass:kd,deps:[Fd,Wt]},{provide:class JI{},useClass:oR,deps:[]}];let ER=(()=>{class e{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:e,providers:[{provide:rc,useValue:n.appId},{provide:Nb,useExisting:rc},iR]}}}return e.\u0275fac=function(n){return new(n||e)(fe(e,12))},e.\u0275mod=rn({type:e}),e.\u0275inj=$t({providers:DR,imports:[am,EA]}),e})();function Ve(...e){let t=e[e.length-1];return jn(t)?(e.pop(),Eo(e,t)):ma(e)}"undefined"!=typeof window&&window;class hi extends ht{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return n&&!n.closed&&t.next(this._value),n}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Qe;return this._value}next(t){super.next(this._value=t)}}const $b={};class PR{constructor(t){this.resultSelector=t}call(t,n){return n.subscribe(new LR(t,this.resultSelector))}}class LR extends yi{constructor(t,n){super(t),this.resultSelector=n,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push($b),this.observables.push(t)}_complete(){const t=this.observables,n=t.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(let r=0;r<n;r++){const o=t[r];this.add(En(this,o,o,r))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,n,r,o,a){const c=this.values,p=this.toRespond?c[r]===$b?--this.toRespond:this.toRespond:0;c[r]=n,0===p&&(this.resultSelector?this._tryResultSelector(c):this.destination.next(c.slice()))}_tryResultSelector(t){let n;try{n=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(n)}}const Ld=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();function gm(...e){return function VR(){return $i(1)}()(Ve(...e))}const Il=new de(e=>e.complete());function mm(e){return e?function BR(e){return new de(t=>e.schedule(()=>t.complete()))}(e):Il}function Gb(e){return new de(t=>{let n;try{n=e()}catch(o){return void t.error(o)}return(n?tn(n):mm()).subscribe(t)})}function ss(e,t){return"function"==typeof t?n=>n.pipe(ss((r,o)=>tn(e(r,o)).pipe(et((a,c)=>t(r,a,o,c))))):n=>n.lift(new HR(e))}class HR{constructor(t){this.project=t}call(t,n){return n.subscribe(new UR(t,this.project))}}class UR extends yi{constructor(t,n){super(t),this.project=n,this.index=0}_next(t){let n;const r=this.index++;try{n=this.project(t,r)}catch(o){return void this.destination.error(o)}this._innerSub(n,t,r)}_innerSub(t,n,r){const o=this.innerSubscription;o&&o.unsubscribe();const a=new Dn(this,n,r),c=this.destination;c.add(a),this.innerSubscription=En(this,t,void 0,void 0,a),this.innerSubscription!==a&&c.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,n,r,o,a){this.destination.next(n)}}const qb=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function vm(e){return t=>0===e?mm():t.lift(new jR(e))}class jR{constructor(t){if(this.total=t,this.total<0)throw new qb}call(t,n){return n.subscribe(new WR(t,this.total))}}class WR extends Q{constructor(t,n){super(t),this.total=n,this.count=0}_next(t){const n=this.total,r=++this.count;r<=n&&(this.destination.next(t),r===n&&(this.destination.complete(),this.unsubscribe()))}}function Zb(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(o){return o.lift(new $R(e,t,n))}}class $R{constructor(t,n,r=!1){this.accumulator=t,this.seed=n,this.hasSeed=r}call(t,n){return n.subscribe(new GR(t,this.accumulator,this.seed,this.hasSeed))}}class GR extends Q{constructor(t,n,r,o){super(t),this.accumulator=n,this._seed=r,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const n=this.index++;let r;try{r=this.accumulator(this.seed,t,n)}catch(o){this.destination.error(o)}this.seed=r,this.destination.next(r)}}function sa(e,t){return function(r){return r.lift(new qR(e,t))}}class qR{constructor(t,n){this.predicate=t,this.thisArg=n}call(t,n){return n.subscribe(new ZR(t,this.predicate,this.thisArg))}}class ZR extends Q{constructor(t,n,r){super(t),this.predicate=n,this.thisArg=r,this.count=0}_next(t){let n;try{n=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}n&&this.destination.next(t)}}function aa(e){return function(n){const r=new KR(e),o=n.lift(r);return r.caught=o}}class KR{constructor(t){this.selector=t}call(t,n){return n.subscribe(new YR(t,this.selector,this.caught))}}class YR extends yi{constructor(t,n,r){super(t),this.selector=n,this.caught=r}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(a){return void super.error(a)}this._unsubscribeAndRecycle();const r=new Dn(this,void 0,void 0);this.add(r);const o=En(this,n,void 0,void 0,r);o!==r&&this.add(o)}}}function cc(e,t){return Vt(e,t,1)}function ym(e){return function(n){return 0===e?mm():n.lift(new QR(e))}}class QR{constructor(t){if(this.total=t,this.total<0)throw new qb}call(t,n){return n.subscribe(new XR(t,this.total))}}class XR extends Q{constructor(t,n){super(t),this.total=n,this.ring=new Array,this.count=0}_next(t){const n=this.ring,r=this.total,o=this.count++;n.length<r?n.push(t):n[o%r]=t}_complete(){const t=this.destination;let n=this.count;if(n>0){const r=this.count>=this.total?this.total:this.count,o=this.ring;for(let a=0;a<r;a++){const c=n++%r;t.next(o[c])}}t.complete()}}function Kb(e=tO){return t=>t.lift(new JR(e))}class JR{constructor(t){this.errorFactory=t}call(t,n){return n.subscribe(new eO(t,this.errorFactory))}}class eO extends Q{constructor(t,n){super(t),this.errorFactory=n,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(n){t=n}this.destination.error(t)}}}function tO(){return new Ld}function Yb(e=null){return t=>t.lift(new nO(e))}class nO{constructor(t){this.defaultValue=t}call(t,n){return n.subscribe(new rO(t,this.defaultValue))}}class rO extends Q{constructor(t,n){super(t),this.defaultValue=n,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Rl(e,t){const n=arguments.length>=2;return r=>r.pipe(e?sa((o,a)=>e(o,a,r)):pt,vm(1),n?Yb(t):Kb(()=>new Ld))}function as(){}function wr(e,t,n){return function(o){return o.lift(new oO(e,t,n))}}class oO{constructor(t,n,r){this.nextOrObserver=t,this.error=n,this.complete=r}call(t,n){return n.subscribe(new sO(t,this.nextOrObserver,this.error,this.complete))}}class sO extends Q{constructor(t,n,r,o){super(t),this._tapNext=as,this._tapError=as,this._tapComplete=as,this._tapError=r||as,this._tapComplete=o||as,Ne(n)?(this._context=this,this._tapNext=n):n&&(this._context=n,this._tapNext=n.next||as,this._tapError=n.error||as,this._tapComplete=n.complete||as)}_next(t){try{this._tapNext.call(this._context,t)}catch(n){return void this.destination.error(n)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(n){return void this.destination.error(n)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class lO{constructor(t){this.callback=t}call(t,n){return n.subscribe(new uO(t,this.callback))}}class uO extends Q{constructor(t,n){super(t),this.add(new P(n))}}class Co{constructor(t,n){this.id=t,this.url=n}}class _m extends Co{constructor(t,n,r="imperative",o=null){super(t,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fc extends Co{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Qb extends Co{constructor(t,n,r){super(t,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class cO extends Co{constructor(t,n,r){super(t,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class fO extends Co{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dO extends Co{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hO extends Co{constructor(t,n,r,o,a){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pO extends Co{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gO extends Co{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xb{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Jb{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mO{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vO{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yO{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _O{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ew{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ze="primary";class CO{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ol(e){return new CO(e)}const tw="ngNavigationCancelingError";function Cm(e){const t=Error("NavigationCancelingError: "+e);return t[tw]=!0,t}function wO(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const o={};for(let a=0;a<r.length;a++){const c=r[a],d=e[a];if(c.startsWith(":"))o[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function ji(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let a=0;a<n.length;a++)if(o=n[a],!nw(e[o],t[o]))return!1;return!0}function nw(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((o,a)=>r[a]===o)}return e===t}function rw(e){return Array.prototype.concat.apply([],e)}function iw(e){return e.length>0?e[e.length-1]:null}function Rn(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Wi(e){return ag(e)?e:Wu(e)?tn(Promise.resolve(e)):Ve(e)}const SO={exact:function aw(e,t,n){if(!ua(e.segments,t.segments)||!Vd(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!aw(e.children[r],t.children[r],n))return!1;return!0},subset:lw},ow={exact:function MO(e,t){return ji(e,t)},subset:function xO(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>nw(e[n],t[n]))},ignored:()=>!0};function sw(e,t,n){return SO[n.paths](e.root,t.root,n.matrixParams)&&ow[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function lw(e,t,n){return uw(e,t,t.segments,n)}function uw(e,t,n,r){if(e.segments.length>n.length){const o=e.segments.slice(0,n.length);return!(!ua(o,n)||t.hasChildren()||!Vd(o,n,r))}if(e.segments.length===n.length){if(!ua(e.segments,n)||!Vd(e.segments,n,r))return!1;for(const o in t.children)if(!e.children[o]||!lw(e.children[o],t.children[o],r))return!1;return!0}{const o=n.slice(0,e.segments.length),a=n.slice(e.segments.length);return!!(ua(e.segments,o)&&Vd(e.segments,o,r)&&e.children[ze])&&uw(e.children[ze],t,a,r)}}function Vd(e,t,n){return t.every((r,o)=>ow[n](e[o].parameters,r.parameters))}class la{constructor(t,n,r){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ol(this.queryParams)),this._queryParamMap}toString(){return IO.serialize(this)}}class Ye{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Rn(n,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bd(this)}}class dc{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ol(this.parameters)),this._parameterMap}toString(){return pw(this)}}function ua(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}class cw{}class fw{parse(t){const n=new BO(t);return new la(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${hc(t.root,!0)}`,r=function NO(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(o=>`${Hd(n)}=${Hd(o)}`).join("&"):`${Hd(n)}=${Hd(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams),o="string"==typeof t.fragment?`#${function RO(e){return encodeURI(e)}(t.fragment)}`:"";return`${n}${r}${o}`}}const IO=new fw;function Bd(e){return e.segments.map(t=>pw(t)).join("/")}function hc(e,t){if(!e.hasChildren())return Bd(e);if(t){const n=e.children[ze]?hc(e.children[ze],!1):"",r=[];return Rn(e.children,(o,a)=>{a!==ze&&r.push(`${a}:${hc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function AO(e,t){let n=[];return Rn(e.children,(r,o)=>{o===ze&&(n=n.concat(t(r,o)))}),Rn(e.children,(r,o)=>{o!==ze&&(n=n.concat(t(r,o)))}),n}(e,(r,o)=>o===ze?[hc(e.children[ze],!1)]:[`${o}:${hc(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[ze]?`${Bd(e)}/${n[0]}`:`${Bd(e)}/(${n.join("//")})`}}function dw(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hd(e){return dw(e).replace(/%3B/gi,";")}function bm(e){return dw(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ud(e){return decodeURIComponent(e)}function hw(e){return Ud(e.replace(/\+/g,"%20"))}function pw(e){return`${bm(e.path)}${function OO(e){return Object.keys(e).map(t=>`;${bm(t)}=${bm(e[t])}`).join("")}(e.parameters)}`}const FO=/^[^\/()?;=#]+/;function jd(e){const t=e.match(FO);return t?t[0]:""}const kO=/^[^=?&#]+/,LO=/^[^&#]+/;class BO{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ye([],{}):new Ye([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[ze]=new Ye(t,n)),r}parseSegment(){const t=jd(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new dc(Ud(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=jd(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=jd(this.remaining);o&&(r=o,this.capture(r))}t[Ud(n)]=Ud(r)}parseQueryParam(t){const n=function PO(e){const t=e.match(kO);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const c=function VO(e){const t=e.match(LO);return t?t[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const o=hw(n),a=hw(r);if(t.hasOwnProperty(o)){let c=t[o];Array.isArray(c)||(c=[c],t[o]=c),c.push(a)}else t[o]=a}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=jd(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=ze);const c=this.parseChildren();n[a]=1===Object.keys(c).length?c[ze]:new Ye([],c),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class gw{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=wm(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=wm(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=Dm(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Dm(t,this._root).map(n=>n.value)}}function wm(e,t){if(e===t.value)return t;for(const n of t.children){const r=wm(e,n);if(r)return r}return null}function Dm(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Dm(e,n);if(r.length)return r.unshift(t),r}return[]}class bo{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Nl(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class mw extends gw{constructor(t,n){super(t),this.snapshot=n,Em(this,t)}toString(){return this.snapshot.toString()}}function vw(e,t){const n=function HO(e,t){const c=new Wd([],{},{},"",{},ze,t,null,e.root,-1,{});return new _w("",new bo(c,[]))}(e,t),r=new hi([new dc("",{})]),o=new hi({}),a=new hi({}),c=new hi({}),d=new hi(""),p=new Fl(r,o,c,d,a,ze,t,n.root);return p.snapshot=n.root,new mw(new bo(p,[]),n)}class Fl{constructor(t,n,r,o,a,c,d,p){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=a,this.outlet=c,this.component=d,this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(et(t=>Ol(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(et(t=>Ol(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yw(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const o=n[r],a=n[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(a.component)break;r--}}return function UO(e){return e.reduce((t,n)=>({params:Object.assign(Object.assign({},t.params),n.params),data:Object.assign(Object.assign({},t.data),n.data),resolve:Object.assign(Object.assign({},t.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Wd{constructor(t,n,r,o,a,c,d,p,m,_,b){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=a,this.outlet=c,this.component=d,this.routeConfig=p,this._urlSegment=m,this._lastPathIndex=_,this._resolve=b}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ol(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ol(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _w extends gw{constructor(t,n){super(n),this.url=t,Em(this,n)}toString(){return Cw(this._root)}}function Em(e,t){t.value._routerState=e,t.children.forEach(n=>Em(e,n))}function Cw(e){const t=e.children.length>0?` { ${e.children.map(Cw).join(", ")} } `:"";return`${e.value}${t}`}function Sm(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,ji(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),ji(t.params,n.params)||e.params.next(n.params),function DO(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!ji(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),ji(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Mm(e,t){const n=ji(e.params,t.params)&&function TO(e,t){return ua(e,t)&&e.every((n,r)=>ji(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||Mm(e.parent,t.parent))}function pc(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const o=function WO(e,t,n){return t.children.map(r=>{for(const o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return pc(e,r,o);return pc(e,r)})}(e,t,n);return new bo(r,o)}{if(e.shouldAttach(t.value)){const a=e.retrieve(t.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(d=>pc(e,d)),c}}const r=function zO(e){return new Fl(new hi(e.url),new hi(e.params),new hi(e.queryParams),new hi(e.fragment),new hi(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(a=>pc(e,a));return new bo(r,o)}}function zd(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function gc(e){return"object"==typeof e&&null!=e&&e.outlets}function xm(e,t,n,r,o){let a={};return r&&Rn(r,(c,d)=>{a[d]=Array.isArray(c)?c.map(p=>`${p}`):`${c}`}),new la(n.root===e?t:bw(n.root,e,t),a,o)}function bw(e,t,n){const r={};return Rn(e.children,(o,a)=>{r[a]=o===t?n:bw(o,t,n)}),new Ye(e.segments,r)}class ww{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&zd(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(gc);if(o&&o!==iw(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Tm{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function Dw(e,t,n){if(e||(e=new Ye([],{})),0===e.segments.length&&e.hasChildren())return $d(e,t,n);const r=function YO(e,t,n){let r=0,o=t;const a={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return a;const c=e.segments[o],d=n[r];if(gc(d))break;const p=`${d}`,m=r<n.length-1?n[r+1]:null;if(o>0&&void 0===p)break;if(p&&m&&"object"==typeof m&&void 0===m.outlets){if(!Sw(p,m,c))return a;r+=2}else{if(!Sw(p,{},c))return a;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const a=new Ye(e.segments.slice(0,r.pathIndex),{});return a.children[ze]=new Ye(e.segments.slice(r.pathIndex),e.children),$d(a,0,o)}return r.match&&0===o.length?new Ye(e.segments,{}):r.match&&!e.hasChildren()?Am(e,t,n):r.match?$d(e,0,o):Am(e,t,n)}function $d(e,t,n){if(0===n.length)return new Ye(e.segments,{});{const r=function KO(e){return gc(e[0])?e[0].outlets:{[ze]:e}}(n),o={};return Rn(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(o[c]=Dw(e.children[c],t,a))}),Rn(e.children,(a,c)=>{void 0===r[c]&&(o[c]=a)}),new Ye(e.segments,o)}}function Am(e,t,n){const r=e.segments.slice(0,t);let o=0;for(;o<n.length;){const a=n[o];if(gc(a)){const p=QO(a.outlets);return new Ye(r,p)}if(0===o&&zd(n[0])){r.push(new dc(e.segments[t].path,Ew(n[0]))),o++;continue}const c=gc(a)?a.outlets[ze]:`${a}`,d=o<n.length-1?n[o+1]:null;c&&d&&zd(d)?(r.push(new dc(c,Ew(d))),o+=2):(r.push(new dc(c,{})),o++)}return new Ye(r,{})}function QO(e){const t={};return Rn(e,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=Am(new Ye([],{}),0,n))}),t}function Ew(e){const t={};return Rn(e,(n,r)=>t[r]=`${n}`),t}function Sw(e,t,n){return e==n.path&&ji(t,n.parameters)}class JO{constructor(t,n,r,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Sm(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const o=Nl(n);t.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,o[c],r),delete o[c]}),Rn(o,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(t,n,r){const o=t.value,a=n?n.value:null;if(o===a)if(o.component){const c=r.getContext(o.outlet);c&&this.deactivateChildRoutes(t,n,c.children)}else this.deactivateChildRoutes(t,n,r);else a&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,a=Nl(t);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],o);if(r&&r.outlet){const c=r.outlet.detach(),d=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:d})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,a=Nl(t);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,n,r){const o=Nl(n);t.children.forEach(a=>{this.activateRoutes(a,o[a.value.outlet],r),this.forwardEvent(new _O(a.value.snapshot))}),t.children.length&&this.forwardEvent(new vO(t.value.snapshot))}activateRoutes(t,n,r){const o=t.value,a=n?n.value:null;if(Sm(o),o===a)if(o.component){const c=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,c.children)}else this.activateChildRoutes(t,n,r);else if(o.component){const c=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const d=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),Sm(d.route.value),this.activateChildRoutes(t,null,c.children)}else{const d=function eN(e){for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(o.snapshot),p=d?d.module.componentFactoryResolver:null;c.attachRef=null,c.route=o,c.resolver=p,c.outlet&&c.outlet.activateWith(o,p),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,r)}}class Im{constructor(t,n){this.routes=t,this.module=n}}function ls(e){return"function"==typeof e}function ca(e){return e instanceof la}const mc=Symbol("INITIAL_VALUE");function vc(){return ss(e=>function kR(...e){let t=null,n=null;return jn(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&A(e[0])&&(e=e[0]),ma(e,n).lift(new PR(t))}(e.map(t=>t.pipe(vm(1),function zR(...e){const t=e[e.length-1];return jn(t)?(e.pop(),n=>gm(e,n,t)):n=>gm(e,n)}(mc)))).pipe(Zb((t,n)=>{let r=!1;return n.reduce((o,a,c)=>o!==mc?o:(a===mc&&(r=!0),r||!1!==a&&c!==n.length-1&&!ca(a)?o:a),t)},mc),sa(t=>t!==mc),et(t=>ca(t)?t:!0===t),vm(1)))}class sN{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new yc,this.attachRef=null}}class yc{constructor(){this.contexts=new Map}onChildOutletCreated(t,n){const r=this.getOrCreateContext(t);r.outlet=n,this.contexts.set(t,r)}onChildOutletDestroyed(t){const n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new sN,this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}}let Rm=(()=>{class e{constructor(n,r,o,a,c){this.parentContexts=n,this.location=r,this.resolver=o,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new bt,this.deactivateEvents=new bt,this.attachEvents=new bt,this.detachEvents=new bt,this.name=a||ze,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const c=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),d=this.parentContexts.getOrCreateContext(this.name).children,p=new aN(n,d,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,p),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)(G(yc),G(ui),G(El),function $o(e){return function _f(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const a=n[o];if(Xe(a))break;if(0===a)o+=2;else if("number"==typeof a)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(a===t)return n[o+1];o+=2}}}return null}(Ht(),e)}("name"),G(_d))},e.\u0275dir=he({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),e})();class aN{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Fl?this.route:t===yc?this.childContexts:this.parent.get(t,n)}}let Mw=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=wi({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&Xt(0,"router-outlet")},directives:[Rm],encapsulation:2}),e})();function xw(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];lN(r,uN(t,r))}}function lN(e,t){e.children&&xw(e.children,t)}function uN(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Om(e){const t=e.children&&e.children.map(Om),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ze&&(n.component=Mw),n}function Br(e){return e.outlet||ze}function Tw(e,t){const n=e.filter(r=>Br(r)===t);return n.push(...e.filter(r=>Br(r)!==t)),n}const Aw={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Gd(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},Aw):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const a=(t.matcher||wO)(n,e,t);if(!a)return Object.assign({},Aw);const c={};Rn(a.posParams,(p,m)=>{c[m]=p.path});const d=a.consumed.length>0?Object.assign(Object.assign({},c),a.consumed[a.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:a.consumed,lastChild:a.consumed.length,parameters:d,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function qd(e,t,n,r,o="corrected"){if(n.length>0&&function dN(e,t,n){return n.some(r=>Zd(e,t,r)&&Br(r)!==ze)}(e,n,r)){const c=new Ye(t,function fN(e,t,n,r){const o={};o[ze]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const a of n)if(""===a.path&&Br(a)!==ze){const c=new Ye([],{});c._sourceSegment=e,c._segmentIndexShift=t.length,o[Br(a)]=c}return o}(e,t,r,new Ye(n,e.children)));return c._sourceSegment=e,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:[]}}if(0===n.length&&function hN(e,t,n){return n.some(r=>Zd(e,t,r))}(e,n,r)){const c=new Ye(e.segments,function cN(e,t,n,r,o,a){const c={};for(const d of r)if(Zd(e,n,d)&&!o[Br(d)]){const p=new Ye([],{});p._sourceSegment=e,p._segmentIndexShift="legacy"===a?e.segments.length:t.length,c[Br(d)]=p}return Object.assign(Object.assign({},o),c)}(e,t,n,r,e.children,o));return c._sourceSegment=e,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:n}}const a=new Ye(e.segments,e.children);return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}function Zd(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function Iw(e,t,n,r){return!!(Br(e)===r||r!==ze&&Zd(t,n,e))&&("**"===e.path||Gd(t,e,n).matched)}function Rw(e,t,n){return 0===t.length&&!e.children[n]}class _c{constructor(t){this.segmentGroup=t||null}}class Ow{constructor(t){this.urlTree=t}}function Kd(e){return new de(t=>t.error(new _c(e)))}function Nw(e){return new de(t=>t.error(new Ow(e)))}function pN(e){return new de(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class vN{constructor(t,n,r,o,a){this.configLoader=n,this.urlSerializer=r,this.urlTree=o,this.config=a,this.allowRedirects=!0,this.ngModule=t.get(mo)}apply(){const t=qd(this.urlTree.root,[],[],this.config).segmentGroup,n=new Ye(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,n,ze).pipe(et(a=>this.createUrlTree(Nm(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(aa(a=>{if(a instanceof Ow)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof _c?this.noMatchError(a):a}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,ze).pipe(et(o=>this.createUrlTree(Nm(o),t.queryParams,t.fragment))).pipe(aa(o=>{throw o instanceof _c?this.noMatchError(o):o}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,n,r){const o=t.segments.length>0?new Ye([],{[ze]:t}):t;return new la(o,n,r)}expandSegmentGroup(t,n,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,n,r).pipe(et(a=>new Ye([],a))):this.expandSegment(t,r,n,r.segments,o,!0)}expandChildren(t,n,r){const o=[];for(const a of Object.keys(r.children))"primary"===a?o.unshift(a):o.push(a);return tn(o).pipe(cc(a=>{const c=r.children[a],d=Tw(n,a);return this.expandSegmentGroup(t,d,c,a).pipe(et(p=>({segment:p,outlet:a})))}),Zb((a,c)=>(a[c.outlet]=c.segment,a),{}),function iO(e,t){const n=arguments.length>=2;return r=>r.pipe(e?sa((o,a)=>e(o,a,r)):pt,ym(1),n?Yb(t):Kb(()=>new Ld))}())}expandSegment(t,n,r,o,a,c){return tn(r).pipe(cc(d=>this.expandSegmentAgainstRoute(t,n,r,d,o,a,c).pipe(aa(m=>{if(m instanceof _c)return Ve(null);throw m}))),Rl(d=>!!d),aa((d,p)=>{if(d instanceof Ld||"EmptyError"===d.name){if(Rw(n,o,a))return Ve(new Ye([],{}));throw new _c(n)}throw d}))}expandSegmentAgainstRoute(t,n,r,o,a,c,d){return Iw(o,n,a,c)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,n,o,a,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,o,a,c):Kd(n):Kd(n)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,a,c){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,o,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,o,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Nw(a):this.lineralizeSegments(r,a).pipe(Vt(c=>{const d=new Ye(c,{});return this.expandSegment(t,d,n,c,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,o,a,c){const{matched:d,consumedSegments:p,lastChild:m,positionalParamSegments:_}=Gd(n,o,a);if(!d)return Kd(n);const b=this.applyRedirectCommands(p,o.redirectTo,_);return o.redirectTo.startsWith("/")?Nw(b):this.lineralizeSegments(o,b).pipe(Vt(E=>this.expandSegment(t,n,r,E.concat(a.slice(m)),c,!1)))}matchSegmentAgainstRoute(t,n,r,o,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Ve(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe(et(E=>(r._loadedConfig=E,new Ye(o,{})))):Ve(new Ye(o,{}));const{matched:c,consumedSegments:d,lastChild:p}=Gd(n,r,o);if(!c)return Kd(n);const m=o.slice(p);return this.getChildConfig(t,r,o).pipe(Vt(b=>{const E=b.module,T=b.routes,{segmentGroup:k,slicedSegments:H}=qd(n,d,m,T),q=new Ye(k.segments,k.children);if(0===H.length&&q.hasChildren())return this.expandChildren(E,T,q).pipe(et(xe=>new Ye(d,xe)));if(0===T.length&&0===H.length)return Ve(new Ye(d,{}));const J=Br(r)===a;return this.expandSegment(E,q,T,H,J?ze:a,!0).pipe(et(se=>new Ye(d.concat(se.segments),se.children)))}))}getChildConfig(t,n,r){return n.children?Ve(new Im(n.children,t)):n.loadChildren?void 0!==n._loadedConfig?Ve(n._loadedConfig):this.runCanLoadGuards(t.injector,n,r).pipe(Vt(o=>o?this.configLoader.load(t.injector,n).pipe(et(a=>(n._loadedConfig=a,a))):function gN(e){return new de(t=>t.error(Cm(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(n))):Ve(new Im([],t))}runCanLoadGuards(t,n,r){const o=n.canLoad;if(!o||0===o.length)return Ve(!0);const a=o.map(c=>{const d=t.get(c);let p;if(function nN(e){return e&&ls(e.canLoad)}(d))p=d.canLoad(n,r);else{if(!ls(d))throw new Error("Invalid CanLoad guard");p=d(n,r)}return Wi(p)});return Ve(a).pipe(vc(),wr(c=>{if(!ca(c))return;const d=Cm(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw d.url=c,d}),et(c=>!0===c))}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Ve(r);if(o.numberOfChildren>1||!o.children[ze])return pN(t.redirectTo);o=o.children[ze]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreatreUrlTree(t,n,r,o){const a=this.createSegmentGroup(t,n.root,r,o);return new la(a,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Rn(t,(o,a)=>{if("string"==typeof o&&o.startsWith(":")){const d=o.substring(1);r[a]=n[d]}else r[a]=o}),r}createSegmentGroup(t,n,r,o){const a=this.createSegments(t,n.segments,r,o);let c={};return Rn(n.children,(d,p)=>{c[p]=this.createSegmentGroup(t,d,r,o)}),new Ye(a,c)}createSegments(t,n,r,o){return n.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,o):this.findOrReturn(a,r))}findPosParam(t,n,r){const o=r[n.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${t}'. Cannot find '${n.path}'.`);return o}findOrReturn(t,n){let r=0;for(const o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}}function Nm(e){const t={};for(const r of Object.keys(e.children)){const a=Nm(e.children[r]);(a.segments.length>0||a.hasChildren())&&(t[r]=a)}return function yN(e){if(1===e.numberOfChildren&&e.children[ze]){const t=e.children[ze];return new Ye(e.segments.concat(t.segments),t.children)}return e}(new Ye(e.segments,t))}class Fw{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Yd{constructor(t,n){this.component=t,this.route=n}}function CN(e,t,n){const r=e._root;return Cc(r,t?t._root:null,n,[r.value])}function Qd(e,t,n){const r=function wN(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Cc(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const a=Nl(t);return e.children.forEach(c=>{(function DN(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const a=e.value,c=t?t.value:null,d=n?n.getContext(e.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const p=function EN(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!ua(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ua(e.url,t.url)||!ji(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mm(e,t)||!ji(e.queryParams,t.queryParams);default:return!Mm(e,t)}}(c,a,a.routeConfig.runGuardsAndResolvers);p?o.canActivateChecks.push(new Fw(r)):(a.data=c.data,a._resolvedData=c._resolvedData),Cc(e,t,a.component?d?d.children:null:n,r,o),p&&d&&d.outlet&&d.outlet.isActivated&&o.canDeactivateChecks.push(new Yd(d.outlet.component,c))}else c&&bc(t,d,o),o.canActivateChecks.push(new Fw(r)),Cc(e,null,a.component?d?d.children:null:n,r,o)})(c,a[c.value.outlet],n,r.concat([c.value]),o),delete a[c.value.outlet]}),Rn(a,(c,d)=>bc(c,n.getContext(d),o)),o}function bc(e,t,n){const r=Nl(e),o=e.value;Rn(r,(a,c)=>{bc(a,o.component?t?t.children.getContext(c):null:t,n)}),n.canDeactivateChecks.push(new Yd(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}class NN{}function kw(e){return new de(t=>t.error(e))}class kN{constructor(t,n,r,o,a,c){this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=c}recognize(){const t=qd(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,t,ze);if(null===n)return null;const r=new Wd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ze,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new bo(r,n),a=new _w(this.url,o);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(t){const n=t.value,r=yw(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,n):this.processSegment(t,n,n.segments,r)}processChildren(t,n){const r=[];for(const a of Object.keys(n.children)){const c=n.children[a],d=Tw(t,a),p=this.processSegmentGroup(d,c,a);if(null===p)return null;r.push(...p)}const o=Pw(r);return function PN(e){e.sort((t,n)=>t.value.outlet===ze?-1:n.value.outlet===ze?1:t.value.outlet.localeCompare(n.value.outlet))}(o),o}processSegment(t,n,r,o){for(const a of t){const c=this.processSegmentAgainstRoute(a,n,r,o);if(null!==c)return c}return Rw(n,r,o)?[]:null}processSegmentAgainstRoute(t,n,r,o){if(t.redirectTo||!Iw(t,n,r,o))return null;let a,c=[],d=[];if("**"===t.path){const T=r.length>0?iw(r).parameters:{};a=new Wd(r,T,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bw(t),Br(t),t.component,t,Lw(n),Vw(n)+r.length,Hw(t))}else{const T=Gd(n,t,r);if(!T.matched)return null;c=T.consumedSegments,d=r.slice(T.lastChild),a=new Wd(c,T.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bw(t),Br(t),t.component,t,Lw(n),Vw(n)+c.length,Hw(t))}const p=function LN(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(t),{segmentGroup:m,slicedSegments:_}=qd(n,c,d,p.filter(T=>void 0===T.redirectTo),this.relativeLinkResolution);if(0===_.length&&m.hasChildren()){const T=this.processChildren(p,m);return null===T?null:[new bo(a,T)]}if(0===p.length&&0===_.length)return[new bo(a,[])];const b=Br(t)===o,E=this.processSegment(p,m,_,b?ze:o);return null===E?null:[new bo(a,E)]}}function VN(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Pw(e){const t=[],n=new Set;for(const r of e){if(!VN(r)){t.push(r);continue}const o=t.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==o?(o.children.push(...r.children),n.add(o)):t.push(r)}for(const r of n){const o=Pw(r.children);t.push(new bo(r.value,o))}return t.filter(r=>!n.has(r))}function Lw(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Vw(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Bw(e){return e.data||{}}function Hw(e){return e.resolve||{}}function Fm(e){return ss(t=>{const n=e(t);return n?tn(n).pipe(et(()=>t)):Ve(t)})}class GN extends class $N{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}{}const km=new Le("ROUTES");class Uw{constructor(t,n,r,o){this.injector=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=o}load(t,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const o=this.loadModuleFactory(n.loadChildren).pipe(et(a=>{this.onLoadEndListener&&this.onLoadEndListener(n);const c=a.create(t);return new Im(rw(c.injector.get(km,void 0,Ae.Self|Ae.Optional)).map(Om),c)}),aa(a=>{throw n._loader$=void 0,a}));return n._loader$=new Oc(o,()=>new ht).pipe(jl()),n._loader$}loadModuleFactory(t){return Wi(t()).pipe(Vt(n=>n instanceof r0?Ve(n):tn(this.compiler.compileModuleAsync(n))))}}class ZN{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}}function KN(e){throw e}function YN(e,t,n){return t.parse("/")}function jw(e,t){return Ve(null)}const QN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},XN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Dr=(()=>{class e{constructor(n,r,o,a,c,d,p){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=o,this.location=a,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ht,this.errorHandler=KN,this.malformedUriErrorHandler=YN,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:jw,afterPreactivation:jw},this.urlHandlingStrategy=new ZN,this.routeReuseStrategy=new GN,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(mo),this.console=c.get(H0);const b=c.get(Wt);this.isNgZoneEnabled=b instanceof Wt&&Wt.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function EO(){return new la(new Ye([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Uw(c,d,E=>this.triggerEvent(new Xb(E)),E=>this.triggerEvent(new Jb(E))),this.routerState=vw(this.currentUrlTree,this.rootComponentType),this.transitions=new hi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(sa(o=>0!==o.id),et(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ss(o=>{let a=!1,c=!1;return Ve(o).pipe(wr(d=>{this.currentNavigation={id:d.id,initialUrl:d.currentRawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ss(d=>{const p=this.browserUrlTree.toString(),m=!this.navigated||d.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||m)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return Xd(d.source)&&(this.browserUrlTree=d.extractedUrl),Ve(d).pipe(ss(b=>{const E=this.transitions.getValue();return r.next(new _m(b.id,this.serializeUrl(b.extractedUrl),b.source,b.restoredState)),E!==this.transitions.getValue()?Il:Promise.resolve(b)}),function _N(e,t,n,r){return ss(o=>function mN(e,t,n,r,o){return new vN(e,t,n,r,o).apply()}(e,t,n,o.extractedUrl,r).pipe(et(a=>Object.assign(Object.assign({},o),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),wr(b=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:b.urlAfterRedirects})}),function BN(e,t,n,r,o){return Vt(a=>function FN(e,t,n,r,o="emptyOnly",a="legacy"){try{const c=new kN(e,t,n,r,o,a).recognize();return null===c?kw(new NN):Ve(c)}catch(c){return kw(c)}}(e,t,a.urlAfterRedirects,n(a.urlAfterRedirects),r,o).pipe(et(c=>Object.assign(Object.assign({},a),{targetSnapshot:c}))))}(this.rootComponentType,this.config,b=>this.serializeUrl(b),this.paramsInheritanceStrategy,this.relativeLinkResolution),wr(b=>{if("eager"===this.urlUpdateStrategy){if(!b.extras.skipLocationChange){const T=this.urlHandlingStrategy.merge(b.urlAfterRedirects,b.rawUrl);this.setBrowserUrl(T,b)}this.browserUrlTree=b.urlAfterRedirects}const E=new fO(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);r.next(E)}));if(m&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:E,extractedUrl:T,source:k,restoredState:H,extras:q}=d,J=new _m(E,this.serializeUrl(T),k,H);r.next(J);const B=vw(T,this.rootComponentType).snapshot;return Ve(Object.assign(Object.assign({},d),{targetSnapshot:B,urlAfterRedirects:T,extras:Object.assign(Object.assign({},q),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=d.rawUrl,d.resolve(null),Il}),Fm(d=>{const{targetSnapshot:p,id:m,extractedUrl:_,rawUrl:b,extras:{skipLocationChange:E,replaceUrl:T}}=d;return this.hooks.beforePreactivation(p,{navigationId:m,appliedUrlTree:_,rawUrlTree:b,skipLocationChange:!!E,replaceUrl:!!T})}),wr(d=>{const p=new dO(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(p)}),et(d=>Object.assign(Object.assign({},d),{guards:CN(d.targetSnapshot,d.currentSnapshot,this.rootContexts)})),function SN(e,t){return Vt(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:a,canDeactivateChecks:c}}=n;return 0===c.length&&0===a.length?Ve(Object.assign(Object.assign({},n),{guardsResult:!0})):function MN(e,t,n,r){return tn(e).pipe(Vt(o=>function ON(e,t,n,r,o){const a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return a&&0!==a.length?Ve(a.map(d=>{const p=Qd(d,t,o);let m;if(function oN(e){return e&&ls(e.canDeactivate)}(p))m=Wi(p.canDeactivate(e,t,n,r));else{if(!ls(p))throw new Error("Invalid CanDeactivate guard");m=Wi(p(e,t,n,r))}return m.pipe(Rl())})).pipe(vc()):Ve(!0)}(o.component,o.route,n,t,r)),Rl(o=>!0!==o,!0))}(c,r,o,e).pipe(Vt(d=>d&&function tN(e){return"boolean"==typeof e}(d)?function xN(e,t,n,r){return tn(t).pipe(cc(o=>gm(function AN(e,t){return null!==e&&t&&t(new mO(e)),Ve(!0)}(o.route.parent,r),function TN(e,t){return null!==e&&t&&t(new yO(e)),Ve(!0)}(o.route,r),function RN(e,t,n){const r=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(c=>function bN(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(c)).filter(c=>null!==c).map(c=>Gb(()=>Ve(c.guards.map(p=>{const m=Qd(p,c.node,n);let _;if(function iN(e){return e&&ls(e.canActivateChild)}(m))_=Wi(m.canActivateChild(r,e));else{if(!ls(m))throw new Error("Invalid CanActivateChild guard");_=Wi(m(r,e))}return _.pipe(Rl())})).pipe(vc())));return Ve(a).pipe(vc())}(e,o.path,n),function IN(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Ve(!0);const o=r.map(a=>Gb(()=>{const c=Qd(a,t,n);let d;if(function rN(e){return e&&ls(e.canActivate)}(c))d=Wi(c.canActivate(t,e));else{if(!ls(c))throw new Error("Invalid CanActivate guard");d=Wi(c(t,e))}return d.pipe(Rl())}));return Ve(o).pipe(vc())}(e,o.route,n))),Rl(o=>!0!==o,!0))}(r,a,e,t):Ve(d)),et(d=>Object.assign(Object.assign({},n),{guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),wr(d=>{if(ca(d.guardsResult)){const m=Cm(`Redirecting to "${this.serializeUrl(d.guardsResult)}"`);throw m.url=d.guardsResult,m}const p=new hO(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(p)}),sa(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,""),!1)),Fm(d=>{if(d.guards.canActivateChecks.length)return Ve(d).pipe(wr(p=>{const m=new pO(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(m)}),ss(p=>{let m=!1;return Ve(p).pipe(function HN(e,t){return Vt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return Ve(n);let a=0;return tn(o).pipe(cc(c=>function UN(e,t,n,r){return function jN(e,t,n,r){const o=Object.keys(e);if(0===o.length)return Ve({});const a={};return tn(o).pipe(Vt(c=>function WN(e,t,n,r){const o=Qd(e,t,r);return Wi(o.resolve?o.resolve(t,n):o(t,n))}(e[c],t,n,r).pipe(wr(d=>{a[c]=d}))),ym(1),Vt(()=>Object.keys(a).length===o.length?Ve(a):Il))}(e._resolve,e,t,r).pipe(et(a=>(e._resolvedData=a,e.data=Object.assign(Object.assign({},e.data),yw(e,n).resolve),null)))}(c.route,r,e,t)),wr(()=>a++),ym(1),Vt(c=>a===o.length?Ve(n):Il))})}(this.paramsInheritanceStrategy,this.ngModule.injector),wr({next:()=>m=!0,complete:()=>{m||(this.restoreHistory(p),this.cancelNavigationTransition(p,"At least one route resolver didn't emit any value."))}}))}),wr(p=>{const m=new gO(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(m)}))}),Fm(d=>{const{targetSnapshot:p,id:m,extractedUrl:_,rawUrl:b,extras:{skipLocationChange:E,replaceUrl:T}}=d;return this.hooks.afterPreactivation(p,{navigationId:m,appliedUrlTree:_,rawUrlTree:b,skipLocationChange:!!E,replaceUrl:!!T})}),et(d=>{const p=function jO(e,t,n){const r=pc(e,t._root,n?n._root:void 0);return new mw(r,t)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return Object.assign(Object.assign({},d),{targetRouterState:p})}),wr(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((e,t,n)=>et(r=>(new JO(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),wr({next(){a=!0},complete(){a=!0}}),function aO(e){return t=>t.lift(new lO(e))}(()=>{var d;a||c||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(d=this.currentNavigation)||void 0===d?void 0:d.id)===o.id&&(this.currentNavigation=null)}),aa(d=>{if(c=!0,function bO(e){return e&&e[tw]}(d)){const p=ca(d.url);p||(this.navigated=!0,this.restoreHistory(o,!0));const m=new Qb(o.id,this.serializeUrl(o.extractedUrl),d.message);r.next(m),p?setTimeout(()=>{const _=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),b={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Xd(o.source)};this.scheduleNavigation(_,"imperative",null,b,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const p=new cO(o.id,this.serializeUrl(o.extractedUrl),d);r.next(p);try{o.resolve(this.errorHandler(d))}catch(m){o.reject(m)}}return Il}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const a={replaceUrl:!0},c=(null===(o=n.state)||void 0===o?void 0:o.navigationId)?n.state:null;if(c){const p=Object.assign({},c);delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(a.state=p)}const d=this.parseUrl(n.url);this.scheduleNavigation(d,r,c,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){xw(n),this.config=n.map(Om),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:o,queryParams:a,fragment:c,queryParamsHandling:d,preserveFragment:p}=r,m=o||this.routerState.root,_=p?this.currentUrlTree.fragment:c;let b=null;switch(d){case"merge":b=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=a||null}return null!==b&&(b=this.removeEmptyProps(b)),function $O(e,t,n,r,o){if(0===n.length)return xm(t.root,t.root,t,r,o);const a=function GO(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new ww(!0,0,e);let t=0,n=!1;const r=e.reduce((o,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const d={};return Rn(a.outlets,(p,m)=>{d[m]="string"==typeof p?p.split("/"):p}),[...o,{outlets:d}]}if(a.segmentPath)return[...o,a.segmentPath]}return"string"!=typeof a?[...o,a]:0===c?(a.split("/").forEach((d,p)=>{0==p&&"."===d||(0==p&&""===d?n=!0:".."===d?t++:""!=d&&o.push(d))}),o):[...o,a]},[]);return new ww(n,t,r)}(n);if(a.toRoot())return xm(t.root,new Ye([],{}),t,r,o);const c=function qO(e,t,n){if(e.isAbsolute)return new Tm(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const a=n.snapshot._urlSegment;return new Tm(a,a===t.root,0)}const r=zd(e.commands[0])?0:1;return function ZO(e,t,n){let r=e,o=t,a=n;for(;a>o;){if(a-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new Tm(r,!1,o-a)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(a,t,e),d=c.processChildren?$d(c.segmentGroup,c.index,a.commands):Dw(c.segmentGroup,c.index,a.commands);return xm(c.segmentGroup,d,t,r,o)}(m,this.currentUrlTree,n,b,null!=_?_:null)}navigateByUrl(n,r={skipLocationChange:!1}){const o=ca(n)?n:this.parseUrl(n),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function JN(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,n)}return r}isActive(n,r){let o;if(o=!0===r?Object.assign({},QN):!1===r?Object.assign({},XN):r,ca(n))return sw(this.currentUrlTree,n,o);const a=this.parseUrl(n);return sw(this.currentUrlTree,a,o)}removeEmptyProps(n){return Object.keys(n).reduce((r,o)=>{const a=n[o];return null!=a&&(r[o]=a),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new fc(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,o,a,c){var d,p,m;if(this.disposed)return Promise.resolve(!1);const _=this.transitions.value,b=Xd(r)&&_&&!Xd(_.source),E=_.rawUrl.toString()===n.toString(),T=_.id===(null===(d=this.currentNavigation)||void 0===d?void 0:d.id);if(b&&E&&T)return Promise.resolve(!0);let H,q,J;c?(H=c.resolve,q=c.reject,J=c.promise):J=new Promise((xe,Je)=>{H=xe,q=Je});const B=++this.navigationId;let se;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),se=o&&o.\u0275routerPageId?o.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(p=this.browserPageId)&&void 0!==p?p:0:(null!==(m=this.browserPageId)&&void 0!==m?m:0)+1):se=0,this.setTransition({id:B,targetPageId:se,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:a,resolve:H,reject:q,promise:J,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),J.catch(xe=>Promise.reject(xe))}setBrowserUrl(n,r){const o=this.urlSerializer.serialize(n),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",a):this.location.go(o,"",a)}restoreHistory(n,r=!1){var o,a;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===c?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===c&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const o=new Qb(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(o),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){og()},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})();function Xd(e){return"imperative"!==e}class Ww{}class zw{preload(t,n){return Ve(null)}}let $w=(()=>{class e{constructor(n,r,o,a){this.router=n,this.injector=o,this.preloadingStrategy=a,this.loader=new Uw(o,r,p=>n.triggerEvent(new Xb(p)),p=>n.triggerEvent(new Jb(p)))}setUpPreloading(){this.subscription=this.router.events.pipe(sa(n=>n instanceof fc),cc(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(mo);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const o=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const c=a._loadedConfig;o.push(this.processRoutes(c.module,c.routes))}else a.loadChildren&&!a.canLoad?o.push(this.preloadConfig(n,a)):a.children&&o.push(this.processRoutes(n,a.children));return tn(o).pipe($i(),et(a=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Ve(r._loadedConfig):this.loader.load(n.injector,r)).pipe(Vt(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return e.\u0275fac=function(n){return new(n||e)(fe(Dr),fe(yd),fe(Vn),fe(Ww))},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})(),Vm=(()=>{class e{constructor(n,r,o={}){this.router=n,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof _m?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof fc&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof ew&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new ew(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(n){og()},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})();const fa=new Le("ROUTER_CONFIGURATION"),Gw=new Le("ROUTER_FORROOT_GUARD"),rF=[Zg,{provide:cw,useClass:fw},{provide:Dr,useFactory:function lF(e,t,n,r,o,a,c={},d,p){const m=new Dr(null,e,t,n,r,o,rw(a));return d&&(m.urlHandlingStrategy=d),p&&(m.routeReuseStrategy=p),function uF(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy),e.canceledNavigationResolution&&(t.canceledNavigationResolution=e.canceledNavigationResolution)}(c,m),c.enableTracing&&m.events.subscribe(_=>{var b,E;null===(b=console.group)||void 0===b||b.call(console,`Router Event: ${_.constructor.name}`),console.log(_.toString()),console.log(_),null===(E=console.groupEnd)||void 0===E||E.call(console)}),m},deps:[cw,yc,Zg,Vn,yd,km,fa,[class qN{},new Or],[class zN{},new Or]]},yc,{provide:Fl,useFactory:function cF(e){return e.routerState.root},deps:[Dr]},$w,zw,class nF{preload(t,n){return n().pipe(aa(()=>Ve(null)))}},{provide:fa,useValue:{enableTracing:!1}}];function iF(){return new G0("Router",Dr)}let qw=(()=>{class e{constructor(n,r){}static forRoot(n,r){return{ngModule:e,providers:[rF,Zw(n),{provide:Gw,useFactory:aF,deps:[[Dr,new Or,new Nr]]},{provide:fa,useValue:r||{}},{provide:Al,useFactory:sF,deps:[oa,[new Ni(qg),new Or],fa]},{provide:Vm,useFactory:oF,deps:[Dr,YI,fa]},{provide:Ww,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:zw},{provide:G0,multi:!0,useFactory:iF},[Bm,{provide:md,multi:!0,useFactory:fF,deps:[Bm]},{provide:Kw,useFactory:dF,deps:[Bm]},{provide:B0,multi:!0,useExisting:Kw}]]}}static forChild(n){return{ngModule:e,providers:[Zw(n)]}}}return e.\u0275fac=function(n){return new(n||e)(fe(Gw,8),fe(Dr,8))},e.\u0275mod=rn({type:e}),e.\u0275inj=$t({}),e})();function oF(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Vm(e,t,n)}function sF(e,t,n={}){return n.useHash?new OA(e,t):new pb(e,t)}function aF(e){return"guarded"}function Zw(e){return[{provide:Df,multi:!0,useValue:e},{provide:km,multi:!0,useValue:e}]}let Bm=(()=>{class e{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ht}appInitializer(){return this.injector.get(AA,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(d=>r=d),a=this.injector.get(Dr),c=this.injector.get(fa);return"disabled"===c.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?Ve(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),o})}bootstrapListener(n){const r=this.injector.get(fa),o=this.injector.get($w),a=this.injector.get(Vm),c=this.injector.get(Dr),d=this.injector.get(ic);n===d.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&c.initialNavigation(),o.setUpPreloading(),a.init(),c.resetRootComponentType(d.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(n){return new(n||e)(fe(Vn))},e.\u0275prov=Te({token:e,factory:e.\u0275fac}),e})();function fF(e){return e.appInitializer.bind(e)}function dF(e){return e.bootstrapListener.bind(e)}const Kw=new Le("Router Initializer");let pF=(()=>{class e{constructor(){this.title="ngx-text-diff-app"}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=wi({type:e,selectors:[["tda-root"]],decls:1,vars:0,template:function(n,r){1&n&&Xt(0,"router-outlet")},directives:[Rm],styles:[""]}),e})(),gF=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=rn({type:e}),e.\u0275inj=$t({imports:[[am]]}),e})();function Jd(e,t){return new de(n=>{const r=e.length;if(0===r)return void n.complete();const o=new Array(r);let a=0,c=0;for(let d=0;d<r;d++){const p=tn(e[d]);let m=!1;n.add(p.subscribe({next:_=>{m||(m=!0,c++),o[d]=_},error:_=>n.error(_),complete:()=>{a++,(a===r||!m)&&(c===r&&n.next(t?t.reduce((_,b,E)=>(_[b]=o[E],_),{}):o),n.complete())}}))}})}let Yw=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return e.\u0275fac=function(n){return new(n||e)(G(go),G(Hn))},e.\u0275dir=he({type:e}),e})(),da=(()=>{class e extends Yw{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Ln(e)))(r||e)}}(),e.\u0275dir=he({type:e,features:[Dt]}),e})();const pi=new Le("NgValueAccessor"),vF={provide:pi,useExisting:rt(()=>Hm),multi:!0};let Hm=(()=>{class e extends da{writeValue(n){this.setProperty("checked",n)}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Ln(e)))(r||e)}}(),e.\u0275dir=he({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,r){1&n&&gn("change",function(a){return r.onChange(a.target.checked)})("blur",function(){return r.onTouched()})},features:[Tt([vF]),Dt]}),e})();const yF={provide:pi,useExisting:rt(()=>Um),multi:!0},CF=new Le("CompositionEventMode");let Um=(()=>{class e extends Yw{constructor(n,r,o){super(n,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function _F(){const e=Ui()?Ui().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return e.\u0275fac=function(n){return new(n||e)(G(go),G(Hn),G(CF,8))},e.\u0275dir=he({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&gn("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[Tt([yF]),Dt]}),e})();const Un=new Le("NgValidators"),cs=new Le("NgAsyncValidators");function sD(e){return null!=e}function aD(e){const t=Wu(e)?tn(e):e;return ag(t),t}function lD(e){let t={};return e.forEach(n=>{t=null!=n?Object.assign(Object.assign({},t),n):t}),0===Object.keys(t).length?null:t}function uD(e,t){return t.map(n=>n(e))}function cD(e){return e.map(t=>function wF(e){return!e.validate}(t)?t:n=>t.validate(n))}function jm(e){return null!=e?function fD(e){if(!e)return null;const t=e.filter(sD);return 0==t.length?null:function(n){return lD(uD(n,t))}}(cD(e)):null}function Wm(e){return null!=e?function dD(e){if(!e)return null;const t=e.filter(sD);return 0==t.length?null:function(n){return function mF(...e){if(1===e.length){const t=e[0];if(A(t))return Jd(t,null);if(R(t)&&Object.getPrototypeOf(t)===Object.prototype){const n=Object.keys(t);return Jd(n.map(r=>t[r]),n)}}if("function"==typeof e[e.length-1]){const t=e.pop();return Jd(e=1===e.length&&A(e[0])?e[0]:e,null).pipe(et(n=>t(...n)))}return Jd(e,null)}(uD(n,t).map(aD)).pipe(et(lD))}}(cD(e)):null}function hD(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function zm(e){return e?Array.isArray(e)?e:[e]:[]}function eh(e,t){return Array.isArray(e)?e.includes(t):e===t}function mD(e,t){const n=zm(t);return zm(e).forEach(o=>{eh(n,o)||n.push(o)}),n}function vD(e,t){return zm(t).filter(n=>!eh(e,n))}class yD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=jm(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Wm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class fs extends yD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Yn extends yD{get formDirective(){return null}get path(){return null}}class _D{constructor(t){this._cd=t}is(t){var n,r,o;return"submitted"===t?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[t])}}let $m=(()=>{class e extends _D{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(G(fs,2))},e.\u0275dir=he({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&id("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[Dt]}),e})(),CD=(()=>{class e extends _D{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(G(Yn,10))},e.\u0275dir=he({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&id("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[Dt]}),e})();function Dc(e,t){Zm(e,t),t.valueAccessor.writeValue(e.value),function IF(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&wD(e,t)})}(e,t),function OF(e,t){const n=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function RF(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&wD(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function AF(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function ih(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Zm(e,t){const n=function pD(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(hD(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function gD(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(hD(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const o=()=>e.updateValueAndValidity();ih(t._rawValidators,o),ih(t._rawAsyncValidators,o)}function wD(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function sh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ec="VALID",ah="INVALID",Pl="PENDING",Sc="DISABLED";function Xm(e){return(ev(e)?e.validators:e)||null}function SD(e){return Array.isArray(e)?jm(e):e||null}function Jm(e,t){return(ev(t)?t.asyncValidators:e)||null}function MD(e){return Array.isArray(e)?Wm(e):e||null}function ev(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}const tv=e=>e instanceof rv;function TD(e){return(e=>e instanceof RD)(e)?e.value:e.getRawValue()}function AD(e,t){const n=tv(e),r=e.controls;if(!(n?Object.keys(r):r).length)throw new nn(1e3,"");if(!r[t])throw new nn(1001,"")}function ID(e,t){tv(e),e._forEachChild((r,o)=>{if(void 0===t[o])throw new nn(1002,"")})}class nv{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=SD(this._rawValidators),this._composedAsyncValidatorFn=MD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ec}get invalid(){return this.status===ah}get pending(){return this.status==Pl}get disabled(){return this.status===Sc}get enabled(){return this.status!==Sc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=SD(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=MD(t)}addValidators(t){this.setValidators(mD(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(mD(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(vD(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(vD(t,this._rawAsyncValidators))}hasValidator(t){return eh(this._rawValidators,t)}hasAsyncValidator(t){return eh(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Pl,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Sc,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Ec,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ec||this.status===Pl)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sc:Ec}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Pl,this._hasOwnPendingAsyncValidator=!0;const n=aD(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){return function PF(e,t,n){if(null==t||(Array.isArray(t)||(t=t.split(n)),Array.isArray(t)&&0===t.length))return null;let r=e;return t.forEach(o=>{r=tv(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:(e=>e instanceof VF)(r)&&r.at(o)||null}),r}(this,t,".")}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new bt,this.statusChanges=new bt}_calculateStatus(){return this._allControlsDisabled()?Sc:this.errors?ah:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pl)?Pl:this._anyControlsHaveStatus(ah)?ah:Ec}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ev(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class RD extends nv{constructor(t=null,n,r){super(Xm(n),Jm(r,n)),this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=null,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){sh(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){sh(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class rv extends nv{constructor(t,n,r){super(Xm(n),Jm(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){ID(this,t),Object.keys(t).forEach(r=>{AD(this,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=TD(n),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const n of Object.keys(this.controls)){const r=this.controls[n];if(this.contains(n)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,n,r)=>((n.enabled||this.disabled)&&(t[r]=n.value),t))}_reduceChildren(t,n){let r=t;return this._forEachChild((o,a)=>{r=n(r,o,a)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class VF extends nv{constructor(t,n,r){super(Xm(n),Jm(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),n&&(this.controls.splice(t,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){ID(this,t),t.forEach((r,o)=>{AD(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(t.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>TD(t))}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const BF={provide:Yn,useExisting:rt(()=>lh)},Mc=(()=>Promise.resolve(null))();let lh=(()=>{class e extends Yn{constructor(n,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new bt,this.form=new rv({},jm(n),Wm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Mc.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Dc(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Mc.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),sh(this._directives,n)})}addFormGroup(n){Mc.then(()=>{const r=this._findContainer(n.path),o=new rv({});(function DD(e,t){Zm(e,t)})(o,n),r.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Mc.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Mc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function ED(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return e.\u0275fac=function(n){return new(n||e)(G(Un,10),G(cs,10))},e.\u0275dir=he({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&gn("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Tt([BF]),Dt]}),e})();const UF={provide:fs,useExisting:rt(()=>uh)},FD=(()=>Promise.resolve(null))();let uh=(()=>{class e extends fs{constructor(n,r,o,a){super(),this.control=new RD,this._registered=!1,this.update=new bt,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function Ym(e,t){if(!t)return null;let n,r,o;return Array.isArray(t),t.forEach(a=>{a.constructor===Um?n=a:function kF(e){return Object.getPrototypeOf(e.constructor)===da}(a)?r=a:o=a}),o||r||n||null}(0,a)}ngOnChanges(n){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in n&&this._updateDisabled(n),function Km(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function nh(e,t){return[...t.path,e]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Dc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){FD.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1})})}_updateDisabled(n){const r=n.isDisabled.currentValue,o=""===r||r&&"false"!==r;FD.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(n){return new(n||e)(G(Yn,9),G(Un,10),G(cs,10),G(pi,10))},e.\u0275dir=he({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Tt([UF]),Dt,Fn]}),e})(),kD=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=he({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),LD=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=rn({type:e}),e.\u0275inj=$t({}),e})(),fk=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=rn({type:e}),e.\u0275inj=$t({imports:[[LD]]}),e})(),tE=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=rn({type:e}),e.\u0275inj=$t({imports:[fk]}),e})();const dk=["ref"];function nE(e){return e&&e.replace(/\r\n|\r/g,"\n")}let hk=(()=>{class e{constructor(n,r){this._differs=n,this._ngZone=r,this.className="",this.name="codemirror",this.autoFocus=!1,this.preserveScrollPosition=!1,this.cursorActivity=new bt,this.focusChange=new bt,this.scroll=new bt,this.value="",this.disabled=!1,this.isFocused=!1,this.onChange=o=>{},this.onTouched=()=>{}}set options(n){this._options=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngAfterViewInit(){if(!this.ref)return;const{fromTextArea:n}=Ze(266);this._ngZone.runOutsideAngular(()=>{this.codeMirror=n(this.ref.nativeElement,this._options),this.codeMirror.on("cursorActivity",r=>this._ngZone.run(()=>this.cursorActive(r))),this.codeMirror.on("scroll",this.scrollChanged.bind(this)),this.codeMirror.on("blur",()=>this._ngZone.run(()=>this.focusChanged(!1))),this.codeMirror.on("focus",()=>this._ngZone.run(()=>this.focusChanged(!0))),this.codeMirror.on("change",(r,o)=>this._ngZone.run(()=>this.codemirrorValueChanged(r,o))),this.codeMirror.setValue(this.value)})}ngOnDestroy(){this.codeMirror&&this.codeMirror.toTextArea()}codemirrorValueChanged(n,r){"setValue"!==r.origin&&(this.value=n.getValue(),this.onChange(this.value))}setOptionIfChanged(n,r){!this.codeMirror||this.codeMirror.setOption(n,r)}focusChanged(n){this.onTouched(),this.isFocused=n,this.focusChange.emit(n)}scrollChanged(n){this.scroll.emit(n.getScrollInfo())}cursorActive(n){this.cursorActivity.emit(n)}writeValue(n){if(null==n)return;if(!this.codeMirror)return void(this.value=n);const r=this.codeMirror.getValue();if(n!==r&&nE(r)!==nE(n))if(this.value=n,this.preserveScrollPosition){const o=this.codeMirror.getScrollInfo();this.codeMirror.setValue(this.value),this.codeMirror.scrollTo(o.left,o.top)}else this.codeMirror.setValue(this.value)}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.disabled=n,this.setOptionIfChanged("readOnly",this.disabled)}}return e.\u0275fac=function(n){return new(n||e)(G(ia),G(Wt))},e.\u0275cmp=wi({type:e,selectors:[["tda-code-editor"]],viewQuery:function(n,r){if(1&n&&Tg(dk,7),2&n){let o;ec(o=tc())&&(r.ref=o.first)}},inputs:{className:"className",name:"name",autoFocus:"autoFocus",options:"options",preserveScrollPosition:"preserveScrollPosition"},outputs:{cursorActivity:"cursorActivity",focusChange:"focusChange",scroll:"scroll"},features:[Tt([{provide:pi,useExisting:rt(()=>e),multi:!0}])],decls:2,vars:5,consts:[["autocomplete","off",3,"name","autofocus"],["ref",""]],template:function(n,r){1&n&&Xt(0,"textarea",0,1),2&n&&(J_(r.className),ge("name",r.name)("autofocus",r.autoFocus))},encapsulation:2,changeDetection:0}),e})();var fh=Ze(969);const cv=e=>null==e||!(Object.keys(e)||e).length||0===(Object.keys(e)||e).length;let pk=(()=>{class e{constructor(){this.initParser()}initParser(){this.diffParser=new fh.diff_match_patch}getDiffsByLines(n,r){return new Promise((o,a)=>{const c=this.diffParser.diff_linesToChars_(n,r),m=c.lineArray,_=this.diffParser.diff_main(c.chars1,c.chars2,!0);this.diffParser.diff_charsToLines_(_,m);const b=this.formatOutput(_);b||a("Error"),o(b)})}formatOutput(n){let r=1,o=1;return n.reduce((a,c)=>{a||(a=[]);const p=c[1];let m=null,_=null,b=null,E=null,T=null;switch(c[0]){case fh.DIFF_EQUAL:p.split("\n").filter((k,H,q)=>H!==q.length-1||!cv(k)).forEach(k=>{b={lineNumber:r,lineContent:k,lineDiffs:[],prefix:""},E={lineNumber:o,lineContent:k,lineDiffs:[],prefix:""},T={leftContent:b,rightContent:E,belongTo:"both",hasDiffs:!1,numDiffs:0},a.push(T),o+=1,r+=1});break;case fh.DIFF_DELETE:p.split("\n").filter((k,H,q)=>H!==q.length-1||!cv(k)).forEach(k=>{_=a.find(H=>!H.leftContent&&H.rightContent&&H.rightContent.lineNumber===r&&""!==H.rightContent.prefix),b={lineNumber:r,lineContent:k,lineDiffs:[{content:k,isDiff:!0}],prefix:"-"},_?(_.leftContent=b,_.leftContent.lineDiffs=this.getDiffParts(_.leftContent.lineContent,_.rightContent.lineContent),_.rightContent.lineDiffs=this.getDiffParts(_.rightContent.lineContent,_.leftContent.lineContent),_.belongTo="both",_.numDiffs=this.countDiffs(_)):a.push({leftContent:b,rightContent:null,hasDiffs:!0,belongTo:"left",numDiffs:1}),r+=1});break;case fh.DIFF_INSERT:p.split("\n").filter((k,H,q)=>H!==q.length-1||!cv(k)).forEach(k=>{m=a.find(H=>H.leftContent&&!H.rightContent&&H.leftContent.lineNumber===o&&""!==H.leftContent.prefix),E={lineNumber:o,lineContent:k,lineDiffs:[{content:k,isDiff:!0}],prefix:"+"},m?(m.rightContent=E,m.leftContent.lineDiffs=this.getDiffParts(m.leftContent.lineContent,m.rightContent.lineContent),m.rightContent.lineDiffs=this.getDiffParts(m.rightContent.lineContent,m.leftContent.lineContent),m.belongTo="both",m.numDiffs=this.countDiffs(m)):a.push({leftContent:null,rightContent:E,hasDiffs:!0,belongTo:"right",numDiffs:1}),o+=1})}return a},[])}countDiffs(n){let r=0;return n.leftContent&&(r+=n.leftContent.lineDiffs.filter(o=>o.isDiff).length),n.leftContent&&(r+=n.rightContent.lineDiffs.filter(o=>o.isDiff).length),r}getDiffParts(n,r){const o=[];let a=0,c=0,d="",p="";for(;a<n.length;)n[a]===r[c]&&c<r.length?(""!==p&&(o.push({content:p,isDiff:!0}),p=""),d+=n[a]):(""!==d&&(o.push({content:d,isDiff:!1}),d=""),p+=n[a]),a++,c++;return""!==p?o.push({content:p,isDiff:!0}):""!==d&&o.push({content:d,isDiff:!1}),o}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),rE=(()=>{class e{constructor(n){this._el=n,this.element=n.nativeElement}}return e.\u0275fac=function(n){return new(n||e)(G(Hn))},e.\u0275dir=he({type:e,selectors:[["","tdContainer",""]],inputs:{id:"id"}}),e})();function fv(e,t,n,r){return Ne(n)&&(r=n,n=void 0),r?fv(e,t,n).pipe(et(o=>A(o)?r(...o):r(o))):new de(o=>{iE(e,t,function a(c){o.next(arguments.length>1?Array.prototype.slice.call(arguments):c)},o,n)})}function iE(e,t,n,r,o){let a;if(function _k(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const c=e;e.addEventListener(t,n,o),a=()=>c.removeEventListener(t,n,o)}else if(function yk(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const c=e;e.on(t,n),a=()=>c.off(t,n)}else if(function vk(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const c=e;e.addListener(t,n),a=()=>c.removeListener(t,n)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let c=0,d=e.length;c<d;c++)iE(e[c],t,n,r,o)}r.add(a)}class Ck extends P{constructor(t,n){super()}schedule(t,n=0){return this}}class dv extends Ck{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return n;clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let o,r=!1;try{this.work(t)}catch(a){r=!0,o=!!a&&a||new Error(a)}if(r)return this.unsubscribe(),o}_unsubscribe(){const t=this.id,n=this.scheduler,r=n.actions,o=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==o&&r.splice(o,1),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null}}let oE=(()=>{class e{constructor(n,r=e.now){this.SchedulerAction=n,this.now=r}schedule(n,r=0,o){return new this.SchedulerAction(this,n).schedule(o,r)}}return e.now=()=>Date.now(),e})();class zi extends oE{constructor(t,n=oE.now){super(t,()=>zi.delegate&&zi.delegate!==this?zi.delegate.now():n()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,n=0,r){return zi.delegate&&zi.delegate!==this?zi.delegate.schedule(t,n,r):super.schedule(t,n,r)}flush(t){const{actions:n}=this;if(this.active)return void n.push(t);let r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this.active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}new class wk extends zi{flush(t){this.active=!0,this.scheduled=void 0;const{actions:n}=this;let r,o=-1,a=n.length;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while(++o<a&&(t=n.shift()));if(this.active=!1,r){for(;++o<a&&(t=n.shift());)t.unsubscribe();throw r}}}(class bk extends dv{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}requestAsyncId(t,n,r=0){return null!==r&&r>0?super.requestAsyncId(t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,n,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)}});let Ek=1;const Sk=Promise.resolve(),dh={};function sE(e){return e in dh&&(delete dh[e],!0)}const aE={setImmediate(e){const t=Ek++;return dh[t]=!0,Sk.then(()=>sE(t)&&e()),t},clearImmediate(e){sE(e)}},lE=(new class xk extends zi{flush(t){this.active=!0,this.scheduled=void 0;const{actions:n}=this;let r,o=-1,a=n.length;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while(++o<a&&(t=n.shift()));if(this.active=!1,r){for(;++o<a&&(t=n.shift());)t.unsubscribe();throw r}}}(class Mk extends dv{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}requestAsyncId(t,n,r=0){return null!==r&&r>0?super.requestAsyncId(t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=aE.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,n,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(t,n,r);0===t.actions.length&&(aE.clearImmediate(n),t.scheduled=void 0)}}),new zi(dv));class Ik{constructor(t){this.durationSelector=t}call(t,n){return n.subscribe(new Rk(t,this.durationSelector))}}class Rk extends yi{constructor(t,n){super(t),this.durationSelector=n,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:o}=this;n=o(t)}catch(o){return this.destination.error(o)}const r=En(this,n);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:n,throttled:r}=this;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),n&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,n,r,o){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function uE(e){return!A(e)&&e-parseFloat(e)+1>=0}function Nk(e){const{index:t,period:n,subscriber:r}=e;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}class Pk{constructor(t){this.notifier=t}call(t,n){const r=new Lk(t),o=En(r,this.notifier);return o&&!r.seenValue?(r.add(o),n.subscribe(r)):r}}class Lk extends yi{constructor(t){super(t),this.seenValue=!1}notifyNext(t,n,r,o,a){this.seenValue=!0,this.complete()}notifyComplete(){}}let hv;try{hv="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(e){hv=!1}let hh,ha,Vk=(()=>{class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?function KI(e){return e===Rb}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!hv)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(n){return new(n||e)(fe(vd))},e.\u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Bk=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=rn({type:e}),e.\u0275inj=$t({}),e})();function Tc(){if("object"!=typeof document||!document)return 0;if(null==hh){const e=document.createElement("div"),t=e.style;e.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",e.appendChild(n),document.body.appendChild(e),hh=0,0===e.scrollLeft&&(e.scrollLeft=1,hh=0===e.scrollLeft?1:2),e.remove()}return hh}const Wk=new Le("cdk-dir-doc",{providedIn:"root",factory:function zk(){return Du(lr)}}),$k=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let qk=(()=>{class e{constructor(n){if(this.value="ltr",this.change=new bt,n){const o=n.documentElement?n.documentElement.dir:null;this.value=function Gk(e){const t=(null==e?void 0:e.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?$k.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((n.body?n.body.dir:null)||o||"ltr")}}ngOnDestroy(){this.change.complete()}}return e.\u0275fac=function(n){return new(n||e)(fe(Wk,8))},e.\u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),fE=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=rn({type:e}),e.\u0275inj=$t({}),e})(),dE=(()=>{class e{constructor(n,r,o){this._ngZone=n,this._platform=r,this._scrolled=new ht,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){const r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=20){return this._platform.isBrowser?new de(r=>{this._globalSubscription||this._addGlobalListener();const o=n>0?this._scrolled.pipe(function Fk(e,t=lE){return function Ak(e){return function(n){return n.lift(new Ik(e))}}(()=>function Ok(e=0,t,n){let r=-1;return uE(t)?r=Number(t)<1?1:Number(t):jn(t)&&(n=t),jn(n)||(n=lE),new de(o=>{const a=uE(e)?e:+e-n.now();return n.schedule(Nk,a,{index:0,period:r,subscriber:o})})}(e,t))}(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ve()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){const o=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe(sa(a=>!a||o.indexOf(a)>-1))}getAncestorScrollContainers(n){const r=[];return this.scrollContainers.forEach((o,a)=>{this._scrollableContainsElement(a,n)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,r){let o=function mk(e){return e instanceof Hn?e.nativeElement:e}(r),a=n.getElementRef().nativeElement;do{if(o==a)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>fv(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return e.\u0275fac=function(n){return new(n||e)(fe(Wt),fe(Vk),fe(lr,8))},e.\u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Kk=(()=>{class e{constructor(n,r,o,a){this.elementRef=n,this.scrollDispatcher=r,this.ngZone=o,this.dir=a,this._destroyed=new ht,this._elementScrolled=new de(c=>this.ngZone.runOutsideAngular(()=>fv(this.elementRef.nativeElement,"scroll").pipe(function kk(e){return t=>t.lift(new Pk(e))}(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(n){const r=this.elementRef.nativeElement,o=this.dir&&"rtl"==this.dir.value;null==n.left&&(n.left=o?n.end:n.start),null==n.right&&(n.right=o?n.start:n.end),null!=n.bottom&&(n.top=r.scrollHeight-r.clientHeight-n.bottom),o&&0!=Tc()?(null!=n.left&&(n.right=r.scrollWidth-r.clientWidth-n.left),2==Tc()?n.left=n.right:1==Tc()&&(n.left=n.right?-n.right:n.right)):null!=n.right&&(n.left=r.scrollWidth-r.clientWidth-n.right),this._applyScrollToOptions(n)}_applyScrollToOptions(n){const r=this.elementRef.nativeElement;!function Uk(){if(null==ha){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ha=!1,ha;if("scrollBehavior"in document.documentElement.style)ha=!0;else{const e=Element.prototype.scrollTo;ha=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return ha}()?(null!=n.top&&(r.scrollTop=n.top),null!=n.left&&(r.scrollLeft=n.left)):r.scrollTo(n)}measureScrollOffset(n){const r="left",o="right",a=this.elementRef.nativeElement;if("top"==n)return a.scrollTop;if("bottom"==n)return a.scrollHeight-a.clientHeight-a.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==n?n=c?o:r:"end"==n&&(n=c?r:o),c&&2==Tc()?n==r?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:c&&1==Tc()?n==r?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:n==r?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return e.\u0275fac=function(n){return new(n||e)(G(Hn),G(dE),G(Wt),G(qk,8))},e.\u0275dir=he({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),e})(),hE=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=rn({type:e}),e.\u0275inj=$t({}),e})(),Yk=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=rn({type:e}),e.\u0275inj=$t({imports:[[fE,Bk,hE],fE,hE]}),e})();function Qk(e,t){1&e&&(ue(0,"div",1),Xt(1,"div"),Xt(2,"div"),Xt(3,"div"),Xt(4,"div"),Xt(5,"div"),Xt(6,"div"),Xt(7,"div"),Xt(8,"div"),ce())}let Xk=(()=>{class e{constructor(){this.active=!1}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=wi({type:e,selectors:[["td-loader-spinner"]],inputs:{active:"active"},decls:1,vars:1,consts:[["class","td-loading-roller",4,"ngIf"],[1,"td-loading-roller"]],template:function(n,r){1&n&&Nt(0,Qk,9,0,"div",0),2&n&&ge("ngIf",r.active)},directives:[Od],styles:['.td-loading-roller[_ngcontent-%COMP%]{display:inline-block;position:relative;width:64px;height:64px}.td-loading-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{-webkit-animation:lds-roller 1.2s cubic-bezier(.5,0,.5,1) infinite;animation:lds-roller 1.2s cubic-bezier(.5,0,.5,1) infinite;transform-origin:32px 32px}.td-loading-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;width:6px;height:6px;border-radius:50%;background:#000;margin:-3px 0 0 -3px}.td-loading-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-36ms;animation-delay:-36ms}.td-loading-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1):after{top:50px;left:50px}.td-loading-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-72ms;animation-delay:-72ms}.td-loading-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2):after{top:54px;left:45px}.td-loading-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.108s;animation-delay:-.108s}.td-loading-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3):after{top:57px;left:39px}.td-loading-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.144s;animation-delay:-.144s}.td-loading-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4):after{top:58px;left:32px}.td-loading-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.18s;animation-delay:-.18s}.td-loading-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5):after{top:57px;left:25px}.td-loading-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-.216s;animation-delay:-.216s}.td-loading-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6):after{top:54px;left:19px}.td-loading-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-.252s;animation-delay:-.252s}.td-loading-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7):after{top:50px;left:14px}.td-loading-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-.288s;animation-delay:-.288s}.td-loading-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8):after{top:45px;left:10px}@-webkit-keyframes lds-roller{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes lds-roller{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']}),e})(),Jk=(()=>{class e{transform(n,r){return n?n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/ /g,"&nbsp;"):" "}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=Mn({name:"formatLine",type:e,pure:!0}),e})();function tP(e,t){if(1&e){const n=rd();ue(0,"div",9),ue(1,"div",10),ue(2,"label",11),sr(3),ue(4,"input",12),gn("ngModelChange",function(o){return eo(n),Pt(2).hideMatchingLinesChanged(o)}),ce(),Xt(5,"span",13),ce(),ce(),ce()}if(2&e){const n=Pt(2);ge("ngClass",n.toolbarClass)("ngStyle",n.toolbarStyle),Oe(3),ta(" Only Show Lines with Differences (",n.diffsCount,") "),Oe(1),ge("ngModel",n.hideMatchingLines)}}const nP=function(e,t){return{active:e,disabled:t}};function rP(e,t){if(1&e){const n=rd();ue(0,"button",17),gn("click",function(){const a=eo(n).$implicit;return Pt(3).setDiffTableFormat(a.value)}),sr(1),ce()}if(2&e){const n=t.$implicit,r=Pt(3);ge("ngClass",ar(5,nP,r.format===n.value,!!n.disabled))("name",n.name)("id",n.id)("disabled",!!n.disabled),Oe(1),ta(" ",n.label," ")}}function iP(e,t){if(1&e&&(ue(0,"div",14),ue(1,"div",15),Nt(2,rP,2,8,"button",16),ce(),ce()),2&e){const n=Pt(2);Oe(2),ge("ngForOf",n.formatOptions)}}const ph=function(e,t){return{"delete-row":e,"empty-row":t}};function oP(e,t){if(1&e&&(ue(0,"td",24),Xt(1,"span",25),ns(2,"formatLine"),ce()),2&e){const n=Pt().$implicit;ge("ngClass",ar(4,ph,"-"===(null==n.leftContent?null:n.leftContent.prefix),!(null!=n.leftContent&&n.leftContent.lineContent))),Oe(1),ge("innerHTML",rs(2,2,null==n.leftContent?null:n.leftContent.lineContent),$)}}const gh=function(e){return{highlight:e}};function sP(e,t){if(1&e&&(Xt(0,"span",27),ns(1,"formatLine")),2&e){const n=t.$implicit;ge("innerHTML",rs(1,2,n.content),$)("ngClass",Qu(4,gh,n.isDiff))}}function aP(e,t){if(1&e&&(ue(0,"td",24),Nt(1,sP,2,6,"span",26),ce()),2&e){const n=Pt().$implicit,r=Pt(3);ge("ngClass",ar(3,ph,"-"===(null==n.leftContent?null:n.leftContent.prefix),!(null!=n.leftContent&&n.leftContent.lineContent))),Oe(1),ge("ngForOf",null==n.leftContent?null:n.leftContent.lineDiffs)("ngForTrackBy",r.trackDiffs)}}function lP(e,t){if(1&e&&(ue(0,"tr"),ue(1,"td",21),sr(2),ce(),ue(3,"td",22),ue(4,"span"),sr(5),ce(),ce(),Nt(6,oP,3,7,"td",23),Nt(7,aP,2,6,"td",23),ce()),2&e){const n=t.$implicit;Oe(1),ge("ngClass",ar(6,ph,"-"===(null==n.leftContent?null:n.leftContent.prefix),!(null!=n.leftContent&&n.leftContent.lineContent))),Oe(1),ta(" ",-1!==(null==n.leftContent?null:n.leftContent.lineNumber)?null==n.leftContent?null:n.leftContent.lineNumber:" "," "),Oe(1),ge("ngClass",ar(9,ph,"-"===(null==n.leftContent?null:n.leftContent.prefix),!(null!=n.leftContent&&n.leftContent.lineContent))),Oe(2),ea((null==n.leftContent?null:n.leftContent.prefix)||" "),Oe(1),ge("ngIf",!n.hasDiffs),Oe(1),ge("ngIf",n.hasDiffs)}}function uP(e,t){if(1&e&&(ue(0,"div",18),ue(1,"table",19),ue(2,"tbody"),Nt(3,lP,8,12,"tr",20),ce(),ce(),ce()),2&e){const n=Pt(2);Oe(3),ge("ngForOf",n.filteredTableRows)("ngForTrackBy",n.trackTableRows)}}const mh=function(e,t){return{"insert-row":e,"empty-row":t}};function cP(e,t){if(1&e&&(ue(0,"td",24),Xt(1,"span",25),ns(2,"formatLine"),ce()),2&e){const n=Pt().$implicit;ge("ngClass",ar(4,mh,"+"===(null==n.rightContent?null:n.rightContent.prefix),!(null!=n.rightContent&&n.rightContent.lineContent))),Oe(1),ge("innerHTML",rs(2,2,null==n.rightContent?null:n.rightContent.lineContent),$)}}function fP(e,t){if(1&e&&(Xt(0,"span",27),ns(1,"formatLine")),2&e){const n=t.$implicit;ge("innerHTML",rs(1,2,n.content),$)("ngClass",Qu(4,gh,n.isDiff))}}function dP(e,t){if(1&e&&(ue(0,"td",24),Nt(1,fP,2,6,"span",26),ce()),2&e){const n=Pt().$implicit,r=Pt(3);ge("ngClass",ar(3,mh,"+"===(null==n.rightContent?null:n.rightContent.prefix),!(null!=n.rightContent&&n.rightContent.lineContent))),Oe(1),ge("ngForOf",null==n.rightContent?null:n.rightContent.lineDiffs)("ngForTrackBy",r.trackDiffs)}}function hP(e,t){if(1&e&&(ue(0,"tr"),ue(1,"td",21),sr(2),ce(),ue(3,"td",22),ue(4,"span"),sr(5),ce(),ce(),Nt(6,cP,3,7,"td",23),Nt(7,dP,2,6,"td",23),ce()),2&e){const n=t.$implicit;Oe(1),ge("ngClass",ar(6,mh,"+"===(null==n.rightContent?null:n.rightContent.prefix),!(null!=n.rightContent&&n.rightContent.lineContent))),Oe(1),ta(" ",-1!==(null==n.rightContent?null:n.rightContent.lineNumber)?null==n.rightContent?null:n.rightContent.lineNumber:" "," "),Oe(1),ge("ngClass",ar(9,mh,"+"===(null==n.rightContent?null:n.rightContent.prefix),!(null!=n.rightContent&&n.rightContent.lineContent))),Oe(2),ea((null==n.rightContent?null:n.rightContent.prefix)||" "),Oe(1),ge("ngIf",!n.hasDiffs),Oe(1),ge("ngIf",n.hasDiffs)}}function pP(e,t){if(1&e&&(ue(0,"div",28),ue(1,"table",19),ue(2,"tbody"),Nt(3,hP,8,12,"tr",20),ce(),ce(),ce()),2&e){const n=Pt(2);Oe(3),ge("ngForOf",n.filteredTableRows)("ngForTrackBy",n.trackTableRows)}}const vh=function(e,t){return{"delete-row":e,"insert-row":t}};function gP(e,t){if(1&e&&(ue(0,"td",24),Xt(1,"span",25),ns(2,"formatLine"),ce()),2&e){const n=Pt().$implicit;ge("ngClass",ar(4,vh,"-"===(null==n.leftContent?null:n.leftContent.prefix),"+"===(null==n.rightContent?null:n.rightContent.prefix))),Oe(1),ge("innerHTML",rs(2,2,null==n.leftContent?null:n.leftContent.lineContent),$)}}function mP(e,t){if(1&e&&(Xt(0,"span",27),ns(1,"formatLine")),2&e){const n=t.$implicit;ge("innerHTML",rs(1,2,n.content),$)("ngClass",Qu(4,gh,n.isDiff))}}function vP(e,t){if(1&e&&(ue(0,"td",24),Nt(1,mP,2,6,"span",26),ce()),2&e){const n=Pt().$implicit,r=Pt(3);ge("ngClass",ar(3,vh,"-"===(null==n.leftContent?null:n.leftContent.prefix),"+"===(null==n.rightContent?null:n.rightContent.prefix))),Oe(1),ge("ngForOf",null==n.leftContent?null:n.leftContent.lineDiffs)("ngForTrackBy",r.trackDiffs)}}function yP(e,t){if(1&e&&(Xt(0,"span",27),ns(1,"formatLine")),2&e){const n=t.$implicit;ge("innerHTML",rs(1,2,n.content),$)("ngClass",Qu(4,gh,n.isDiff))}}function _P(e,t){if(1&e&&(ue(0,"td",24),Nt(1,yP,2,6,"span",26),ce()),2&e){const n=Pt().$implicit,r=Pt(3);ge("ngClass",ar(3,vh,"-"===(null==n.leftContent?null:n.leftContent.prefix),"+"===(null==n.rightContent?null:n.rightContent.prefix))),Oe(1),ge("ngForOf",null==n.rightContent?null:n.rightContent.lineDiffs)("ngForTrackBy",r.trackDiffs)}}function CP(e,t){if(1&e&&(ue(0,"tr"),ue(1,"td",30),sr(2),ce(),ue(3,"td",31),sr(4),ce(),ue(5,"td",22),ue(6,"span"),sr(7),ce(),ce(),Nt(8,gP,3,7,"td",23),Nt(9,vP,2,6,"td",23),Nt(10,_P,2,6,"td",23),ce()),2&e){const n=t.$implicit;Oe(2),ea(null==n.leftContent?null:n.leftContent.lineNumber),Oe(2),ea(null==n.rightContent?null:n.rightContent.lineNumber),Oe(1),ge("ngClass",ar(7,vh,"-"===(null==n.leftContent?null:n.leftContent.prefix),"+"===(null==n.rightContent?null:n.rightContent.prefix))),Oe(2),ea((null==n.leftContent?null:n.leftContent.prefix)||(null==n.rightContent?null:n.rightContent.prefix)||" "),Oe(1),ge("ngIf",!n.hasDiffs),Oe(1),ge("ngIf",n.hasDiffs&&n.leftContent&&0!==(null==n.leftContent?null:n.leftContent.lineDiffs.length)),Oe(1),ge("ngIf",n.hasDiffs&&n.rightContent&&0!==(null==n.rightContent?null:n.rightContent.lineDiffs.length))}}function bP(e,t){if(1&e&&(ue(0,"div",29),ue(1,"table",19),ue(2,"tbody"),Nt(3,CP,11,10,"tr",20),ce(),ce(),ce()),2&e){const n=Pt(2);Oe(3),ge("ngForOf",n.filteredTableRowsLineByLine)("ngForTrackBy",n.trackTableRows)}}function wP(e,t){if(1&e&&(ue(0,"div",2),Nt(1,tP,6,4,"div",3),Nt(2,iP,3,1,"div",4),ue(3,"div",5),Nt(4,uP,4,2,"div",6),Nt(5,pP,4,2,"div",7),Nt(6,bP,4,2,"div",8),ce(),ce()),2&e){const n=Pt();ge("ngClass",n.outerContainerClass)("ngStyle",n.outerContainerStyle),Oe(1),ge("ngIf",n.showToolbar),Oe(1),ge("ngIf",n.showToolbar&&n.showBtnToolbar),Oe(1),ge("ngClass",n.compareRowsClass)("ngStyle",n.compareRowsStyle),Oe(1),ge("ngIf","SideBySide"===n.format),Oe(1),ge("ngIf","SideBySide"===n.format),Oe(1),ge("ngIf","LineByLine"===n.format)}}let DP=(()=>{class e{constructor(n,r,o){this.scrollService=n,this.diff=r,this.cd=o,this._hideMatchingLines=!1,this.format="SideBySide",this.left="",this.right="",this.loading=!1,this.showToolbar=!0,this.showBtnToolbar=!0,this.synchronizeScrolling=!0,this.compareResults=new bt,this.subscriptions=[],this.tableRows=[],this.filteredTableRows=[],this.tableRowsLineByLine=[],this.filteredTableRowsLineByLine=[],this.diffsCount=0,this.formatOptions=[{id:"side-by-side",name:"side-by-side",label:"Side by Side",value:"SideBySide",icon:"la-code"},{id:"line-by-line",name:"line-by-line",label:"Line by Line",value:"LineByLine",icon:"la-file-text"}]}get hideMatchingLines(){return this._hideMatchingLines}set hideMatchingLines(n){this.hideMatchingLinesChanged(n)}ngOnInit(){this.loading=!0,this.diffContent&&this.subscriptions.push(this.diffContent.subscribe(n=>{this.loading=!0,this.left=n.leftContent,this.right=n.rightContent,this.renderDiffs().then(()=>{this.cd.detectChanges(),this.loading=!1}).catch(()=>this.loading=!1)})),this.renderDiffs().then(()=>this.loading=!1).catch(n=>this.loading=!1)}ngAfterViewInit(){this.initScrollListener()}ngOnDestroy(){this.subscriptions&&this.subscriptions.forEach(n=>n.unsubscribe())}hideMatchingLinesChanged(n){this._hideMatchingLines=n,this.hideMatchingLines?(this.filteredTableRows=this.tableRows.filter(r=>r.leftContent&&"-"===r.leftContent.prefix||r.rightContent&&"+"===r.rightContent.prefix),this.filteredTableRowsLineByLine=this.tableRowsLineByLine.filter(r=>r.leftContent&&"-"===r.leftContent.prefix||r.rightContent&&"+"===r.rightContent.prefix)):(this.filteredTableRows=this.tableRows,this.filteredTableRowsLineByLine=this.tableRowsLineByLine)}setDiffTableFormat(n){this.format=n}renderDiffs(){return function(e,t,n,r){return new(n||(n=Promise))(function(a,c){function d(_){try{m(r.next(_))}catch(b){c(b)}}function p(_){try{m(r.throw(_))}catch(b){c(b)}}function m(_){_.done?a(_.value):function o(a){return a instanceof n?a:new n(function(c){c(a)})}(_.value).then(d,p)}m((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{this.diffsCount=0,this.tableRows=yield this.diff.getDiffsByLines(this.left,this.right),this.tableRowsLineByLine=this.tableRows.reduce((n,r)=>(n||(n=[]),r.hasDiffs?(r.leftContent&&n.push({leftContent:r.leftContent,rightContent:null,belongTo:r.belongTo,hasDiffs:!0,numDiffs:r.numDiffs}),r.rightContent&&n.push({leftContent:null,rightContent:r.rightContent,belongTo:r.belongTo,hasDiffs:!0,numDiffs:r.numDiffs})):n.push(r),n),[]),this.diffsCount=this.tableRows.filter(n=>n.hasDiffs).length,this.filteredTableRows=this.tableRows,this.filteredTableRowsLineByLine=this.tableRowsLineByLine,this.emitCompareResultsEvent()}catch(n){throw n}})}emitCompareResultsEvent(){const n={hasDiff:this.diffsCount>0,diffsCount:this.diffsCount,rowsWithDiff:this.tableRows.filter(r=>r.hasDiffs).map(r=>({leftLineNumber:r.leftContent?r.leftContent.lineNumber:null,rightLineNumber:r.rightContent?r.rightContent.lineNumber:null,numDiffs:r.numDiffs}))};this.compareResults.next(n)}trackTableRows(n,r){return r&&r.leftContent?r.leftContent.lineContent:r&&r.rightContent?r.rightContent.lineContent:void 0}trackDiffs(n,r){return r&&r.content?r.content:void 0}initScrollListener(){this.subscriptions.push(this.scrollService.scrolled().subscribe(n=>{if(n&&this.synchronizeScrolling){const r=n.getElementRef().nativeElement.id,o=this.containers.find(a=>a.id!==r);o&&o.element.scrollTo({top:n.measureScrollOffset("top"),left:n.measureScrollOffset("left")})}}))}}return e.\u0275fac=function(n){return new(n||e)(G(dE),G(pk),G(_d))},e.\u0275cmp=wi({type:e,selectors:[["td-ngx-text-diff"]],viewQuery:function(n,r){if(1&n&&Tg(rE,5),2&n){let o;ec(o=tc())&&(r.containers=o)}},inputs:{format:"format",left:"left",right:"right",diffContent:"diffContent",loading:"loading",showToolbar:"showToolbar",showBtnToolbar:"showBtnToolbar",hideMatchingLines:"hideMatchingLines",outerContainerClass:"outerContainerClass",outerContainerStyle:"outerContainerStyle",toolbarClass:"toolbarClass",toolbarStyle:"toolbarStyle",compareRowsClass:"compareRowsClass",compareRowsStyle:"compareRowsStyle",synchronizeScrolling:"synchronizeScrolling"},outputs:{compareResults:"compareResults"},decls:2,vars:2,consts:[[3,"active"],["class","td-wrapper",3,"ngClass","ngStyle",4,"ngIf"],[1,"td-wrapper",3,"ngClass","ngStyle"],[3,"ngClass","ngStyle",4,"ngIf"],["class","td-toolbar-select-format",4,"ngIf"],[1,"td-table-wrapper",3,"ngClass","ngStyle"],["class","td-table-container side-by-side","id","td-left-compare-container","tdContainer","","cdkScrollable","",4,"ngIf"],["class","td-table-container side-by-side","id","td-right-compare-container","tdContainer","","cdkScrollable","",4,"ngIf"],["class","td-table-container line-by-line",4,"ngIf"],[3,"ngClass","ngStyle"],[1,"td-toolbar-show-diff"],[1,"td-checkbox-container"],["type","checkbox","id","showDiffs",3,"ngModel","ngModelChange"],[1,"checkmark"],[1,"td-toolbar-select-format"],["data-toggle","buttons",1,"td-btn-group","td-btn-group-toggle"],[3,"ngClass","name","id","disabled","click",4,"ngFor","ngForOf"],[3,"ngClass","name","id","disabled","click"],["id","td-left-compare-container","tdContainer","","cdkScrollable","",1,"td-table-container","side-by-side"],[1,"td-table"],[4,"ngFor","ngForOf","ngForTrackBy"],["scope","row",1,"fit-column","line-number-col",3,"ngClass"],[1,"fit-column","prefix-col",3,"ngClass"],["class","content-col",3,"ngClass",4,"ngIf"],[1,"content-col",3,"ngClass"],[3,"innerHTML"],[3,"innerHTML","ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[3,"innerHTML","ngClass"],["id","td-right-compare-container","tdContainer","","cdkScrollable","",1,"td-table-container","side-by-side"],[1,"td-table-container","line-by-line"],["scope","row",1,"fit-column","line-number-col-left"],["scope","row",1,"fit-column","line-number-col"]],template:function(n,r){1&n&&(Xt(0,"td-loader-spinner",0),Nt(1,wP,7,9,"div",1)),2&n&&(ge("active",r.loading),Oe(1),ge("ngIf",!r.loading))},directives:[Xk,Od,Eb,Ab,Hm,$m,uh,Sb,rE,Kk],pipes:[Jk],styles:['.td-wrapper[_ngcontent-%COMP%]{display:grid;width:100%;grid-row-gap:10px;grid-template-columns:repeat(2,[col] 50%);grid-template-rows:repeat(2,[row] auto);background-color:#fff;color:#444}.td-toolbar-show-diff[_ngcontent-%COMP%]{grid-column:1;grid-row:1}.td-toolbar-select-format[_ngcontent-%COMP%]{margin-left:auto;grid-column:2;grid-row:1}.td-table-container[_ngcontent-%COMP%]{grid-column:1 / 2;grid-row:2;width:100%;max-width:100%;overflow-x:auto}.td-table-wrapper[_ngcontent-%COMP%]{display:flex;width:200%}.td-table[_ngcontent-%COMP%]{border:1px solid darkgray;max-height:50vh;width:100%;max-width:100%}.fit-column[_ngcontent-%COMP%]{width:1px;white-space:nowrap}.line-number-col[_ngcontent-%COMP%]{position:relative;position:-webkit-sticky;position:sticky;left:0;top:auto;border-right:1px solid #ddd;color:#999;text-align:right;background-color:#f7f7f7;padding-left:10px;padding-right:10px;font-size:87.5%}.line-number-col-left[_ngcontent-%COMP%]{color:#999;padding-left:10px;padding-right:10px;text-align:right;background-color:#f7f7f7;font-size:87.5%}.insert-row[_ngcontent-%COMP%], .insert-row[_ngcontent-%COMP%] > .line-number-col[_ngcontent-%COMP%]{background-color:#dfd;border-color:#b4e2b4}.delete-row[_ngcontent-%COMP%], .delete-row[_ngcontent-%COMP%] > .line-number-col[_ngcontent-%COMP%]{background-color:#fee8e9;border-color:#e9aeae}.empty-row[_ngcontent-%COMP%]{background-color:#f7f7f7;height:24px}.td-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0;padding-top:0;padding-bottom:0;white-space:nowrap;max-width:50%}pre[_ngcontent-%COMP%]{margin-bottom:0}td.content-col[_ngcontent-%COMP%]{padding:0;margin:0;line-height:24px}td.prefix-col[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;line-height:24px}.td-btn-group[_ngcontent-%COMP%]{border-radius:4px}.td-btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#17a2b8b3;border:1px solid #17a2b8;color:#fff;cursor:pointer;float:left}.td-btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){border-right:none}.td-btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{-webkit-border-top-left-radius:4px;-webkit-border-bottom-left-radius:4px;-moz-border-radius-topleft:4px;-moz-border-radius-bottomleft:4px;border-top-left-radius:4px;border-bottom-left-radius:4px}.td-btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{-webkit-border-top-right-radius:4px;-webkit-border-bottom-right-radius:4px;-moz-border-radius-topright:4px;-moz-border-radius-bottomright:4px;border-top-right-radius:4px;border-bottom-right-radius:4px}.td-btn-group[_ngcontent-%COMP%]:after{content:"";clear:both;display:table}.td-btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .td-btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#17a2b8}.td-checkbox-container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:21px;margin-bottom:0;cursor:pointer;font-size:16px;line-height:28px;-webkit-user-select:none;-moz-user-select:none;user-select:none}.td-checkbox-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;top:7px;left:0;height:16px;width:16px;background-color:#eee}.td-checkbox-container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.td-checkbox-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#17a2b8}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.td-checkbox-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.td-checkbox-container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:5px;top:3px;width:5px;height:10px;border:solid white;border-width:0 3px 3px 0;transform:rotate(45deg)}.insert-row[_ngcontent-%COMP%] > .highlight[_ngcontent-%COMP%]{background-color:#acf2bd!important}.delete-row[_ngcontent-%COMP%] > .highlight[_ngcontent-%COMP%]{background-color:#fdb8c0!important}']}),e})();const EP=function(){return{"max-height":"500px",overflow:"auto"}};function SP(e,t){if(1&e){const n=rd();ue(0,"div"),ue(1,"td-ngx-text-diff",10),gn("compareResults",function(o){return eo(n),Pt().onCompareResults(o)}),ce(),ce()}if(2&e){const n=Pt();Oe(1),ge("left",n.content.leftContent)("right",n.content.rightContent)("loading",!n.submitted)("diffContent",n.contentObservable$)("synchronizeScrolling",!0)("compareRowsStyle",function l0(e,t,n){const r=on()+e,o=W();return o[r]===Pe?Li(o,r,n?t.call(n):t()):function ju(e,t){return e[t]}(o,r)}(6,EP))}}const MP=[{path:"home",component:(()=>{class e{constructor(){this.submitted=!1,this.content={leftContent:"",rightContent:""},this.options={lineNumbers:!0,mode:"xml"},this.contentObservable=new ht,this.contentObservable$=this.contentObservable.asObservable()}ngOnInit(){this.submitted=!1,this.content.leftContent='<card xmlns="http://businesscard.org">\n   <name>John Doe</name>\n   <title>CEO, Widget Inc.</title>\n   <email>john.Moe@widget.com</email>\n   <cellphone>(202) 456-1414</cellphone>\n   <phone>(202) 456-1414</phone>\n   <logo url="widget.gif"/>\n </card>',this.content.rightContent='<card xmlns="http://businesscard.org">\n   <name>John Moe</name>\n   <title>CEO, Widget Inc.</title>\n   <email>john.Moe@widget.com</email>\n   <phone>(202) 456-1414</phone>\n   <address>Test</address>\n   <logo url="widget.gif"/>\n </card>'}submitComparison(){this.submitted=!1,this.contentObservable.next(this.content),this.submitted=!0}handleChange(n,r){switch(n){case"left":this.content.leftContent=r;break;case"right":this.content.rightContent=r}}onCompareResults(n){console.log("diffResults",n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=wi({type:e,selectors:[["tda-home"]],decls:20,vars:9,consts:[[1,"container-fluid"],[1,"container"],[1,"main-content"],[1,"form-row"],[1,"form-group","col-md-6"],["for","leftContent",1,"font-weight-bold"],[3,"options","ngModel","name","autoFocus","ngModelChange"],["for","rightContent",1,"font-weight-bold"],["type","submit",1,"btn","btn-primary",3,"click"],[4,"ngIf"],[3,"left","right","loading","diffContent","synchronizeScrolling","compareRowsStyle","compareResults"]],template:function(n,r){1&n&&(ue(0,"div",0),ue(1,"header"),ue(2,"div",1),ue(3,"h1"),sr(4,"NGX Text Diffs"),ce(),ce(),ce(),ue(5,"div",2),ue(6,"div",1),ue(7,"form"),ue(8,"div",3),ue(9,"div",4),ue(10,"label",5),sr(11,"Left Content:"),ce(),ue(12,"tda-code-editor",6),gn("ngModelChange",function(a){return r.handleChange("left",a)}),ce(),ce(),ue(13,"div",4),ue(14,"label",7),sr(15,"Right Content:"),ce(),ue(16,"tda-code-editor",6),gn("ngModelChange",function(a){return r.handleChange("right",a)}),ce(),ce(),ce(),ue(17,"button",8),gn("click",function(){return r.submitComparison()}),sr(18,"Compare"),ce(),ce(),Nt(19,SP,2,7,"div",9),ce(),ce(),ce()),2&n&&(Oe(12),ge("options",r.options)("ngModel",r.content.leftContent)("name","leftContent")("autoFocus",!0),Oe(4),ge("options",r.options)("ngModel",r.content.rightContent)("name","rightContent")("autoFocus",!1),Oe(3),ge("ngIf",r.submitted))},directives:[kD,CD,lh,hk,$m,uh,Od,DP],styles:[""]}),e})()},{path:"",redirectTo:"home",pathMatch:"full"}];let xP=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=rn({type:e}),e.\u0275inj=$t({imports:[[qw.forRoot(MP,{relativeLinkResolution:"legacy"})],qw]}),e})(),TP=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=rn({type:e}),e.\u0275inj=$t({imports:[[am,tE,Yk]]}),e})(),AP=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=rn({type:e,bootstrap:[pF]}),e.\u0275inj=$t({providers:[],imports:[[ER,gF,TP,tE,xP]]}),e})();wR().bootstrapModule(AP).catch(e=>console.error(e))},266:function(Hr){Hr.exports=function(){"use strict";var j=navigator.userAgent,Ze=navigator.platform,Ne=/gecko\/\d/i.test(j),Se=/MSIE \d/.test(j),w=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(j),S=/Edge\/(\d+)/.exec(j),x=Se||w||S,A=x&&(Se?document.documentMode||6:+(S||w)[1]),R=!S&&/WebKit\//.test(j),O=R&&/Qt\/\d+\.\d+/.test(j),F=!S&&/Chrome\//.test(j),P=/Opera\//.test(j),U=/Apple Computer/.test(navigator.vendor),Z=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(j),re=/PhantomJS/.test(j),Q=U&&(/Mobile\/\w+/.test(j)||navigator.maxTouchPoints>2),me=/Android/.test(j),ye=Q||me||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(j),De=Q||/Mac/.test(Ze),Ke=/\bCrOS\b/.test(j),pt=/win/i.test(Ze),We=P&&j.match(/Version\/(\d*\.\d*)/);We&&(We=Number(We[1])),We&&We>=15&&(P=!1,R=!0);var ft=De&&(O||P&&(null==We||We<12.11)),de=Ne||x&&A>=9;function tt(i){return new RegExp("(^|\\s)"+i+"(?:$|\\s)\\s*")}var gi,At=function(i,s){var u=i.className,l=tt(s).exec(u);if(l){var f=u.slice(l.index+l[0].length);i.className=u.slice(0,l.index)+(f?l[1]+f:"")}};function Qe(i){for(var s=i.childNodes.length;s>0;--s)i.removeChild(i.firstChild);return i}function $e(i,s){return Qe(i).appendChild(s)}function ie(i,s,u,l){var f=document.createElement(i);if(u&&(f.className=u),l&&(f.style.cssText=l),"string"==typeof s)f.appendChild(document.createTextNode(s));else if(s)for(var h=0;h<s.length;++h)f.appendChild(s[h]);return f}function ht(i,s,u,l){var f=ie(i,s,u,l);return f.setAttribute("role","presentation"),f}function jn(i,s){if(3==s.nodeType&&(s=s.parentNode),i.contains)return i.contains(s);do{if(11==s.nodeType&&(s=s.host),s==i)return!0}while(s=s.parentNode)}function Dn(){var i;try{i=document.activeElement}catch(s){i=document.body||null}for(;i&&i.shadowRoot&&i.shadowRoot.activeElement;)i=i.shadowRoot.activeElement;return i}function mi(i,s){var u=i.className;tt(s).test(u)||(i.className+=(u?" ":"")+s)}function Vl(i,s){for(var u=i.split(" "),l=0;l<u.length;l++)u[l]&&!tt(u[l]).test(s)&&(s+=" "+u[l]);return s}gi=document.createRange?function(i,s,u,l){var f=document.createRange();return f.setEnd(l||i,u),f.setStart(i,s),f}:function(i,s,u){var l=document.body.createTextRange();try{l.moveToElementText(i.parentNode)}catch(f){return l}return l.collapse(!0),l.moveEnd("character",u),l.moveStart("character",s),l};var ds=function(i){i.select()};function wo(i){var s=Array.prototype.slice.call(arguments,1);return function(){return i.apply(null,s)}}function Do(i,s,u){for(var l in s||(s={}),i)i.hasOwnProperty(l)&&(!1!==u||!s.hasOwnProperty(l))&&(s[l]=i[l]);return s}function Qn(i,s,u,l,f){null==s&&-1==(s=i.search(/[^\s\u00a0]/))&&(s=i.length);for(var h=l||0,g=f||0;;){var v=i.indexOf("\t",h);if(v<0||v>=s)return g+(s-h);g+=v-h,g+=u-g%u,h=v+1}}Q?ds=function(i){i.selectionStart=0,i.selectionEnd=i.value.length}:x&&(ds=function(i){try{i.select()}catch(s){}});var vi=function(){this.id=null,this.f=null,this.time=0,this.handler=wo(this.onTimeout,this)};function en(i,s){for(var u=0;u<i.length;++u)if(i[u]==s)return u;return-1}vi.prototype.onTimeout=function(i){i.id=0,i.time<=+new Date?i.f():setTimeout(i.handler,i.time-+new Date)},vi.prototype.set=function(i,s){this.f=s;var u=+new Date+i;(!this.id||u<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,i),this.time=u)};var hs={toString:function(){return"CodeMirror.Pass"}},En={scroll:!1},yi={origin:"*mouse"},et={origin:"+move"};function Hl(i,s,u){for(var l=0,f=0;;){var h=i.indexOf("\t",l);-1==h&&(h=i.length);var g=h-l;if(h==i.length||f+g>=s)return l+Math.min(g,s-f);if(f+=h-l,l=h+1,(f+=u-f%u)>=s)return l}}var ga=[""];function Ul(i){for(;ga.length<=i;)ga.push(nt(ga)+" ");return ga[i]}function nt(i){return i[i.length-1]}function Eo(i,s){for(var u=[],l=0;l<i.length;l++)u[l]=s(i[l],l);return u}function Ac(){}function Ic(i,s){var u;return Object.create?u=Object.create(i):(Ac.prototype=i,u=new Ac),s&&Do(s,u),u}var _h=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function tn(i){return/\w/.test(i)||i>"\x80"&&(i.toUpperCase()!=i.toLowerCase()||_h.test(i))}function Vt(i,s){return s?!!(s.source.indexOf("\\w")>-1&&tn(i))||s.test(i):tn(i)}function Rc(i){for(var s in i)if(i.hasOwnProperty(s)&&i[s])return!1;return!0}var Ch=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function $i(i){return i.charCodeAt(0)>=768&&Ch.test(i)}function ma(i,s,u){for(;(u<0?s>0:s<i.length)&&$i(i.charAt(s));)s+=u;return s}function ps(i,s,u){for(var l=s>u?-1:1;;){if(s==u)return s;var f=(s+u)/2,h=l<0?Math.ceil(f):Math.floor(f);if(h==s)return i(h)?s:u;i(h)?u=h:s=h+l}}var gs=null;function ms(i,s,u){var l;gs=null;for(var f=0;f<i.length;++f){var h=i[f];if(h.from<s&&h.to>s)return f;h.to==s&&(h.from!=h.to&&"before"==u?l=f:gs=f),h.from==s&&(h.from!=h.to&&"before"!=u?l=f:gs=f)}return null!=l?l:gs}var Oc=function(){function u(C){return C<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(C):1424<=C&&C<=1524?"R":1536<=C&&C<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(C-1536):1774<=C&&C<=2220?"r":8192<=C&&C<=8203?"w":8204==C?"b":"L"}var l=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,f=/[stwN]/,h=/[LRr]/,g=/[Lb1n]/,v=/[1n]/;function y(C,D,M){this.level=C,this.from=D,this.to=M}return function(C,D){var M="ltr"==D?"L":"R";if(0==C.length||"ltr"==D&&!l.test(C))return!1;for(var N=C.length,I=[],L=0;L<N;++L)I.push(u(C.charCodeAt(L)));for(var V=0,$=M;V<N;++V){var Y=I[V];"m"==Y?I[V]=$:$=Y}for(var X=0,K=M;X<N;++X){var ne=I[X];"1"==ne&&"r"==K?I[X]="n":h.test(ne)&&(K=ne,"r"==ne&&(I[X]="R"))}for(var le=1,ae=I[0];le<N-1;++le){var ke=I[le];"+"==ke&&"1"==ae&&"1"==I[le+1]?I[le]="1":","==ke&&ae==I[le+1]&&("1"==ae||"n"==ae)&&(I[le]=ae),ae=ke}for(var dt=0;dt<N;++dt){var sn=I[dt];if(","==sn)I[dt]="N";else if("%"==sn){var Mt=void 0;for(Mt=dt+1;Mt<N&&"%"==I[Mt];++Mt);for(var an=dt&&"!"==I[dt-1]||Mt<N&&"1"==I[Mt]?"1":"N",ct=dt;ct<Mt;++ct)I[ct]=an;dt=Mt-1}}for(var xt=0,bn=M;xt<N;++xt){var Yt=I[xt];"L"==bn&&"1"==Yt?I[xt]="L":h.test(Yt)&&(bn=Yt)}for(var Ge=0;Ge<N;++Ge)if(f.test(I[Ge])){var _t=void 0;for(_t=Ge+1;_t<N&&f.test(I[_t]);++_t);for(var Ct="L"==(Ge?I[Ge-1]:M),Xo=Ct==("L"==(_t<N?I[_t]:M))?Ct?"L":"R":M,ti=Ge;ti<_t;++ti)I[ti]=Xo;Ge=_t-1}for(var _r,pn=[],Qt=0;Qt<N;)if(g.test(I[Qt])){var tl=Qt;for(++Qt;Qt<N&&g.test(I[Qt]);++Qt);pn.push(new y(0,tl,Qt))}else{var ni=Qt,fo=pn.length,ri="rtl"==D?1:0;for(++Qt;Qt<N&&"L"!=I[Qt];++Qt);for(var wn=ni;wn<Qt;)if(v.test(I[wn])){ni<wn&&(pn.splice(fo,0,new y(1,ni,wn)),fo+=ri);var Jo=wn;for(++wn;wn<Qt&&v.test(I[wn]);++wn);pn.splice(fo,0,new y(2,Jo,wn)),fo+=ri,ni=wn}else++wn;ni<Qt&&pn.splice(fo,0,new y(1,ni,Qt))}return"ltr"==D&&(1==pn[0].level&&(_r=C.match(/^\s+/))&&(pn[0].from=_r[0].length,pn.unshift(new y(0,0,_r[0].length))),1==nt(pn).level&&(_r=C.match(/\s+$/))&&(nt(pn).to-=_r[0].length,pn.push(new y(0,N-_r[0].length,N)))),"rtl"==D?pn.reverse():pn}}();function Ur(i,s){var u=i.order;return null==u&&(u=i.order=Oc(i.text,s)),u}var Nc=[],pe=function(i,s,u){if(i.addEventListener)i.addEventListener(s,u,!1);else if(i.attachEvent)i.attachEvent("on"+s,u);else{var l=i._handlers||(i._handlers={});l[s]=(l[s]||Nc).concat(u)}};function Wl(i,s){return i._handlers&&i._handlers[s]||Nc}function Wn(i,s,u){if(i.removeEventListener)i.removeEventListener(s,u,!1);else if(i.detachEvent)i.detachEvent("on"+s,u);else{var l=i._handlers,f=l&&l[s];if(f){var h=en(f,u);h>-1&&(l[s]=f.slice(0,h).concat(f.slice(h+1)))}}}function Ft(i,s){var u=Wl(i,s);if(u.length)for(var l=Array.prototype.slice.call(arguments,2),f=0;f<u.length;++f)u[f].apply(null,l)}function zt(i,s,u){return"string"==typeof s&&(s={type:s,preventDefault:function(){this.defaultPrevented=!0}}),Ft(i,u||s.type,i,s),zl(s)||s.codemirrorIgnore}function Fc(i){var s=i._handlers&&i._handlers.cursorActivity;if(s)for(var u=i.curOp.cursorActivityHandlers||(i.curOp.cursorActivityHandlers=[]),l=0;l<s.length;++l)-1==en(u,s[l])&&u.push(s[l])}function Ue(i,s){return Wl(i,s).length>0}function _i(i){i.prototype.on=function(s,u){pe(this,s,u)},i.prototype.off=function(s,u){Wn(this,s,u)}}function Ce(i){i.preventDefault?i.preventDefault():i.returnValue=!1}function va(i){i.stopPropagation?i.stopPropagation():i.cancelBubble=!0}function zl(i){return null!=i.defaultPrevented?i.defaultPrevented:0==i.returnValue}function rt(i){Ce(i),va(i)}function Re(i){return i.target||i.srcElement}function $l(i){var s=i.which;return null==s&&(1&i.button?s=1:2&i.button?s=3:4&i.button&&(s=2)),De&&i.ctrlKey&&1==s&&(s=3),s}var nn,Me,Ev=function(){if(x&&A<9)return!1;var i=ie("div");return"draggable"in i||"dragDrop"in i}();function Gl(i){if(null==nn){var s=ie("span","\u200b");$e(i,ie("span",[s,document.createTextNode("x")])),0!=i.firstChild.offsetHeight&&(nn=s.offsetWidth<=1&&s.offsetHeight>2&&!(x&&A<8))}var u=nn?ie("span","\u200b"):ie("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return u.setAttribute("cm-text",""),u}function Sn(i){if(null!=Me)return Me;var s=$e(i,document.createTextNode("A\u062eA")),u=gi(s,0,1).getBoundingClientRect(),l=gi(s,1,2).getBoundingClientRect();return Qe(i),!(!u||u.left==u.right)&&(Me=l.right-u.right<3)}var i,ql=3!="\n\nb".split(/\n/).length?function(i){for(var s=0,u=[],l=i.length;s<=l;){var f=i.indexOf("\n",s);-1==f&&(f=i.length);var h=i.slice(s,"\r"==i.charAt(f-1)?f-1:f),g=h.indexOf("\r");-1!=g?(u.push(h.slice(0,g)),s+=g+1):(u.push(h),s=f+1)}return u}:function(i){return i.split(/\r\n?|\n/)},Sv=window.getSelection?function(i){try{return i.selectionStart!=i.selectionEnd}catch(s){return!1}}:function(i){var s;try{s=i.ownerDocument.selection.createRange()}catch(u){}return!(!s||s.parentElement()!=i)&&0!=s.compareEndPoints("StartToEnd",s)},Mv="oncopy"in(i=ie("div"))||(i.setAttribute("oncopy","return;"),"function"==typeof i.oncopy),So=null;var kc={},Mo={};function xv(i,s){arguments.length>2&&(s.dependencies=Array.prototype.slice.call(arguments,2)),kc[i]=s}function Zl(i){if("string"==typeof i&&Mo.hasOwnProperty(i))i=Mo[i];else if(i&&"string"==typeof i.name&&Mo.hasOwnProperty(i.name)){var s=Mo[i.name];"string"==typeof s&&(s={name:s}),(i=Ic(s,i)).name=s.name}else{if("string"==typeof i&&/^[\w\-]+\/[\w\-]+\+xml$/.test(i))return Zl("application/xml");if("string"==typeof i&&/^[\w\-]+\/[\w\-]+\+json$/.test(i))return Zl("application/json")}return"string"==typeof i?{name:i}:i||{name:"null"}}function Pc(i,s){s=Zl(s);var u=kc[s.name];if(!u)return Pc(i,"text/plain");var l=u(i,s);if(vs.hasOwnProperty(s.name)){var f=vs[s.name];for(var h in f)!f.hasOwnProperty(h)||(l.hasOwnProperty(h)&&(l["_"+h]=l[h]),l[h]=f[h])}if(l.name=s.name,s.helperType&&(l.helperType=s.helperType),s.modeProps)for(var g in s.modeProps)l[g]=s.modeProps[g];return l}var vs={};function Tv(i,s){Do(s,vs.hasOwnProperty(i)?vs[i]:vs[i]={})}function Gi(i,s){if(!0===s)return s;if(i.copyState)return i.copyState(s);var u={};for(var l in s){var f=s[l];f instanceof Array&&(f=f.concat([])),u[l]=f}return u}function Lc(i,s){for(var u;i.innerMode&&(u=i.innerMode(s))&&u.mode!=i;)s=u.state,i=u.mode;return u||{mode:i,state:s}}function Vc(i,s,u){return!i.startState||i.startState(s,u)}var Bt=function(i,s,u){this.pos=this.start=0,this.string=i,this.tabSize=s||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=u};function ee(i,s){if((s-=i.first)<0||s>=i.size)throw new Error("There is no line "+(s+i.first)+" in the document.");for(var u=i;!u.lines;)for(var l=0;;++l){var f=u.children[l],h=f.chunkSize();if(s<h){u=f;break}s-=h}return u.lines[s]}function it(i,s,u){var l=[],f=s.line;return i.iter(s.line,u.line+1,function(h){var g=h.text;f==u.line&&(g=g.slice(0,u.ch)),f==s.line&&(g=g.slice(s.ch)),l.push(g),++f}),l}function Bc(i,s,u){var l=[];return i.iter(s,u,function(f){l.push(f.text)}),l}function Wr(i,s){var u=s-i.height;if(u)for(var l=i;l;l=l.parent)l.height+=u}function at(i){if(null==i.parent)return null;for(var s=i.parent,u=en(s.lines,i),l=s.parent;l;s=l,l=l.parent)for(var f=0;l.children[f]!=s;++f)u+=l.children[f].chunkSize();return u+s.first}function Te(i,s){var u=i.first;e:do{for(var l=0;l<i.children.length;++l){var f=i.children[l],h=f.height;if(s<h){i=f;continue e}s-=h,u+=f.chunkSize()}return u}while(!i.lines);for(var g=0;g<i.lines.length;++g){var y=i.lines[g].height;if(s<y)break;s-=y}return u+g}function ya(i,s){return s>=i.first&&s<i.first+i.size}function $t(i,s){return String(i.lineNumberFormatter(s+i.firstLineNumber))}function z(i,s,u){if(void 0===u&&(u=null),!(this instanceof z))return new z(i,s,u);this.line=i,this.ch=s,this.sticky=u}function be(i,s){return i.line-s.line||i.ch-s.ch}function Kl(i,s){return i.sticky==s.sticky&&0==be(i,s)}function Yl(i){return z(i.line,i.ch)}function ys(i,s){return be(i,s)<0?s:i}function qi(i,s){return be(i,s)<0?i:s}function _a(i,s){return Math.max(i.first,Math.min(s,i.first+i.size-1))}function we(i,s){if(s.line<i.first)return z(i.first,0);var u=i.first+i.size-1;return s.line>u?z(u,ee(i,u).text.length):function bh(i,s){var u=i.ch;return null==u||u>s?z(i.line,s):u<0?z(i.line,0):i}(s,ee(i,s.line).text.length)}function Ae(i,s){for(var u=[],l=0;l<s.length;l++)u[l]=we(i,s[l]);return u}Bt.prototype.eol=function(){return this.pos>=this.string.length},Bt.prototype.sol=function(){return this.pos==this.lineStart},Bt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Bt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Bt.prototype.eat=function(i){var s=this.string.charAt(this.pos);if("string"==typeof i?s==i:s&&(i.test?i.test(s):i(s)))return++this.pos,s},Bt.prototype.eatWhile=function(i){for(var s=this.pos;this.eat(i););return this.pos>s},Bt.prototype.eatSpace=function(){for(var i=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>i},Bt.prototype.skipToEnd=function(){this.pos=this.string.length},Bt.prototype.skipTo=function(i){var s=this.string.indexOf(i,this.pos);if(s>-1)return this.pos=s,!0},Bt.prototype.backUp=function(i){this.pos-=i},Bt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Qn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Qn(this.string,this.lineStart,this.tabSize):0)},Bt.prototype.indentation=function(){return Qn(this.string,null,this.tabSize)-(this.lineStart?Qn(this.string,this.lineStart,this.tabSize):0)},Bt.prototype.match=function(i,s,u){if("string"!=typeof i){var h=this.string.slice(this.pos).match(i);return h&&h.index>0?null:(h&&!1!==s&&(this.pos+=h[0].length),h)}var l=function(g){return u?g.toLowerCase():g};if(l(this.string.substr(this.pos,i.length))==l(i))return!1!==s&&(this.pos+=i.length),!0},Bt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Bt.prototype.hideFirstChars=function(i,s){this.lineStart+=i;try{return s()}finally{this.lineStart-=i}},Bt.prototype.lookAhead=function(i){var s=this.lineOracle;return s&&s.lookAhead(i)},Bt.prototype.baseToken=function(){var i=this.lineOracle;return i&&i.baseToken(this.pos)};var xo=function(i,s){this.state=i,this.lookAhead=s},Sr=function(i,s,u,l){this.state=s,this.doc=i,this.line=u,this.maxLookAhead=l||0,this.baseTokens=null,this.baseTokenPos=1};function zr(i,s,u,l){var f=[i.state.modeGen],h={};jc(i,s.text,i.doc.mode,u,function(C,D){return f.push(C,D)},h,l);for(var g=u.state,v=function(C){u.baseTokens=f;var D=i.state.overlays[C],M=1,N=0;u.state=!0,jc(i,s.text,D.mode,u,function(I,L){for(var V=M;N<I;){var $=f[M];$>I&&f.splice(M,1,I,f[M+1],$),M+=2,N=Math.min(I,$)}if(L)if(D.opaque)f.splice(V,M-V,I,"overlay "+L),M=V+2;else for(;V<M;V+=2){var Y=f[V+1];f[V+1]=(Y?Y+" ":"")+"overlay "+L}},h),u.state=g,u.baseTokens=null,u.baseTokenPos=1},y=0;y<i.state.overlays.length;++y)v(y);return{styles:f,classes:h.bgClass||h.textClass?h:null}}function Ql(i,s,u){if(!s.styles||s.styles[0]!=i.state.modeGen){var l=Ca(i,at(s)),f=s.text.length>i.options.maxHighlightLength&&Gi(i.doc.mode,l.state),h=zr(i,s,l);f&&(l.state=f),s.stateAfter=l.save(!f),s.styles=h.styles,h.classes?s.styleClasses=h.classes:s.styleClasses&&(s.styleClasses=null),u===i.doc.highlightFrontier&&(i.doc.modeFrontier=Math.max(i.doc.modeFrontier,++i.doc.highlightFrontier))}return s.styles}function Ca(i,s,u){var l=i.doc,f=i.display;if(!l.mode.startState)return new Sr(l,!0,s);var h=function Dh(i,s,u){for(var l,f,h=i.doc,g=u?-1:s-(i.doc.mode.innerMode?1e3:100),v=s;v>g;--v){if(v<=h.first)return h.first;var y=ee(h,v-1),C=y.stateAfter;if(C&&(!u||v+(C instanceof xo?C.lookAhead:0)<=h.modeFrontier))return v;var D=Qn(y.text,null,i.options.tabSize);(null==f||l>D)&&(f=v-1,l=D)}return f}(i,s,u),g=h>l.first&&ee(l,h-1).stateAfter,v=g?Sr.fromSaved(l,g,h):new Sr(l,Vc(l.mode),h);return l.iter(h,s,function(y){Mr(i,y.text,v);var C=v.line;y.stateAfter=C==s-1||C%5==0||C>=f.viewFrom&&C<f.viewTo?v.save():null,v.nextLine()}),u&&(l.modeFrontier=v.line),v}function Mr(i,s,u,l){var f=i.doc.mode,h=new Bt(s,i.options.tabSize,u);for(h.start=h.pos=l||0,""==s&&Xn(f,u.state);!h.eol();)Hc(f,h,u.state),h.start=h.pos}function Xn(i,s){if(i.blankLine)return i.blankLine(s);if(i.innerMode){var u=Lc(i,s);if(u.mode.blankLine)return u.mode.blankLine(u.state)}}function Hc(i,s,u,l){for(var f=0;f<10;f++){l&&(l[0]=Lc(i,u).mode);var h=i.token(s,u);if(s.pos>s.start)return h}throw new Error("Mode "+i.name+" failed to advance stream.")}Sr.prototype.lookAhead=function(i){var s=this.doc.getLine(this.line+i);return null!=s&&i>this.maxLookAhead&&(this.maxLookAhead=i),s},Sr.prototype.baseToken=function(i){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=i;)this.baseTokenPos+=2;var s=this.baseTokens[this.baseTokenPos+1];return{type:s&&s.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-i}},Sr.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Sr.fromSaved=function(i,s,u){return s instanceof xo?new Sr(i,Gi(i.mode,s.state),u,s.lookAhead):new Sr(i,Gi(i.mode,s),u)},Sr.prototype.save=function(i){var s=!1!==i?Gi(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new xo(s,this.maxLookAhead):s};var wh=function(i,s,u){this.start=i.start,this.end=i.pos,this.string=i.current(),this.type=s||null,this.state=u};function cr(i,s,u,l){var g,D,f=i.doc,h=f.mode,v=ee(f,(s=we(f,s)).line),y=Ca(i,s.line,u),C=new Bt(v.text,i.options.tabSize,y);for(l&&(D=[]);(l||C.pos<s.ch)&&!C.eol();)C.start=C.pos,g=Hc(h,C,y.state),l&&D.push(new wh(C,g,Gi(f.mode,y.state)));return l?D:new wh(C,g,y.state)}function Uc(i,s){if(i)for(;;){var u=i.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!u)break;i=i.slice(0,u.index)+i.slice(u.index+u[0].length);var l=u[1]?"bgClass":"textClass";null==s[l]?s[l]=u[2]:new RegExp("(?:^|\\s)"+u[2]+"(?:$|\\s)").test(s[l])||(s[l]+=" "+u[2])}return i}function jc(i,s,u,l,f,h,g){var v=u.flattenSpans;null==v&&(v=i.options.flattenSpans);var M,y=0,C=null,D=new Bt(s,i.options.tabSize,l),N=i.options.addModeClass&&[null];for(""==s&&Uc(Xn(u,l.state),h);!D.eol();){if(D.pos>i.options.maxHighlightLength?(v=!1,g&&Mr(i,s,l,D.pos),D.pos=s.length,M=null):M=Uc(Hc(u,D,l.state,N),h),N){var I=N[0].name;I&&(M="m-"+(M?I+" "+M:I))}if(!v||C!=M){for(;y<D.start;)f(y=Math.min(D.start,y+5e3),C);C=M}D.start=D.pos}for(;y<D.pos;){var L=Math.min(D.pos,y+5e3);f(L,C),y=L}}var lt=!1,Ci=!1;function ot(i,s,u){this.marker=i,this.from=s,this.to=u}function bi(i,s){if(i)for(var u=0;u<i.length;++u){var l=i[u];if(l.marker==s)return l}}function Xl(i,s){for(var u,l=0;l<i.length;++l)i[l]!=s&&(u||(u=[])).push(i[l]);return u}function Zi(i,s){if(s.full)return null;var u=ya(i,s.from.line)&&ee(i,s.from.line).markedSpans,l=ya(i,s.to.line)&&ee(i,s.to.line).markedSpans;if(!u&&!l)return null;var f=s.from.ch,h=s.to.ch,g=0==be(s.from,s.to),v=function Wc(i,s,u){var l;if(i)for(var f=0;f<i.length;++f){var h=i[f],g=h.marker;null!=h.from&&!(g.inclusiveLeft?h.from<=s:h.from<s)&&(h.from!=s||"bookmark"!=g.type||u&&h.marker.insertLeft)||(l||(l=[])).push(new ot(g,h.from,null==h.to||(g.inclusiveRight?h.to>=s:h.to>s)?null:h.to))}return l}(u,f,g),y=function $r(i,s,u){var l;if(i)for(var f=0;f<i.length;++f){var h=i[f],g=h.marker;(null==h.to||(g.inclusiveRight?h.to>=s:h.to>s)||h.from==s&&"bookmark"==g.type&&(!u||h.marker.insertLeft))&&(l||(l=[])).push(new ot(g,null==h.from||(g.inclusiveLeft?h.from<=s:h.from<s)?null:h.from-s,null==h.to?null:h.to-s))}return l}(l,h,g),C=1==s.text.length,D=nt(s.text).length+(C?f:0);if(v)for(var M=0;M<v.length;++M){var N=v[M];if(null==N.to){var I=bi(y,N.marker);I?C&&(N.to=null==I.to?null:I.to+D):N.to=f}}if(y)for(var L=0;L<y.length;++L){var V=y[L];null!=V.to&&(V.to+=D),null==V.from?bi(v,V.marker)||(V.from=D,C&&(v||(v=[])).push(V)):(V.from+=D,C&&(v||(v=[])).push(V))}v&&(v=zc(v)),y&&y!=v&&(y=zc(y));var Y=[v];if(!C){var K,X=s.text.length-2;if(X>0&&v)for(var ne=0;ne<v.length;++ne)null==v[ne].to&&(K||(K=[])).push(new ot(v[ne].marker,null,null));for(var le=0;le<X;++le)Y.push(K);Y.push(y)}return Y}function zc(i){for(var s=0;s<i.length;++s){var u=i[s];null!=u.from&&u.from==u.to&&!1!==u.marker.clearWhenEmpty&&i.splice(s--,1)}return i.length?i:null}function $c(i){var s=i.markedSpans;if(s){for(var u=0;u<s.length;++u)s[u].marker.detachLine(i);i.markedSpans=null}}function eu(i,s){if(s){for(var u=0;u<s.length;++u)s[u].marker.attachLine(i);i.markedSpans=s}}function _s(i){return i.inclusiveLeft?-1:0}function Cs(i){return i.inclusiveRight?1:0}function rn(i,s){var u=i.lines.length-s.lines.length;if(0!=u)return u;var l=i.find(),f=s.find(),h=be(l.from,f.from)||_s(i)-_s(s);return h?-h:be(l.to,f.to)||Cs(i)-Cs(s)||s.id-i.id}function Gc(i,s){var l,u=Ci&&i.markedSpans;if(u)for(var f=void 0,h=0;h<u.length;++h)(f=u[h]).marker.collapsed&&null==(s?f.from:f.to)&&(!l||rn(l,f.marker)<0)&&(l=f.marker);return l}function tu(i){return Gc(i,!0)}function he(i){return Gc(i,!1)}function Mn(i,s){var l,u=Ci&&i.markedSpans;if(u)for(var f=0;f<u.length;++f){var h=u[f];h.marker.collapsed&&(null==h.from||h.from<s)&&(null==h.to||h.to>s)&&(!l||rn(l,h.marker)<0)&&(l=h.marker)}return l}function cn(i,s,u,l,f){var h=ee(i,s),g=Ci&&h.markedSpans;if(g)for(var v=0;v<g.length;++v){var y=g[v];if(y.marker.collapsed){var C=y.marker.find(0),D=be(C.from,u)||_s(y.marker)-_s(f),M=be(C.to,l)||Cs(y.marker)-Cs(f);if(!(D>=0&&M<=0||D<=0&&M>=0)&&(D<=0&&(y.marker.inclusiveRight&&f.inclusiveLeft?be(C.to,u)>=0:be(C.to,u)>0)||D>=0&&(y.marker.inclusiveRight&&f.inclusiveLeft?be(C.from,l)<=0:be(C.from,l)<0)))return!0}}}function fn(i){for(var s;s=tu(i);)i=s.find(-1,!0).line;return i}function Ao(i,s){var u=ee(i,s),l=fn(u);return u==l?s:at(l)}function ba(i,s){if(s>i.lastLine())return s;var l,u=ee(i,s);if(!er(i,u))return s;for(;l=he(u);)u=l.find(1,!0).line;return at(u)+1}function er(i,s){var u=Ci&&s.markedSpans;if(u)for(var l=void 0,f=0;f<u.length;++f)if((l=u[f]).marker.collapsed){if(null==l.from)return!0;if(!l.marker.widgetNode&&0==l.from&&l.marker.inclusiveLeft&&Io(i,s,l))return!0}}function Io(i,s,u){if(null==u.to){var l=u.marker.find(1,!0);return Io(i,l.line,bi(l.line.markedSpans,u.marker))}if(u.marker.inclusiveRight&&u.to==s.text.length)return!0;for(var f=void 0,h=0;h<s.markedSpans.length;++h)if((f=s.markedSpans[h]).marker.collapsed&&!f.marker.widgetNode&&f.from==u.to&&(null==f.to||f.to!=u.from)&&(f.marker.inclusiveLeft||u.marker.inclusiveRight)&&Io(i,s,f))return!0}function xn(i){for(var s=0,u=(i=fn(i)).parent,l=0;l<u.lines.length;++l){var f=u.lines[l];if(f==i)break;s+=f.height}for(var h=u.parent;h;h=(u=h).parent)for(var g=0;g<h.children.length;++g){var v=h.children[g];if(v==u)break;s+=v.height}return s}function Gt(i){if(0==i.height)return 0;for(var u,s=i.text.length,l=i;u=tu(l);){var f=u.find(0,!0);l=f.from.line,s+=f.from.ch-f.to.ch}for(l=i;u=he(l);){var h=u.find(0,!0);s-=l.text.length-h.from.ch,s+=(l=h.to.line).text.length-h.to.ch}return s}function nu(i){var s=i.display,u=i.doc;s.maxLine=ee(u,u.first),s.maxLineLength=Gt(s.maxLine),s.maxLineChanged=!0,u.iter(function(l){var f=Gt(l);f>s.maxLineLength&&(s.maxLineLength=f,s.maxLine=l)})}var dn=function(i,s,u){this.text=i,eu(this,s),this.height=u?u(this):1};function je(i){i.parent=null,$c(i)}dn.prototype.lineNo=function(){return at(this)},_i(dn);var wt={},$n={};function Di(i,s){if(!i||/^\s*$/.test(i))return null;var u=s.addModeClass?$n:wt;return u[i]||(u[i]=i.replace(/\S+/g,"cm-$&"))}function qt(i,s){var u=ht("span",null,null,R?"padding-right: .1px":null),l={pre:ht("pre",[u],"CodeMirror-line"),content:u,col:0,pos:0,cm:i,trailingSpace:!1,splitSpaces:i.getOption("lineWrapping")};s.measure={};for(var f=0;f<=(s.rest?s.rest.length:0);f++){var h=f?s.rest[f-1]:s.line,g=void 0;l.pos=0,l.addToken=kt,Sn(i.display.measure)&&(g=Ur(h,i.doc.direction))&&(l.addToken=Ro(l.addToken,g)),l.map=[],wa(h,l,Ql(i,h,s!=i.display.externalMeasured&&at(h))),h.styleClasses&&(h.styleClasses.bgClass&&(l.bgClass=Vl(h.styleClasses.bgClass,l.bgClass||"")),h.styleClasses.textClass&&(l.textClass=Vl(h.styleClasses.textClass,l.textClass||""))),0==l.map.length&&l.map.push(0,0,l.content.appendChild(Gl(i.display.measure))),0==f?(s.measure.map=l.map,s.measure.cache={}):((s.measure.maps||(s.measure.maps=[])).push(l.map),(s.measure.caches||(s.measure.caches=[])).push({}))}if(R){var y=l.content.lastChild;(/\bcm-tab\b/.test(y.className)||y.querySelector&&y.querySelector(".cm-tab"))&&(l.content.className="cm-tab-wrap-hack")}return Ft(i,"renderLine",i,s.line,l.pre),l.pre.className&&(l.textClass=Vl(l.pre.className,l.textClass||"")),l}function Yi(i){var s=ie("span","\u2022","cm-invalidchar");return s.title="\\u"+i.charCodeAt(0).toString(16),s.setAttribute("aria-label",s.title),s}function kt(i,s,u,l,f,h,g){if(s){var D,v=i.splitSpaces?function bs(i,s){if(i.length>1&&!/  /.test(i))return i;for(var u=s,l="",f=0;f<i.length;f++){var h=i.charAt(f);" "==h&&u&&(f==i.length-1||32==i.charCodeAt(f+1))&&(h="\xa0"),l+=h,u=" "==h}return l}(s,i.trailingSpace):s,y=i.cm.state.specialChars,C=!1;if(y.test(s)){D=document.createDocumentFragment();for(var M=0;;){y.lastIndex=M;var N=y.exec(s),I=N?N.index-M:s.length-M;if(I){var L=document.createTextNode(v.slice(M,M+I));D.appendChild(x&&A<9?ie("span",[L]):L),i.map.push(i.pos,i.pos+I,L),i.col+=I,i.pos+=I}if(!N)break;M+=I+1;var V=void 0;if("\t"==N[0]){var $=i.cm.options.tabSize,Y=$-i.col%$;(V=D.appendChild(ie("span",Ul(Y),"cm-tab"))).setAttribute("role","presentation"),V.setAttribute("cm-text","\t"),i.col+=Y}else"\r"==N[0]||"\n"==N[0]?((V=D.appendChild(ie("span","\r"==N[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",N[0]),i.col+=1):((V=i.cm.options.specialCharPlaceholder(N[0])).setAttribute("cm-text",N[0]),D.appendChild(x&&A<9?ie("span",[V]):V),i.col+=1);i.map.push(i.pos,i.pos+1,V),i.pos++}}else i.col+=s.length,D=document.createTextNode(v),i.map.push(i.pos,i.pos+s.length,D),x&&A<9&&(C=!0),i.pos+=s.length;if(i.trailingSpace=32==v.charCodeAt(s.length-1),u||l||f||C||h||g){var X=u||"";l&&(X+=l),f&&(X+=f);var K=ie("span",[D],X,h);if(g)for(var ne in g)g.hasOwnProperty(ne)&&"style"!=ne&&"class"!=ne&&K.setAttribute(ne,g[ne]);return i.content.appendChild(K)}i.content.appendChild(D)}}function Ro(i,s){return function(u,l,f,h,g,v,y){f=f?f+" cm-force-border":"cm-force-border";for(var C=u.pos,D=C+l.length;;){for(var M=void 0,N=0;N<s.length&&!((M=s[N]).to>C&&M.from<=C);N++);if(M.to>=D)return i(u,l,f,h,g,v,y);i(u,l.slice(0,M.to-C),f,h,null,v,y),h=null,l=l.slice(M.to-C),C=M.to}}}function Fe(i,s,u,l){var f=!l&&u.widgetNode;f&&i.map.push(i.pos,i.pos+s,f),!l&&i.cm.display.input.needsContentAttribute&&(f||(f=i.content.appendChild(document.createElement("span"))),f.setAttribute("cm-marker",u.id)),f&&(i.cm.display.input.setUneditable(f),i.content.appendChild(f)),i.pos+=s,i.trailingSpace=!1}function wa(i,s,u){var l=i.markedSpans,f=i.text,h=0;if(l)for(var M,N,L,V,$,Y,X,v=f.length,y=0,C=1,D="",I=0;;){if(I==y){L=V=$=N="",X=null,Y=null,I=1/0;for(var K=[],ne=void 0,le=0;le<l.length;++le){var ae=l[le],ke=ae.marker;if("bookmark"==ke.type&&ae.from==y&&ke.widgetNode)K.push(ke);else if(ae.from<=y&&(null==ae.to||ae.to>y||ke.collapsed&&ae.to==y&&ae.from==y)){if(null!=ae.to&&ae.to!=y&&I>ae.to&&(I=ae.to,V=""),ke.className&&(L+=" "+ke.className),ke.css&&(N=(N?N+";":"")+ke.css),ke.startStyle&&ae.from==y&&($+=" "+ke.startStyle),ke.endStyle&&ae.to==I&&(ne||(ne=[])).push(ke.endStyle,ae.to),ke.title&&((X||(X={})).title=ke.title),ke.attributes)for(var dt in ke.attributes)(X||(X={}))[dt]=ke.attributes[dt];ke.collapsed&&(!Y||rn(Y.marker,ke)<0)&&(Y=ae)}else ae.from>y&&I>ae.from&&(I=ae.from)}if(ne)for(var sn=0;sn<ne.length;sn+=2)ne[sn+1]==I&&(V+=" "+ne[sn]);if(!Y||Y.from==y)for(var Mt=0;Mt<K.length;++Mt)Fe(s,0,K[Mt]);if(Y&&(Y.from||0)==y){if(Fe(s,(null==Y.to?v+1:Y.to)-y,Y.marker,null==Y.from),null==Y.to)return;Y.to==y&&(Y=!1)}}if(y>=v)break;for(var an=Math.min(v,I);;){if(D){var ct=y+D.length;if(!Y){var xt=ct>an?D.slice(0,an-y):D;s.addToken(s,xt,M?M+L:L,$,y+xt.length==I?V:"",N,X)}if(ct>=an){D=D.slice(an-y),y=an;break}y=ct,$=""}D=f.slice(h,h=u[C++]),M=Di(u[C++],s.cm.options)}}else for(var g=1;g<u.length;g+=2)s.addToken(s,f.slice(h,h=u[g]),Di(u[g+1],s.cm.options))}function Qi(i,s,u){this.line=s,this.rest=function Jn(i){for(var s,u;s=he(i);)i=s.find(1,!0).line,(u||(u=[])).push(i);return u}(s),this.size=this.rest?at(nt(this.rest))-u+1:1,this.node=this.text=null,this.hidden=er(i,s)}function Oo(i,s,u){for(var f,l=[],h=s;h<u;h=f){var g=new Qi(i.doc,ee(i.doc,h),h);f=h+g.size,l.push(g)}return l}var fr=null;var Tn=null;function Ie(i,s){var u=Wl(i,s);if(u.length){var f,l=Array.prototype.slice.call(arguments,2);fr?f=fr.delayedCallbacks:Tn?f=Tn:(f=Tn=[],setTimeout(Eh,0));for(var h=function(v){f.push(function(){return u[v].apply(null,l)})},g=0;g<u.length;++g)h(g)}}function Eh(){var i=Tn;Tn=null;for(var s=0;s<i.length;++s)i[s]()}function qc(i,s,u,l){for(var f=0;f<s.changes.length;f++){var h=s.changes[f];"text"==h?Ea(i,s):"gutter"==h?tr(i,s,u,l):"class"==h?Fo(i,s):"widget"==h&&Sh(i,s,l)}s.changes=null}function Nn(i){return i.node==i.text&&(i.node=ie("div",null,null,"position: relative"),i.text.parentNode&&i.text.parentNode.replaceChild(i.node,i.text),i.node.appendChild(i.text),x&&A<8&&(i.node.style.zIndex=2)),i.node}function Da(i,s){var u=i.display.externalMeasured;return u&&u.line==s.line?(i.display.externalMeasured=null,s.measure=u.measure,u.built):qt(i,s)}function Ea(i,s){var u=s.text.className,l=Da(i,s);s.text==s.node&&(s.node=l.pre),s.text.parentNode.replaceChild(l.pre,s.text),s.text=l.pre,l.bgClass!=s.bgClass||l.textClass!=s.textClass?(s.bgClass=l.bgClass,s.textClass=l.textClass,Fo(i,s)):u&&(s.text.className=u)}function Fo(i,s){(function dr(i,s){var u=s.bgClass?s.bgClass+" "+(s.line.bgClass||""):s.line.bgClass;if(u&&(u+=" CodeMirror-linebackground"),s.background)u?s.background.className=u:(s.background.parentNode.removeChild(s.background),s.background=null);else if(u){var l=Nn(s);s.background=l.insertBefore(ie("div",null,u),l.firstChild),i.display.input.setUneditable(s.background)}})(i,s),s.line.wrapClass?Nn(s).className=s.line.wrapClass:s.node!=s.text&&(s.node.className=""),s.text.className=(s.textClass?s.textClass+" "+(s.line.textClass||""):s.line.textClass)||""}function tr(i,s,u,l){if(s.gutter&&(s.node.removeChild(s.gutter),s.gutter=null),s.gutterBackground&&(s.node.removeChild(s.gutterBackground),s.gutterBackground=null),s.line.gutterClass){var f=Nn(s);s.gutterBackground=ie("div",null,"CodeMirror-gutter-background "+s.line.gutterClass,"left: "+(i.options.fixedGutter?l.fixedPos:-l.gutterTotalWidth)+"px; width: "+l.gutterTotalWidth+"px"),i.display.input.setUneditable(s.gutterBackground),f.insertBefore(s.gutterBackground,s.text)}var h=s.line.gutterMarkers;if(i.options.lineNumbers||h){var g=Nn(s),v=s.gutter=ie("div",null,"CodeMirror-gutter-wrapper","left: "+(i.options.fixedGutter?l.fixedPos:-l.gutterTotalWidth)+"px");if(v.setAttribute("aria-hidden","true"),i.display.input.setUneditable(v),g.insertBefore(v,s.text),s.line.gutterClass&&(v.className+=" "+s.line.gutterClass),i.options.lineNumbers&&(!h||!h["CodeMirror-linenumbers"])&&(s.lineNumber=v.appendChild(ie("div",$t(i.options,u),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+l.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+i.display.lineNumInnerWidth+"px"))),h)for(var y=0;y<i.display.gutterSpecs.length;++y){var C=i.display.gutterSpecs[y].className,D=h.hasOwnProperty(C)&&h[C];D&&v.appendChild(ie("div",[D],"CodeMirror-gutter-elt","left: "+l.gutterLeft[C]+"px; width: "+l.gutterWidth[C]+"px"))}}}function Sh(i,s,u){s.alignable&&(s.alignable=null);for(var l=tt("CodeMirror-linewidget"),f=s.node.firstChild,h=void 0;f;f=h)h=f.nextSibling,l.test(f.className)&&s.node.removeChild(f);Zc(i,s,u)}function Rv(i,s,u,l){var f=Da(i,s);return s.text=s.node=f.pre,f.bgClass&&(s.bgClass=f.bgClass),f.textClass&&(s.textClass=f.textClass),Fo(i,s),tr(i,s,u,l),Zc(i,s,l),s.node}function Zc(i,s,u){if(Kc(i,s.line,s,u,!0),s.rest)for(var l=0;l<s.rest.length;l++)Kc(i,s.rest[l],s,u,!1)}function Kc(i,s,u,l,f){if(s.widgets)for(var h=Nn(u),g=0,v=s.widgets;g<v.length;++g){var y=v[g],C=ie("div",[y.node],"CodeMirror-linewidget"+(y.className?" "+y.className:""));y.handleMouseEvents||C.setAttribute("cm-ignore-events","true"),Ov(y,C,u,l),i.display.input.setUneditable(C),f&&y.above?h.insertBefore(C,u.gutter||u.text):h.appendChild(C),Ie(y,"redraw")}}function Ov(i,s,u,l){if(i.noHScroll){(u.alignable||(u.alignable=[])).push(s);var f=l.wrapperWidth;s.style.left=l.fixedPos+"px",i.coverGutter||(f-=l.gutterTotalWidth,s.style.paddingLeft=l.gutterTotalWidth+"px"),s.style.width=f+"px"}i.coverGutter&&(s.style.zIndex=5,s.style.position="relative",i.noHScroll||(s.style.marginLeft=-l.gutterTotalWidth+"px"))}function Sa(i){if(null!=i.height)return i.height;var s=i.doc.cm;if(!s)return 0;if(!jn(document.body,i.node)){var u="position: relative;";i.coverGutter&&(u+="margin-left: -"+s.display.gutters.offsetWidth+"px;"),i.noHScroll&&(u+="width: "+s.display.wrapper.clientWidth+"px;"),$e(s.display.measure,ie("div",[i.node],null,u))}return i.height=i.node.parentNode.offsetHeight}function Ei(i,s){for(var u=Re(s);u!=i.wrapper;u=u.parentNode)if(!u||1==u.nodeType&&"true"==u.getAttribute("cm-ignore-events")||u.parentNode==i.sizer&&u!=i.mover)return!0}function ru(i){return i.lineSpace.offsetTop}function Yc(i){return i.mover.offsetHeight-i.lineSpace.offsetHeight}function Mh(i){if(i.cachedPaddingH)return i.cachedPaddingH;var s=$e(i.measure,ie("pre","x","CodeMirror-line-like")),u=window.getComputedStyle?window.getComputedStyle(s):s.currentStyle,l={left:parseInt(u.paddingLeft),right:parseInt(u.paddingRight)};return!isNaN(l.left)&&!isNaN(l.right)&&(i.cachedPaddingH=l),l}function Gr(i){return 50-i.display.nativeBarWidth}function ko(i){return i.display.scroller.clientWidth-Gr(i)-i.display.barWidth}function Qc(i){return i.display.scroller.clientHeight-Gr(i)-i.display.barHeight}function xh(i,s,u){if(i.line==s)return{map:i.measure.map,cache:i.measure.cache};if(i.rest){for(var l=0;l<i.rest.length;l++)if(i.rest[l]==s)return{map:i.measure.maps[l],cache:i.measure.caches[l]};for(var f=0;f<i.rest.length;f++)if(at(i.rest[f])>u)return{map:i.measure.maps[f],cache:i.measure.caches[f],before:!0}}}function Th(i,s,u,l){return nr(i,Xi(i,s),u,l)}function Xc(i,s){if(s>=i.display.viewFrom&&s<i.display.viewTo)return i.display.view[Zt(i,s)];var u=i.display.externalMeasured;return u&&s>=u.lineN&&s<u.lineN+u.size?u:void 0}function Xi(i,s){var u=at(s),l=Xc(i,u);l&&!l.text?l=null:l&&l.changes&&(qc(i,l,u,Lo(i)),i.curOp.forceUpdate=!0),l||(l=function Fv(i,s){var u=at(s=fn(s)),l=i.display.externalMeasured=new Qi(i.doc,s,u);l.lineN=u;var f=l.built=qt(i,l);return l.text=f.pre,$e(i.display.lineMeasure,f.pre),l}(i,s));var f=xh(l,s,u);return{line:s,view:l,rect:null,map:f.map,cache:f.cache,before:f.before,hasHeights:!1}}function nr(i,s,u,l,f){s.before&&(u=-1);var g,h=u+(l||"");return s.cache.hasOwnProperty(h)?g=s.cache[h]:(s.rect||(s.rect=s.view.text.getBoundingClientRect()),s.hasHeights||(function Nv(i,s,u){var l=i.options.lineWrapping,f=l&&ko(i);if(!s.measure.heights||l&&s.measure.width!=f){var h=s.measure.heights=[];if(l){s.measure.width=f;for(var g=s.text.firstChild.getClientRects(),v=0;v<g.length-1;v++){var y=g[v],C=g[v+1];Math.abs(y.bottom-C.bottom)>2&&h.push((y.bottom+C.top)/2-u.top)}}h.push(u.bottom-u.top)}}(i,s.view,s.rect),s.hasHeights=!0),(g=function Ji(i,s,u,l){var C,f=Ih(s.map,u,l),h=f.node,g=f.start,v=f.end,y=f.collapse;if(3==h.nodeType){for(var D=0;D<4;D++){for(;g&&$i(s.line.text.charAt(f.coverStart+g));)--g;for(;f.coverStart+v<f.coverEnd&&$i(s.line.text.charAt(f.coverStart+v));)++v;if((C=x&&A<9&&0==g&&v==f.coverEnd-f.coverStart?h.parentNode.getBoundingClientRect():kv(gi(h,g,v).getClientRects(),l)).left||C.right||0==g)break;v=g,g-=1,y="right"}x&&A<11&&(C=function Rh(i,s){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function zn(i){if(null!=So)return So;var s=$e(i,ie("span","x")),u=s.getBoundingClientRect(),l=gi(s,0,1).getBoundingClientRect();return So=Math.abs(u.left-l.left)>1}(i))return s;var u=screen.logicalXDPI/screen.deviceXDPI,l=screen.logicalYDPI/screen.deviceYDPI;return{left:s.left*u,right:s.right*u,top:s.top*l,bottom:s.bottom*l}}(i.display.measure,C))}else{var M;g>0&&(y=l="right"),C=i.options.lineWrapping&&(M=h.getClientRects()).length>1?M["right"==l?M.length-1:0]:h.getBoundingClientRect()}if(x&&A<9&&!g&&(!C||!C.left&&!C.right)){var N=h.parentNode.getClientRects()[0];C=N?{left:N.left,right:N.left+Ss(i.display),top:N.top,bottom:N.bottom}:Ah}for(var I=C.top-s.rect.top,L=C.bottom-s.rect.top,V=(I+L)/2,$=s.view.measure.heights,Y=0;Y<$.length-1&&!(V<$[Y]);Y++);var ne={left:("right"==y?C.right:C.left)-s.rect.left,right:("left"==y?C.left:C.right)-s.rect.left,top:Y?$[Y-1]:0,bottom:$[Y]};return!C.left&&!C.right&&(ne.bogus=!0),i.options.singleCursorHeightPerLine||(ne.rtop=I,ne.rbottom=L),ne}(i,s,u,l)).bogus||(s.cache[h]=g)),{left:g.left,right:g.right,top:f?g.rtop:g.top,bottom:f?g.rbottom:g.bottom}}var gt,Ah={left:0,right:0,top:0,bottom:0};function Ih(i,s,u){for(var l,f,h,g,v,y,C=0;C<i.length;C+=3)if(y=i[C+1],s<(v=i[C])?(f=0,h=1,g="left"):s<y?h=1+(f=s-v):(C==i.length-3||s==y&&i[C+3]>s)&&(f=(h=y-v)-1,s>=y&&(g="right")),null!=f){if(l=i[C+2],v==y&&u==(l.insertLeft?"left":"right")&&(g=u),"left"==u&&0==f)for(;C&&i[C-2]==i[C-3]&&i[C-1].insertLeft;)l=i[2+(C-=3)],g="left";if("right"==u&&f==y-v)for(;C<i.length-3&&i[C+3]==i[C+4]&&!i[C+5].insertLeft;)l=i[(C+=3)+2],g="right";break}return{node:l,start:f,end:h,collapse:g,coverStart:v,coverEnd:y}}function kv(i,s){var u=Ah;if("left"==s)for(var l=0;l<i.length&&(u=i[l]).left==u.right;l++);else for(var f=i.length-1;f>=0&&(u=i[f]).left==u.right;f--);return u}function Fn(i){if(i.measure&&(i.measure.cache={},i.measure.heights=null,i.rest))for(var s=0;s<i.rest.length;s++)i.measure.caches[s]={}}function iu(i){i.display.externalMeasure=null,Qe(i.display.lineMeasure);for(var s=0;s<i.display.view.length;s++)Fn(i.display.view[s])}function Ds(i){iu(i),i.display.cachedCharWidth=i.display.cachedTextHeight=i.display.cachedPaddingH=null,i.options.lineWrapping||(i.display.maxLineChanged=!0),i.display.lineNumChars=null}function Jc(){return F&&me?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ou(){return F&&me?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Ma(i){var s=0;if(i.widgets)for(var u=0;u<i.widgets.length;++u)i.widgets[u].above&&(s+=Sa(i.widgets[u]));return s}function xa(i,s,u,l,f){if(!f){var h=Ma(s);u.top+=h,u.bottom+=h}if("line"==l)return u;l||(l="local");var g=xn(s);if("local"==l?g+=ru(i.display):g-=i.display.viewOffset,"page"==l||"window"==l){var v=i.display.lineSpace.getBoundingClientRect();g+=v.top+("window"==l?0:ou());var y=v.left+("window"==l?0:Jc());u.left+=y,u.right+=y}return u.top+=g,u.bottom+=g,u}function Ta(i,s,u){if("div"==u)return s;var l=s.left,f=s.top;if("page"==u)l-=Jc(),f-=ou();else if("local"==u||!u){var h=i.display.sizer.getBoundingClientRect();l+=h.left,f+=h.top}var g=i.display.lineSpace.getBoundingClientRect();return{left:l-g.left,top:f-g.top}}function Aa(i,s,u,l,f){return l||(l=ee(i.doc,s.line)),xa(i,l,Th(i,l,s.ch,f),u)}function It(i,s,u,l,f,h){function g(L,V){var $=nr(i,f,L,V?"right":"left",h);return V?$.left=$.right:$.right=$.left,xa(i,l,$,u)}l=l||ee(i.doc,s.line),f||(f=Xi(i,l));var v=Ur(l,i.doc.direction),y=s.ch,C=s.sticky;if(y>=l.text.length?(y=l.text.length,C="before"):y<=0&&(y=0,C="after"),!v)return g("before"==C?y-1:y,"before"==C);function D(L,V,$){return g($?L-1:L,1==v[V].level!=$)}var M=ms(v,y,C),N=gs,I=D(y,M,"before"==C);return null!=N&&(I.other=D(y,N,"before"!=C)),I}function su(i,s){var u=0;s=we(i.doc,s),i.options.lineWrapping||(u=Ss(i.display)*s.ch);var l=ee(i.doc,s.line),f=xn(l)+ru(i.display);return{left:u,right:u,top:f,bottom:f+l.height}}function Ia(i,s,u,l,f){var h=z(i,s,u);return h.xRel=f,l&&(h.outside=l),h}function Es(i,s,u){var l=i.doc;if((u+=i.display.viewOffset)<0)return Ia(l.first,0,null,-1,-1);var f=Te(l,u),h=l.first+l.size-1;if(f>h)return Ia(l.first+l.size-1,ee(l,h).text.length,null,1,1);s<0&&(s=0);for(var g=ee(l,f);;){var v=Rt(i,g,f,s,u),y=Mn(g,v.ch+(v.xRel>0||v.outside>0?1:0));if(!y)return v;var C=y.find(1);if(C.line==f)return C;g=ee(l,f=C.line)}}function ef(i,s,u,l){l-=Ma(s);var f=s.text.length,h=ps(function(g){return nr(i,u,g-1).bottom<=l},f,0);return{begin:h,end:f=ps(function(g){return nr(i,u,g).top>l},h,f)}}function Ra(i,s,u,l){return u||(u=Xi(i,s)),ef(i,s,u,xa(i,s,nr(i,u,l),"line").top)}function tf(i,s,u,l){return!(i.bottom<=u)&&(i.top>u||(l?i.left:i.right)>s)}function Rt(i,s,u,l,f){f-=xn(s);var h=Xi(i,s),g=Ma(s),v=0,y=s.text.length,C=!0,D=Ur(s,i.doc.direction);if(D){var M=(i.options.lineWrapping?Oh:nf)(i,s,u,h,D,l,f);v=(C=1!=M.level)?M.from:M.to-1,y=C?M.to:M.from-1}var V,$,N=null,I=null,L=ps(function(le){var ae=nr(i,h,le);return ae.top+=g,ae.bottom+=g,!!tf(ae,l,f,!1)&&(ae.top<=f&&ae.left<=l&&(N=le,I=ae),!0)},v,y),Y=!1;if(I){var X=l-I.left<I.right-l,K=X==C;L=N+(K?0:1),$=K?"after":"before",V=X?I.left:I.right}else{!C&&(L==y||L==v)&&L++,$=0==L?"after":L==s.text.length?"before":nr(i,h,L-(C?1:0)).bottom+g<=f==C?"after":"before";var ne=It(i,z(u,L,$),"line",s,h);V=ne.left,Y=f<ne.top?-1:f>=ne.bottom?1:0}return Ia(u,L=ma(s.text,L,1),$,Y,l-V)}function nf(i,s,u,l,f,h,g){var v=ps(function(M){var N=f[M],I=1!=N.level;return tf(It(i,z(u,I?N.to:N.from,I?"before":"after"),"line",s,l),h,g,!0)},0,f.length-1),y=f[v];if(v>0){var C=1!=y.level,D=It(i,z(u,C?y.from:y.to,C?"after":"before"),"line",s,l);tf(D,h,g,!0)&&D.top>g&&(y=f[v-1])}return y}function Oh(i,s,u,l,f,h,g){var v=ef(i,s,l,g),y=v.begin,C=v.end;/\s/.test(s.text.charAt(C-1))&&C--;for(var D=null,M=null,N=0;N<f.length;N++){var I=f[N];if(!(I.from>=C||I.to<=y)){var V=nr(i,l,1!=I.level?Math.min(C,I.to)-1:Math.max(y,I.from)).right,$=V<h?h-V+1e9:V-h;(!D||M>$)&&(D=I,M=$)}}return D||(D=f[f.length-1]),D.from<y&&(D={from:y,to:D.to,level:D.level}),D.to>C&&(D={from:D.from,to:C,level:D.level}),D}function Po(i){if(null!=i.cachedTextHeight)return i.cachedTextHeight;if(null==gt){gt=ie("pre",null,"CodeMirror-line-like");for(var s=0;s<49;++s)gt.appendChild(document.createTextNode("x")),gt.appendChild(ie("br"));gt.appendChild(document.createTextNode("x"))}$e(i.measure,gt);var u=gt.offsetHeight/50;return u>3&&(i.cachedTextHeight=u),Qe(i.measure),u||1}function Ss(i){if(null!=i.cachedCharWidth)return i.cachedCharWidth;var s=ie("span","xxxxxxxxxx"),u=ie("pre",[s],"CodeMirror-line-like");$e(i.measure,u);var l=s.getBoundingClientRect(),f=(l.right-l.left)/10;return f>2&&(i.cachedCharWidth=f),f||10}function Lo(i){for(var s=i.display,u={},l={},f=s.gutters.clientLeft,h=s.gutters.firstChild,g=0;h;h=h.nextSibling,++g){var v=i.display.gutterSpecs[g].className;u[v]=h.offsetLeft+h.clientLeft+f,l[v]=h.clientWidth}return{fixedPos:kn(s),gutterTotalWidth:s.gutters.offsetWidth,gutterLeft:u,gutterWidth:l,wrapperWidth:s.wrapper.clientWidth}}function kn(i){return i.scroller.getBoundingClientRect().left-i.sizer.getBoundingClientRect().left}function rf(i){var s=Po(i.display),u=i.options.lineWrapping,l=u&&Math.max(5,i.display.scroller.clientWidth/Ss(i.display)-3);return function(f){if(er(i.doc,f))return 0;var h=0;if(f.widgets)for(var g=0;g<f.widgets.length;g++)f.widgets[g].height&&(h+=f.widgets[g].height);return u?h+(Math.ceil(f.text.length/l)||1)*s:h+s}}function Ms(i){var s=i.doc,u=rf(i);s.iter(function(l){var f=u(l);f!=l.height&&Wr(l,f)})}function rr(i,s,u,l){var f=i.display;if(!u&&"true"==Re(s).getAttribute("cm-not-content"))return null;var h,g,v=f.lineSpace.getBoundingClientRect();try{h=s.clientX-v.left,g=s.clientY-v.top}catch(M){return null}var C,y=Es(i,h,g);if(l&&y.xRel>0&&(C=ee(i.doc,y.line).text).length==y.ch){var D=Qn(C,C.length,i.options.tabSize)-C.length;y=z(y.line,Math.max(0,Math.round((h-Mh(i.display).left)/Ss(i.display))-D))}return y}function Zt(i,s){if(s>=i.display.viewTo||(s-=i.display.viewFrom)<0)return null;for(var u=i.display.view,l=0;l<u.length;l++)if((s-=u[l].size)<0)return l}function yn(i,s,u,l){null==s&&(s=i.doc.first),null==u&&(u=i.doc.first+i.doc.size),l||(l=0);var f=i.display;if(l&&u<f.viewTo&&(null==f.updateLineNumbers||f.updateLineNumbers>s)&&(f.updateLineNumbers=s),i.curOp.viewChanged=!0,s>=f.viewTo)Ci&&Ao(i.doc,s)<f.viewTo&&Si(i);else if(u<=f.viewFrom)Ci&&ba(i.doc,u+l)>f.viewFrom?Si(i):(f.viewFrom+=l,f.viewTo+=l);else if(s<=f.viewFrom&&u>=f.viewTo)Si(i);else if(s<=f.viewFrom){var h=hr(i,u,u+l,1);h?(f.view=f.view.slice(h.index),f.viewFrom=h.lineN,f.viewTo+=l):Si(i)}else if(u>=f.viewTo){var g=hr(i,s,s,-1);g?(f.view=f.view.slice(0,g.index),f.viewTo=g.lineN):Si(i)}else{var v=hr(i,s,s,-1),y=hr(i,u,u+l,1);v&&y?(f.view=f.view.slice(0,v.index).concat(Oo(i,v.lineN,y.lineN)).concat(f.view.slice(y.index)),f.viewTo+=l):Si(i)}var C=f.externalMeasured;C&&(u<C.lineN?C.lineN+=l:s<C.lineN+C.size&&(f.externalMeasured=null))}function xr(i,s,u){i.curOp.viewChanged=!0;var l=i.display,f=i.display.externalMeasured;if(f&&s>=f.lineN&&s<f.lineN+f.size&&(l.externalMeasured=null),!(s<l.viewFrom||s>=l.viewTo)){var h=l.view[Zt(i,s)];if(null!=h.node){var g=h.changes||(h.changes=[]);-1==en(g,u)&&g.push(u)}}}function Si(i){i.display.viewFrom=i.display.viewTo=i.doc.first,i.display.view=[],i.display.viewOffset=0}function hr(i,s,u,l){var h,f=Zt(i,s),g=i.display.view;if(!Ci||u==i.doc.first+i.doc.size)return{index:f,lineN:u};for(var v=i.display.viewFrom,y=0;y<f;y++)v+=g[y].size;if(v!=s){if(l>0){if(f==g.length-1)return null;h=v+g[f].size-s,f++}else h=v-s;s+=h,u+=h}for(;Ao(i.doc,u)!=u;){if(f==(l<0?0:g.length-1))return null;u+=l*g[f-(l<0?1:0)].size,f+=l}return{index:f,lineN:u}}function Oa(i){for(var s=i.display.view,u=0,l=0;l<s.length;l++){var f=s[l];!f.hidden&&(!f.node||f.changes)&&++u}return u}function ve(i){i.display.input.showSelection(i.display.input.prepareSelection())}function Nh(i,s){void 0===s&&(s=!0);var u=i.doc,l={},f=l.cursors=document.createDocumentFragment(),h=l.selection=document.createDocumentFragment(),g=i.options.$customCursor;g&&(s=!0);for(var v=0;v<u.sel.ranges.length;v++)if(s||v!=u.sel.primIndex){var y=u.sel.ranges[v];if(!(y.from().line>=i.display.viewTo||y.to().line<i.display.viewFrom)){var C=y.empty();if(g){var D=g(i,y);D&&au(i,D,f)}else(C||i.options.showCursorWhenSelecting)&&au(i,y.head,f);C||Fh(i,y,h)}}return l}function au(i,s,u){var l=It(i,s,"div",null,null,!i.options.singleCursorHeightPerLine),f=u.appendChild(ie("div","\xa0","CodeMirror-cursor"));if(f.style.left=l.left+"px",f.style.top=l.top+"px",f.style.height=Math.max(0,l.bottom-l.top)*i.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(i.getWrapperElement().className)){var h=Aa(i,s,"div",null,null),g=h.right-h.left;f.style.width=(g>0?g:i.defaultCharWidth())+"px"}if(l.other){var v=u.appendChild(ie("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));v.style.display="",v.style.left=l.other.left+"px",v.style.top=l.other.top+"px",v.style.height=.85*(l.other.bottom-l.other.top)+"px"}}function Na(i,s){return i.top-s.top||i.left-s.left}function Fh(i,s,u){var l=i.display,f=i.doc,h=document.createDocumentFragment(),g=Mh(i.display),v=g.left,y=Math.max(l.sizerWidth,ko(i)-l.sizer.offsetLeft)-g.right,C="ltr"==f.direction;function D(K,ne,le,ae){ne<0&&(ne=0),ne=Math.round(ne),ae=Math.round(ae),h.appendChild(ie("div",null,"CodeMirror-selected","position: absolute; left: "+K+"px;\n                             top: "+ne+"px; width: "+(null==le?y-K:le)+"px;\n                             height: "+(ae-ne)+"px"))}function M(K,ne,le){var dt,sn,ae=ee(f,K),ke=ae.text.length;function Mt(xt,bn){return Aa(i,z(K,xt),"div",ae,bn)}function an(xt,bn,Yt){var Ge=Ra(i,ae,null,xt),_t="ltr"==bn==("after"==Yt)?"left":"right";return Mt("after"==Yt?Ge.begin:Ge.end-(/\s/.test(ae.text.charAt(Ge.end-1))?2:1),_t)[_t]}var ct=Ur(ae,f.direction);return function jl(i,s,u,l){if(!i)return l(s,u,"ltr",0);for(var f=!1,h=0;h<i.length;++h){var g=i[h];(g.from<u&&g.to>s||s==u&&g.to==s)&&(l(Math.max(g.from,s),Math.min(g.to,u),1==g.level?"rtl":"ltr",h),f=!0)}f||l(s,u,"ltr")}(ct,ne||0,null==le?ke:le,function(xt,bn,Yt,Ge){var _t="ltr"==Yt,Ct=Mt(xt,_t?"left":"right"),In=Mt(bn-1,_t?"right":"left"),Xo=null==ne&&0==xt,ti=null==le&&bn==ke,pn=0==Ge,_r=!ct||Ge==ct.length-1;if(In.top-Ct.top<=3){var ni=(C?Xo:ti)&&pn?v:(_t?Ct:In).left;D(ni,Ct.top,((C?ti:Xo)&&_r?y:(_t?In:Ct).right)-ni,Ct.bottom)}else{var ri,wn,Jo,Qs;_t?(ri=C&&Xo&&pn?v:Ct.left,wn=C?y:an(xt,Yt,"before"),Jo=C?v:an(bn,Yt,"after"),Qs=C&&ti&&_r?y:In.right):(ri=C?an(xt,Yt,"before"):v,wn=!C&&Xo&&pn?y:Ct.right,Jo=!C&&ti&&_r?v:In.left,Qs=C?an(bn,Yt,"after"):y),D(ri,Ct.top,wn-ri,Ct.bottom),Ct.bottom<In.top&&D(v,Ct.bottom,null,In.top),D(Jo,In.top,Qs-Jo,In.bottom)}(!dt||Na(Ct,dt)<0)&&(dt=Ct),Na(In,dt)<0&&(dt=In),(!sn||Na(Ct,sn)<0)&&(sn=Ct),Na(In,sn)<0&&(sn=In)}),{start:dt,end:sn}}var N=s.from(),I=s.to();if(N.line==I.line)M(N.line,N.ch,I.ch);else{var L=ee(f,N.line),V=ee(f,I.line),$=fn(L)==fn(V),Y=M(N.line,N.ch,$?L.text.length+1:null).end,X=M(I.line,$?0:null,I.ch).start;$&&(Y.top<X.top-2?(D(Y.right,Y.top,null,Y.bottom),D(v,X.top,X.left,X.bottom)):D(Y.right,Y.top,X.left-Y.right,Y.bottom)),Y.bottom<X.top&&D(v,Y.bottom,null,X.top)}u.appendChild(h)}function Fa(i){if(i.state.focused){var s=i.display;clearInterval(s.blinker);var u=!0;s.cursorDiv.style.visibility="",i.options.cursorBlinkRate>0?s.blinker=setInterval(function(){i.hasFocus()||Be(i),s.cursorDiv.style.visibility=(u=!u)?"":"hidden"},i.options.cursorBlinkRate):i.options.cursorBlinkRate<0&&(s.cursorDiv.style.visibility="hidden")}}function af(i){i.hasFocus()||(i.display.input.focus(),i.state.focused||W(i))}function lu(i){i.state.delayingBlurEvent=!0,setTimeout(function(){i.state.delayingBlurEvent&&(i.state.delayingBlurEvent=!1,i.state.focused&&Be(i))},100)}function W(i,s){i.state.delayingBlurEvent&&!i.state.draggingText&&(i.state.delayingBlurEvent=!1),"nocursor"!=i.options.readOnly&&(i.state.focused||(Ft(i,"focus",i,s),i.state.focused=!0,mi(i.display.wrapper,"CodeMirror-focused"),!i.curOp&&i.display.selForContextMenu!=i.doc.sel&&(i.display.input.reset(),R&&setTimeout(function(){return i.display.input.reset(!0)},20)),i.display.input.receivedFocus()),Fa(i))}function Be(i,s){i.state.delayingBlurEvent||(i.state.focused&&(Ft(i,"blur",i,s),i.state.focused=!1,At(i.display.wrapper,"CodeMirror-focused")),clearInterval(i.display.blinker),setTimeout(function(){i.state.focused||(i.display.shift=!1)},150))}function eo(i){for(var s=i.display,u=s.lineDiv.offsetTop,l=Math.max(0,s.scroller.getBoundingClientRect().top),f=s.lineDiv.getBoundingClientRect().top,h=0,g=0;g<s.view.length;g++){var v=s.view[g],y=i.options.lineWrapping,C=void 0,D=0;if(!v.hidden){if(f+=v.line.height,x&&A<8){var M=v.node.offsetTop+v.node.offsetHeight;C=M-u,u=M}else{var N=v.node.getBoundingClientRect();C=N.bottom-N.top,!y&&v.text.firstChild&&(D=v.text.firstChild.getBoundingClientRect().right-N.left-1)}var I=v.line.height-C;if((I>.005||I<-.005)&&(f<l&&(h-=I),Wr(v.line,C),Ht(v.line),v.rest))for(var L=0;L<v.rest.length;L++)Ht(v.rest[L]);if(D>i.display.sizerWidth){var V=Math.ceil(D/Ss(i.display));V>i.display.maxLineLength&&(i.display.maxLineLength=V,i.display.maxLine=v.line,i.display.maxLineChanged=!0)}}}Math.abs(h)>2&&(s.scroller.scrollTop+=h)}function Ht(i){if(i.widgets)for(var s=0;s<i.widgets.length;++s){var u=i.widgets[s],l=u.node.parentNode;l&&(u.height=l.offsetHeight)}}function xs(i,s,u){var l=u&&null!=u.top?Math.max(0,u.top):i.scroller.scrollTop;l=Math.floor(l-ru(i));var f=u&&null!=u.bottom?u.bottom:l+i.wrapper.clientHeight,h=Te(s,l),g=Te(s,f);if(u&&u.ensure){var v=u.ensure.from.line,y=u.ensure.to.line;v<h?(h=v,g=Te(s,xn(ee(s,v))+i.wrapper.clientHeight)):Math.min(y,s.lastLine())>=g&&(h=Te(s,xn(ee(s,y))-i.wrapper.clientHeight),g=y)}return{from:h,to:Math.max(g,h+1)}}function As(i,s){var u=i.display,l=Po(i.display);s.top<0&&(s.top=0);var f=i.curOp&&null!=i.curOp.scrollTop?i.curOp.scrollTop:u.scroller.scrollTop,h=Qc(i),g={};s.bottom-s.top>h&&(s.bottom=s.top+h);var v=i.doc.height+Yc(u),C=s.bottom>v-l;if(s.top<f)g.scrollTop=s.top<l?0:s.top;else if(s.bottom>f+h){var D=Math.min(s.top,(C?v:s.bottom)-h);D!=f&&(g.scrollTop=D)}var M=i.options.fixedGutter?0:u.gutters.offsetWidth,N=i.curOp&&null!=i.curOp.scrollLeft?i.curOp.scrollLeft:u.scroller.scrollLeft-M,I=ko(i)-u.gutters.offsetWidth,L=s.right-s.left>I;return L&&(s.right=s.left+I),s.left<10?g.scrollLeft=0:s.left<N?g.scrollLeft=Math.max(0,s.left+M-(L?0:10)):s.right>I+N-3&&(g.scrollLeft=s.right+(L?0:10)-I),g}function lf(i,s){null!=s&&(on(i),i.curOp.scrollTop=(null==i.curOp.scrollTop?i.doc.scrollTop:i.curOp.scrollTop)+s)}function Vo(i){on(i);var s=i.getCursor();i.curOp.scrollToPos={from:s,to:s,margin:i.options.cursorScrollMargin}}function Mi(i,s,u){(null!=s||null!=u)&&on(i),null!=s&&(i.curOp.scrollLeft=s),null!=u&&(i.curOp.scrollTop=u)}function on(i){var s=i.curOp.scrollToPos;s&&(i.curOp.scrollToPos=null,Ar(i,su(i,s.from),su(i,s.to),s.margin))}function Ar(i,s,u,l){var f=As(i,{left:Math.min(s.left,u.left),top:Math.min(s.top,u.top)-l,right:Math.max(s.right,u.right),bottom:Math.max(s.bottom,u.bottom)+l});Mi(i,f.scrollLeft,f.scrollTop)}function Bo(i,s){Math.abs(i.doc.scrollTop-s)<2||(Ne||Uo(i,{top:s}),to(i,s,!0),Ne&&Uo(i),vt(i,100))}function to(i,s,u){s=Math.max(0,Math.min(i.display.scroller.scrollHeight-i.display.scroller.clientHeight,s)),(i.display.scroller.scrollTop!=s||u)&&(i.doc.scrollTop=s,i.display.scrollbars.setScrollTop(s),i.display.scroller.scrollTop!=s&&(i.display.scroller.scrollTop=s))}function An(i,s,u,l){s=Math.max(0,Math.min(s,i.display.scroller.scrollWidth-i.display.scroller.clientWidth)),(!(u?s==i.doc.scrollLeft:Math.abs(i.doc.scrollLeft-s)<2)||l)&&(i.doc.scrollLeft=s,hf(i),i.display.scroller.scrollLeft!=s&&(i.display.scroller.scrollLeft=s),i.display.scrollbars.setScrollLeft(s))}function Is(i){var s=i.display,u=s.gutters.offsetWidth,l=Math.round(i.doc.height+Yc(i.display));return{clientHeight:s.scroller.clientHeight,viewHeight:s.wrapper.clientHeight,scrollWidth:s.scroller.scrollWidth,clientWidth:s.scroller.clientWidth,viewWidth:s.wrapper.clientWidth,barLeft:i.options.fixedGutter?u:0,docHeight:l,scrollHeight:l+Gr(i)+s.barHeight,nativeBarWidth:s.nativeBarWidth,gutterWidth:u}}var xi=function(i,s,u){this.cm=u;var l=this.vert=ie("div",[ie("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),f=this.horiz=ie("div",[ie("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");l.tabIndex=f.tabIndex=-1,i(l),i(f),pe(l,"scroll",function(){l.clientHeight&&s(l.scrollTop,"vertical")}),pe(f,"scroll",function(){f.clientWidth&&s(f.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,x&&A<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};xi.prototype.update=function(i){var s=i.scrollWidth>i.clientWidth+1,u=i.scrollHeight>i.clientHeight+1,l=i.nativeBarWidth;return u?(this.vert.style.display="block",this.vert.style.bottom=s?l+"px":"0",this.vert.firstChild.style.height=Math.max(0,i.scrollHeight-i.clientHeight+(i.viewHeight-(s?l:0)))+"px"):(this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0"),s?(this.horiz.style.display="block",this.horiz.style.right=u?l+"px":"0",this.horiz.style.left=i.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,i.scrollWidth-i.clientWidth+(i.viewWidth-i.barLeft-(u?l:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&i.clientHeight>0&&(0==l&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:u?l:0,bottom:s?l:0}},xi.prototype.setScrollLeft=function(i){this.horiz.scrollLeft!=i&&(this.horiz.scrollLeft=i),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},xi.prototype.setScrollTop=function(i){this.vert.scrollTop!=i&&(this.vert.scrollTop=i),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},xi.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=De&&!Z?"12px":"18px",this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new vi,this.disableVert=new vi},xi.prototype.enableZeroWidthBar=function(i,s,u){i.style.pointerEvents="auto",s.set(1e3,function l(){var f=i.getBoundingClientRect();("vert"==u?document.elementFromPoint(f.right-1,(f.top+f.bottom)/2):document.elementFromPoint((f.right+f.left)/2,f.bottom-1))!=i?i.style.pointerEvents="none":s.set(1e3,l)})},xi.prototype.clear=function(){var i=this.horiz.parentNode;i.removeChild(this.horiz),i.removeChild(this.vert)};var Rs=function(){};function Ho(i,s){s||(s=Is(i));var u=i.display.barWidth,l=i.display.barHeight;Pa(i,s);for(var f=0;f<4&&u!=i.display.barWidth||l!=i.display.barHeight;f++)u!=i.display.barWidth&&i.options.lineWrapping&&eo(i),Pa(i,Is(i)),u=i.display.barWidth,l=i.display.barHeight}function Pa(i,s){var u=i.display,l=u.scrollbars.update(s);u.sizer.style.paddingRight=(u.barWidth=l.right)+"px",u.sizer.style.paddingBottom=(u.barHeight=l.bottom)+"px",u.heightForcer.style.borderBottom=l.bottom+"px solid transparent",l.right&&l.bottom?(u.scrollbarFiller.style.display="block",u.scrollbarFiller.style.height=l.bottom+"px",u.scrollbarFiller.style.width=l.right+"px"):u.scrollbarFiller.style.display="",l.bottom&&i.options.coverGutterNextToScrollbar&&i.options.fixedGutter?(u.gutterFiller.style.display="block",u.gutterFiller.style.height=l.bottom+"px",u.gutterFiller.style.width=s.gutterWidth+"px"):u.gutterFiller.style.display=""}Rs.prototype.update=function(){return{bottom:0,right:0}},Rs.prototype.setScrollLeft=function(){},Rs.prototype.setScrollTop=function(){},Rs.prototype.clear=function(){};var La={native:xi,null:Rs};function cu(i){i.display.scrollbars&&(i.display.scrollbars.clear(),i.display.scrollbars.addClass&&At(i.display.wrapper,i.display.scrollbars.addClass)),i.display.scrollbars=new La[i.options.scrollbarStyle](function(s){i.display.wrapper.insertBefore(s,i.display.scrollbarFiller),pe(s,"mousedown",function(){i.state.focused&&setTimeout(function(){return i.display.input.focus()},0)}),s.setAttribute("cm-not-content","true")},function(s,u){"horizontal"==u?An(i,s):Bo(i,s)},i),i.display.scrollbars.addClass&&mi(i.display.wrapper,i.display.scrollbars.addClass)}var fu=0;function no(i){i.curOp={cm:i,viewChanged:!1,startHeight:i.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++fu,markArrays:null},function On(i){fr?fr.ops.push(i):i.ownsGroup=fr={ops:[i],delayedCallbacks:[]}}(i.curOp)}function Ti(i){var s=i.curOp;s&&function No(i,s){var u=i.ownsGroup;if(u)try{!function ws(i){var s=i.delayedCallbacks,u=0;do{for(;u<s.length;u++)s[u].call(null);for(var l=0;l<i.ops.length;l++){var f=i.ops[l];if(f.cursorActivityHandlers)for(;f.cursorActivityCalled<f.cursorActivityHandlers.length;)f.cursorActivityHandlers[f.cursorActivityCalled++].call(null,f.cm)}}while(u<s.length)}(u)}finally{fr=null,s(u)}}(s,function(u){for(var l=0;l<u.ops.length;l++)u.ops[l].cm.curOp=null;!function Va(i){for(var s=i.ops,u=0;u<s.length;u++)uf(s[u]);for(var l=0;l<s.length;l++)cf(s[l]);for(var f=0;f<s.length;f++)ff(s[f]);for(var h=0;h<s.length;h++)df(s[h]);for(var g=0;g<s.length;g++)Ba(s[g])}(u)})}function uf(i){var s=i.cm,u=s.display;(function Ph(i){var s=i.display;!s.scrollbarsClipped&&s.scroller.offsetWidth&&(s.nativeBarWidth=s.scroller.offsetWidth-s.scroller.clientWidth,s.heightForcer.style.height=Gr(i)+"px",s.sizer.style.marginBottom=-s.nativeBarWidth+"px",s.sizer.style.borderRightWidth=Gr(i)+"px",s.scrollbarsClipped=!0)})(s),i.updateMaxLine&&nu(s),i.mustUpdate=i.viewChanged||i.forceUpdate||null!=i.scrollTop||i.scrollToPos&&(i.scrollToPos.from.line<u.viewFrom||i.scrollToPos.to.line>=u.viewTo)||u.maxLineChanged&&s.options.lineWrapping,i.update=i.mustUpdate&&new Ha(s,i.mustUpdate&&{top:i.scrollTop,ensure:i.scrollToPos},i.forceUpdate)}function cf(i){i.updatedDisplay=i.mustUpdate&&du(i.cm,i.update)}function ff(i){var s=i.cm,u=s.display;i.updatedDisplay&&eo(s),i.barMeasure=Is(s),u.maxLineChanged&&!s.options.lineWrapping&&(i.adjustWidthTo=Th(s,u.maxLine,u.maxLine.text.length).left+3,s.display.sizerWidth=i.adjustWidthTo,i.barMeasure.scrollWidth=Math.max(u.scroller.clientWidth,u.sizer.offsetLeft+i.adjustWidthTo+Gr(s)+s.display.barWidth),i.maxScrollLeft=Math.max(0,u.sizer.offsetLeft+i.adjustWidthTo-ko(s))),(i.updatedDisplay||i.selectionChanged)&&(i.preparedSelection=u.input.prepareSelection())}function df(i){var s=i.cm;null!=i.adjustWidthTo&&(s.display.sizer.style.minWidth=i.adjustWidthTo+"px",i.maxScrollLeft<s.doc.scrollLeft&&An(s,Math.min(s.display.scroller.scrollLeft,i.maxScrollLeft),!0),s.display.maxLineChanged=!1);var u=i.focus&&i.focus==Dn();i.preparedSelection&&s.display.input.showSelection(i.preparedSelection,u),(i.updatedDisplay||i.startHeight!=s.doc.height)&&Ho(s,i.barMeasure),i.updatedDisplay&&ja(s,i.barMeasure),i.selectionChanged&&Fa(s),s.state.focused&&i.updateInput&&s.display.input.reset(i.typing),u&&af(i.cm)}function Ba(i){var s=i.cm,u=s.display,l=s.doc;i.updatedDisplay&&Os(s,i.update),null!=u.wheelStartX&&(null!=i.scrollTop||null!=i.scrollLeft||i.scrollToPos)&&(u.wheelStartX=u.wheelStartY=null),null!=i.scrollTop&&to(s,i.scrollTop,i.forceScroll),null!=i.scrollLeft&&An(s,i.scrollLeft,!0,!0),i.scrollToPos&&function Ts(i,s){if(!zt(i,"scrollCursorIntoView")){var u=i.display,l=u.sizer.getBoundingClientRect(),f=null;if(s.top+l.top<0?f=!0:s.bottom+l.top>(window.innerHeight||document.documentElement.clientHeight)&&(f=!1),null!=f&&!re){var h=ie("div","\u200b",null,"position: absolute;\n                         top: "+(s.top-u.viewOffset-ru(i.display))+"px;\n                         height: "+(s.bottom-s.top+Gr(i)+u.barHeight)+"px;\n                         left: "+s.left+"px; width: "+Math.max(2,s.right-s.left)+"px;");i.display.lineSpace.appendChild(h),h.scrollIntoView(f),i.display.lineSpace.removeChild(h)}}}(s,function Tr(i,s,u,l){var f;null==l&&(l=0),!i.options.lineWrapping&&s==u&&(u="before"==s.sticky?z(s.line,s.ch+1,"before"):s,s=s.ch?z(s.line,"before"==s.sticky?s.ch-1:s.ch,"after"):s);for(var h=0;h<5;h++){var g=!1,v=It(i,s),y=u&&u!=s?It(i,u):v,C=As(i,f={left:Math.min(v.left,y.left),top:Math.min(v.top,y.top)-l,right:Math.max(v.left,y.left),bottom:Math.max(v.bottom,y.bottom)+l}),D=i.doc.scrollTop,M=i.doc.scrollLeft;if(null!=C.scrollTop&&(Bo(i,C.scrollTop),Math.abs(i.doc.scrollTop-D)>1&&(g=!0)),null!=C.scrollLeft&&(An(i,C.scrollLeft),Math.abs(i.doc.scrollLeft-M)>1&&(g=!0)),!g)break}return f}(s,we(l,i.scrollToPos.from),we(l,i.scrollToPos.to),i.scrollToPos.margin));var h=i.maybeHiddenMarkers,g=i.maybeUnhiddenMarkers;if(h)for(var v=0;v<h.length;++v)h[v].lines.length||Ft(h[v],"hide");if(g)for(var y=0;y<g.length;++y)g[y].lines.length&&Ft(g[y],"unhide");u.wrapper.offsetHeight&&(l.scrollTop=s.display.scroller.scrollTop),i.changeObjs&&Ft(s,"changes",s,i.changeObjs),i.update&&i.update.finish()}function Pn(i,s){if(i.curOp)return s();no(i);try{return s()}finally{Ti(i)}}function Kt(i,s){return function(){if(i.curOp)return s.apply(i,arguments);no(i);try{return s.apply(i,arguments)}finally{Ti(i)}}}function st(i){return function(){if(this.curOp)return i.apply(this,arguments);no(this);try{return i.apply(this,arguments)}finally{Ti(this)}}}function mt(i){return function(){var s=this.cm;if(!s||s.curOp)return i.apply(this,arguments);no(s);try{return i.apply(this,arguments)}finally{Ti(s)}}}function vt(i,s){i.doc.highlightFrontier<i.display.viewTo&&i.state.highlight.set(s,wo(kh,i))}function kh(i){var s=i.doc;if(!(s.highlightFrontier>=i.display.viewTo)){var u=+new Date+i.options.workTime,l=Ca(i,s.highlightFrontier),f=[];s.iter(l.line,Math.min(s.first+s.size,i.display.viewTo+500),function(h){if(l.line>=i.display.viewFrom){var g=h.styles,v=h.text.length>i.options.maxHighlightLength?Gi(s.mode,l.state):null,y=zr(i,h,l,!0);v&&(l.state=v),h.styles=y.styles;var C=h.styleClasses,D=y.classes;D?h.styleClasses=D:C&&(h.styleClasses=null);for(var M=!g||g.length!=h.styles.length||C!=D&&(!C||!D||C.bgClass!=D.bgClass||C.textClass!=D.textClass),N=0;!M&&N<g.length;++N)M=g[N]!=h.styles[N];M&&f.push(l.line),h.stateAfter=l.save(),l.nextLine()}else h.text.length<=i.options.maxHighlightLength&&Mr(i,h.text,l),h.stateAfter=l.line%5==0?l.save():null,l.nextLine();if(+new Date>u)return vt(i,i.options.workDelay),!0}),s.highlightFrontier=l.line,s.modeFrontier=Math.max(s.modeFrontier,l.line),f.length&&Pn(i,function(){for(var h=0;h<f.length;h++)xr(i,f[h],"text")})}}var Ha=function(i,s,u){var l=i.display;this.viewport=s,this.visible=xs(l,i.doc,s),this.editorIsHidden=!l.wrapper.offsetWidth,this.wrapperHeight=l.wrapper.clientHeight,this.wrapperWidth=l.wrapper.clientWidth,this.oldDisplayWidth=ko(i),this.force=u,this.dims=Lo(i),this.events=[]};function du(i,s){var u=i.display,l=i.doc;if(s.editorIsHidden)return Si(i),!1;if(!s.force&&s.visible.from>=u.viewFrom&&s.visible.to<=u.viewTo&&(null==u.updateLineNumbers||u.updateLineNumbers>=u.viewTo)&&u.renderedView==u.view&&0==Oa(i))return!1;qr(i)&&(Si(i),s.dims=Lo(i));var f=l.first+l.size,h=Math.max(s.visible.from-i.options.viewportMargin,l.first),g=Math.min(f,s.visible.to+i.options.viewportMargin);u.viewFrom<h&&h-u.viewFrom<20&&(h=Math.max(l.first,u.viewFrom)),u.viewTo>g&&u.viewTo-g<20&&(g=Math.min(f,u.viewTo)),Ci&&(h=Ao(i.doc,h),g=ba(i.doc,g));var v=h!=u.viewFrom||g!=u.viewTo||u.lastWrapHeight!=s.wrapperHeight||u.lastWrapWidth!=s.wrapperWidth;(function sf(i,s,u){var l=i.display;0==l.view.length||s>=l.viewTo||u<=l.viewFrom?(l.view=Oo(i,s,u),l.viewFrom=s):(l.viewFrom>s?l.view=Oo(i,s,l.viewFrom).concat(l.view):l.viewFrom<s&&(l.view=l.view.slice(Zt(i,s))),l.viewFrom=s,l.viewTo<u?l.view=l.view.concat(Oo(i,l.viewTo,u)):l.viewTo>u&&(l.view=l.view.slice(0,Zt(i,u)))),l.viewTo=u})(i,h,g),u.viewOffset=xn(ee(i.doc,u.viewFrom)),i.display.mover.style.top=u.viewOffset+"px";var y=Oa(i);if(!v&&0==y&&!s.force&&u.renderedView==u.view&&(null==u.updateLineNumbers||u.updateLineNumbers>=u.viewTo))return!1;var C=function Lh(i){if(i.hasFocus())return null;var s=Dn();if(!s||!jn(i.display.lineDiv,s))return null;var u={activeElt:s};if(window.getSelection){var l=window.getSelection();l.anchorNode&&l.extend&&jn(i.display.lineDiv,l.anchorNode)&&(u.anchorNode=l.anchorNode,u.anchorOffset=l.anchorOffset,u.focusNode=l.focusNode,u.focusOffset=l.focusOffset)}return u}(i);return y>4&&(u.lineDiv.style.display="none"),function Ua(i,s,u){var l=i.display,f=i.options.lineNumbers,h=l.lineDiv,g=h.firstChild;function v(L){var V=L.nextSibling;return R&&De&&i.display.currentWheelTarget==L?L.style.display="none":L.parentNode.removeChild(L),V}for(var y=l.view,C=l.viewFrom,D=0;D<y.length;D++){var M=y[D];if(!M.hidden)if(M.node&&M.node.parentNode==h){for(;g!=M.node;)g=v(g);var I=f&&null!=s&&s<=C&&M.lineNumber;M.changes&&(en(M.changes,"gutter")>-1&&(I=!1),qc(i,M,C,u)),I&&(Qe(M.lineNumber),M.lineNumber.appendChild(document.createTextNode($t(i.options,C)))),g=M.node.nextSibling}else{var N=Rv(i,M,C,u);h.insertBefore(N,g)}C+=M.size}for(;g;)g=v(g)}(i,u.updateLineNumbers,s.dims),y>4&&(u.lineDiv.style.display=""),u.renderedView=u.view,function Vh(i){if(i&&i.activeElt&&i.activeElt!=Dn()&&(i.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(i.activeElt.nodeName)&&i.anchorNode&&jn(document.body,i.anchorNode)&&jn(document.body,i.focusNode))){var s=window.getSelection(),u=document.createRange();u.setEnd(i.anchorNode,i.anchorOffset),u.collapse(!1),s.removeAllRanges(),s.addRange(u),s.extend(i.focusNode,i.focusOffset)}}(C),Qe(u.cursorDiv),Qe(u.selectionDiv),u.gutters.style.height=u.sizer.style.minHeight=0,v&&(u.lastWrapHeight=s.wrapperHeight,u.lastWrapWidth=s.wrapperWidth,vt(i,400)),u.updateLineNumbers=null,!0}function Os(i,s){for(var u=s.viewport,l=!0;;l=!1){if(l&&i.options.lineWrapping&&s.oldDisplayWidth!=ko(i))l&&(s.visible=xs(i.display,i.doc,u));else if(u&&null!=u.top&&(u={top:Math.min(i.doc.height+Yc(i.display)-Qc(i),u.top)}),s.visible=xs(i.display,i.doc,u),s.visible.from>=i.display.viewFrom&&s.visible.to<=i.display.viewTo)break;if(!du(i,s))break;eo(i);var f=Is(i);ve(i),Ho(i,f),ja(i,f),s.force=!1}s.signal(i,"update",i),(i.display.viewFrom!=i.display.reportedViewFrom||i.display.viewTo!=i.display.reportedViewTo)&&(s.signal(i,"viewportChange",i,i.display.viewFrom,i.display.viewTo),i.display.reportedViewFrom=i.display.viewFrom,i.display.reportedViewTo=i.display.viewTo)}function Uo(i,s){var u=new Ha(i,s);if(du(i,u)){eo(i),Os(i,u);var l=Is(i);ve(i),Ho(i,l),ja(i,l),u.finish()}}function Ns(i){i.sizer.style.marginLeft=i.gutters.offsetWidth+"px",Ie(i,"gutterChanged",i)}function ja(i,s){i.display.sizer.style.minHeight=s.docHeight+"px",i.display.heightForcer.style.top=s.docHeight+"px",i.display.gutters.style.height=s.docHeight+i.display.barHeight+Gr(i)+"px"}function hf(i){var s=i.display,u=s.view;if(s.alignWidgets||s.gutters.firstChild&&i.options.fixedGutter){for(var l=kn(s)-s.scroller.scrollLeft+i.doc.scrollLeft,f=s.gutters.offsetWidth,h=l+"px",g=0;g<u.length;g++)if(!u[g].hidden){i.options.fixedGutter&&(u[g].gutter&&(u[g].gutter.style.left=h),u[g].gutterBackground&&(u[g].gutterBackground.style.left=h));var v=u[g].alignable;if(v)for(var y=0;y<v.length;y++)v[y].style.left=h}i.options.fixedGutter&&(s.gutters.style.left=l+f+"px")}}function qr(i){if(!i.options.lineNumbers)return!1;var s=i.doc,u=$t(i.options,s.first+s.size-1),l=i.display;if(u.length!=l.lineNumChars){var f=l.measure.appendChild(ie("div",[ie("div",u)],"CodeMirror-linenumber CodeMirror-gutter-elt")),h=f.firstChild.offsetWidth,g=f.offsetWidth-h;return l.lineGutter.style.width="",l.lineNumInnerWidth=Math.max(h,l.lineGutter.offsetWidth-g)+1,l.lineNumWidth=l.lineNumInnerWidth+g,l.lineNumChars=l.lineNumInnerWidth?u.length:-1,l.lineGutter.style.width=l.lineNumWidth+"px",Ns(i.display),!0}return!1}function ro(i,s){for(var u=[],l=!1,f=0;f<i.length;f++){var h=i[f],g=null;if("string"!=typeof h&&(g=h.style,h=h.className),"CodeMirror-linenumbers"==h){if(!s)continue;l=!0}u.push({className:h,style:g})}return s&&!l&&u.push({className:"CodeMirror-linenumbers",style:null}),u}function pf(i){var s=i.gutters,u=i.gutterSpecs;Qe(s),i.lineGutter=null;for(var l=0;l<u.length;++l){var f=u[l],h=f.className,g=f.style,v=s.appendChild(ie("div",null,"CodeMirror-gutter "+h));g&&(v.style.cssText=g),"CodeMirror-linenumbers"==h&&(i.lineGutter=v,v.style.width=(i.lineNumWidth||1)+"px")}s.style.display=u.length?"":"none",Ns(i)}function Fs(i){pf(i.display),yn(i),hf(i)}function ks(i,s,u,l){var f=this;this.input=u,f.scrollbarFiller=ie("div",null,"CodeMirror-scrollbar-filler"),f.scrollbarFiller.setAttribute("cm-not-content","true"),f.gutterFiller=ie("div",null,"CodeMirror-gutter-filler"),f.gutterFiller.setAttribute("cm-not-content","true"),f.lineDiv=ht("div",null,"CodeMirror-code"),f.selectionDiv=ie("div",null,null,"position: relative; z-index: 1"),f.cursorDiv=ie("div",null,"CodeMirror-cursors"),f.measure=ie("div",null,"CodeMirror-measure"),f.lineMeasure=ie("div",null,"CodeMirror-measure"),f.lineSpace=ht("div",[f.measure,f.lineMeasure,f.selectionDiv,f.cursorDiv,f.lineDiv],null,"position: relative; outline: none");var h=ht("div",[f.lineSpace],"CodeMirror-lines");f.mover=ie("div",[h],null,"position: relative"),f.sizer=ie("div",[f.mover],"CodeMirror-sizer"),f.sizerWidth=null,f.heightForcer=ie("div",null,null,"position: absolute; height: 50px; width: 1px;"),f.gutters=ie("div",null,"CodeMirror-gutters"),f.lineGutter=null,f.scroller=ie("div",[f.sizer,f.heightForcer,f.gutters],"CodeMirror-scroll"),f.scroller.setAttribute("tabIndex","-1"),f.wrapper=ie("div",[f.scrollbarFiller,f.gutterFiller,f.scroller],"CodeMirror"),f.wrapper.setAttribute("translate","no"),x&&A<8&&(f.gutters.style.zIndex=-1,f.scroller.style.paddingRight=0),!R&&!(Ne&&ye)&&(f.scroller.draggable=!0),i&&(i.appendChild?i.appendChild(f.wrapper):i(f.wrapper)),f.viewFrom=f.viewTo=s.first,f.reportedViewFrom=f.reportedViewTo=s.first,f.view=[],f.renderedView=null,f.externalMeasured=null,f.viewOffset=0,f.lastWrapHeight=f.lastWrapWidth=0,f.updateLineNumbers=null,f.nativeBarWidth=f.barHeight=f.barWidth=0,f.scrollbarsClipped=!1,f.lineNumWidth=f.lineNumInnerWidth=f.lineNumChars=null,f.alignWidgets=!1,f.cachedCharWidth=f.cachedTextHeight=f.cachedPaddingH=null,f.maxLine=null,f.maxLineLength=0,f.maxLineChanged=!1,f.wheelDX=f.wheelDY=f.wheelStartX=f.wheelStartY=null,f.shift=!1,f.selForContextMenu=null,f.activeTouch=null,f.gutterSpecs=ro(l.gutters,l.lineNumbers),pf(f),u.init(f)}Ha.prototype.signal=function(i,s){Ue(i,s)&&this.events.push(arguments)},Ha.prototype.finish=function(){for(var i=0;i<this.events.length;i++)Ft.apply(null,this.events[i])};var jo=0,Zr=null;function gf(i){var s=i.wheelDeltaX,u=i.wheelDeltaY;return null==s&&i.detail&&i.axis==i.HORIZONTAL_AXIS&&(s=i.detail),null==u&&i.detail&&i.axis==i.VERTICAL_AXIS?u=i.detail:null==u&&(u=i.wheelDelta),{x:s,y:u}}function Pv(i){var s=gf(i);return s.x*=Zr,s.y*=Zr,s}function Bh(i,s){var u=gf(s),l=u.x,f=u.y,h=Zr;0===s.deltaMode&&(l=s.deltaX,f=s.deltaY,h=1);var g=i.display,v=g.scroller,C=v.scrollHeight>v.clientHeight;if(l&&v.scrollWidth>v.clientWidth||f&&C){if(f&&De&&R)e:for(var D=s.target,M=g.view;D!=v;D=D.parentNode)for(var N=0;N<M.length;N++)if(M[N].node==D){i.display.currentWheelTarget=D;break e}if(l&&!Ne&&!P&&null!=h)return f&&C&&Bo(i,Math.max(0,v.scrollTop+f*h)),An(i,Math.max(0,v.scrollLeft+l*h)),(!f||f&&C)&&Ce(s),void(g.wheelStartX=null);if(f&&null!=h){var I=f*h,L=i.doc.scrollTop,V=L+g.wrapper.clientHeight;I<0?L=Math.max(0,L+I-50):V=Math.min(i.doc.height,V+I+50),Uo(i,{top:L,bottom:V})}jo<20&&0!==s.deltaMode&&(null==g.wheelStartX?(g.wheelStartX=v.scrollLeft,g.wheelStartY=v.scrollTop,g.wheelDX=l,g.wheelDY=f,setTimeout(function(){if(null!=g.wheelStartX){var $=v.scrollLeft-g.wheelStartX,Y=v.scrollTop-g.wheelStartY,X=Y&&g.wheelDY&&Y/g.wheelDY||$&&g.wheelDX&&$/g.wheelDX;g.wheelStartX=g.wheelStartY=null,X&&(Zr=(Zr*jo+X)/(jo+1),++jo)}},200)):(g.wheelDX+=l,g.wheelDY+=f))}}x?Zr=-.53:Ne?Zr=15:F?Zr=-.7:U&&(Zr=-1/3);var _n=function(i,s){this.ranges=i,this.primIndex=s};_n.prototype.primary=function(){return this.ranges[this.primIndex]},_n.prototype.equals=function(i){if(i==this)return!0;if(i.primIndex!=this.primIndex||i.ranges.length!=this.ranges.length)return!1;for(var s=0;s<this.ranges.length;s++){var u=this.ranges[s],l=i.ranges[s];if(!Kl(u.anchor,l.anchor)||!Kl(u.head,l.head))return!1}return!0},_n.prototype.deepCopy=function(){for(var i=[],s=0;s<this.ranges.length;s++)i[s]=new Xe(Yl(this.ranges[s].anchor),Yl(this.ranges[s].head));return new _n(i,this.primIndex)},_n.prototype.somethingSelected=function(){for(var i=0;i<this.ranges.length;i++)if(!this.ranges[i].empty())return!0;return!1},_n.prototype.contains=function(i,s){s||(s=i);for(var u=0;u<this.ranges.length;u++){var l=this.ranges[u];if(be(s,l.from())>=0&&be(i,l.to())<=0)return u}return-1};var Xe=function(i,s){this.anchor=i,this.head=s};function Gn(i,s,u){var l=i&&i.options.selectionsMayTouch,f=s[u];s.sort(function(N,I){return be(N.from(),I.from())}),u=en(s,f);for(var h=1;h<s.length;h++){var g=s[h],v=s[h-1],y=be(v.to(),g.from());if(l&&!g.empty()?y>0:y>=0){var C=qi(v.from(),g.from()),D=ys(v.to(),g.to()),M=v.empty()?g.from()==g.head:v.from()==v.head;h<=u&&--u,s.splice(--h,2,new Xe(M?D:C,M?C:D))}}return new _n(s,u)}function pr(i,s){return new _n([new Xe(i,s||i)],0)}function Kr(i){return i.text?z(i.from.line+i.text.length-1,nt(i.text).length+(1==i.text.length?i.from.ch:0)):i.to}function hu(i,s){if(be(i,s.from)<0)return i;if(be(i,s.to)<=0)return Kr(s);var u=i.line+s.text.length-(s.to.line-s.from.line)-1,l=i.ch;return i.line==s.to.line&&(l+=Kr(s).ch-s.to.ch),z(u,l)}function Ai(i,s){for(var u=[],l=0;l<i.sel.ranges.length;l++){var f=i.sel.ranges[l];u.push(new Xe(hu(f.anchor,s),hu(f.head,s)))}return Gn(i.cm,u,i.sel.primIndex)}function mf(i,s,u){return i.line==s.line?z(u.line,i.ch-s.ch+u.ch):z(u.line+(i.line-s.line),i.ch)}function Ps(i){i.doc.mode=Pc(i.options,i.doc.modeOption),Ii(i)}function Ii(i){i.doc.iter(function(s){s.stateAfter&&(s.stateAfter=null),s.styles&&(s.styles=null)}),i.doc.modeFrontier=i.doc.highlightFrontier=i.doc.first,vt(i,100),i.state.modeGen++,i.curOp&&yn(i)}function Hh(i,s){return 0==s.from.ch&&0==s.to.ch&&""==nt(s.text)&&(!i.cm||i.cm.options.wholeLineUpdateBefore)}function Wa(i,s,u,l){function f(X){return u?u[X]:null}function h(X,K,ne){(function te(i,s,u,l){i.text=s,i.stateAfter&&(i.stateAfter=null),i.styles&&(i.styles=null),null!=i.order&&(i.order=null),$c(i),eu(i,u);var f=l?l(i):1;f!=i.height&&Wr(i,f)})(X,K,ne,l),Ie(X,"change",X,s)}function g(X,K){for(var ne=[],le=X;le<K;++le)ne.push(new dn(C[le],f(le),l));return ne}var v=s.from,y=s.to,C=s.text,D=ee(i,v.line),M=ee(i,y.line),N=nt(C),I=f(C.length-1),L=y.line-v.line;if(s.full)i.insert(0,g(0,C.length)),i.remove(C.length,i.size-C.length);else if(Hh(i,s)){var V=g(0,C.length-1);h(M,M.text,I),L&&i.remove(v.line,L),V.length&&i.insert(v.line,V)}else if(D==M)if(1==C.length)h(D,D.text.slice(0,v.ch)+N+D.text.slice(y.ch),I);else{var $=g(1,C.length-1);$.push(new dn(N+D.text.slice(y.ch),I,l)),h(D,D.text.slice(0,v.ch)+C[0],f(0)),i.insert(v.line+1,$)}else if(1==C.length)h(D,D.text.slice(0,v.ch)+C[0]+M.text.slice(y.ch),f(0)),i.remove(v.line+1,L);else{h(D,D.text.slice(0,v.ch)+C[0],f(0)),h(M,N+M.text.slice(y.ch),I);var Y=g(1,C.length-1);L>1&&i.remove(v.line+1,L-1),i.insert(v.line+1,Y)}Ie(i,"change",i,s)}function Yr(i,s,u){!function l(f,h,g){if(f.linked)for(var v=0;v<f.linked.length;++v){var y=f.linked[v];if(y.doc!=h){var C=g&&y.sharedHist;u&&!C||(s(y.doc,C),l(y.doc,f,C))}}}(i,null,!0)}function vf(i,s){if(s.cm)throw new Error("This document is already in use.");i.doc=s,s.cm=i,Ms(i),Ps(i),yf(i),i.options.direction=s.direction,i.options.lineWrapping||nu(i),i.options.mode=s.modeOption,yn(i)}function yf(i){("rtl"==i.doc.direction?mi:At)(i.display.lineDiv,"CodeMirror-rtl")}function zo(i){this.done=[],this.undone=[],this.undoDepth=i?i.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=i?i.maxGeneration:1}function Vs(i,s){var u={from:Yl(s.from),to:Kr(s),text:it(i,s.from,s.to)};return pu(i,u,s.from.line,s.to.line+1),Yr(i,function(l){return pu(l,u,s.from.line,s.to.line+1)},!0),u}function Bs(i){for(;i.length&&nt(i).ranges;)i.pop()}function _f(i,s,u,l){var f=i.history;f.undone.length=0;var g,v,h=+new Date;if((f.lastOp==l||f.lastOrigin==s.origin&&s.origin&&("+"==s.origin.charAt(0)&&f.lastModTime>h-(i.cm?i.cm.options.historyEventDelay:500)||"*"==s.origin.charAt(0)))&&(g=function za(i,s){return s?(Bs(i.done),nt(i.done)):i.done.length&&!nt(i.done).ranges?nt(i.done):i.done.length>1&&!i.done[i.done.length-2].ranges?(i.done.pop(),nt(i.done)):void 0}(f,f.lastOp==l)))v=nt(g.changes),0==be(s.from,s.to)&&0==be(s.from,v.to)?v.to=Kr(s):g.changes.push(Vs(i,s));else{var y=nt(f.done);for((!y||!y.ranges)&&Hs(i.sel,f.done),g={changes:[Vs(i,s)],generation:f.generation},f.done.push(g);f.done.length>f.undoDepth;)f.done.shift(),f.done[0].ranges||f.done.shift()}f.done.push(u),f.generation=++f.maxGeneration,f.lastModTime=f.lastSelTime=h,f.lastOp=f.lastSelOp=l,f.lastOrigin=f.lastSelOrigin=s.origin,v||Ft(i,"historyAdded")}function bf(i,s,u,l){var f=i.history,h=l&&l.origin;u==f.lastSelOp||h&&f.lastSelOrigin==h&&(f.lastModTime==f.lastSelTime&&f.lastOrigin==h||function Cf(i,s,u,l){var f=s.charAt(0);return"*"==f||"+"==f&&u.ranges.length==l.ranges.length&&u.somethingSelected()==l.somethingSelected()&&new Date-i.history.lastSelTime<=(i.cm?i.cm.options.historyEventDelay:500)}(i,h,nt(f.done),s))?f.done[f.done.length-1]=s:Hs(s,f.done),f.lastSelTime=+new Date,f.lastSelOrigin=h,f.lastSelOp=u,l&&!1!==l.clearRedo&&Bs(f.undone)}function Hs(i,s){var u=nt(s);u&&u.ranges&&u.equals(i)||s.push(i)}function pu(i,s,u,l){var f=s["spans_"+i.id],h=0;i.iter(Math.max(i.first,u),Math.min(i.first+i.size,l),function(g){g.markedSpans&&((f||(f=s["spans_"+i.id]={}))[h]=g.markedSpans),++h})}function Uh(i){if(!i)return null;for(var s,u=0;u<i.length;++u)i[u].marker.explicitlyCleared?s||(s=i.slice(0,u)):s&&s.push(i[u]);return s?s.length?s:null:i}function Us(i,s){var u=function jh(i,s){var u=s["spans_"+i.id];if(!u)return null;for(var l=[],f=0;f<s.text.length;++f)l.push(Uh(u[f]));return l}(i,s),l=Zi(i,s);if(!u)return l;if(!l)return u;for(var f=0;f<u.length;++f){var h=u[f],g=l[f];if(h&&g)e:for(var v=0;v<g.length;++v){for(var y=g[v],C=0;C<h.length;++C)if(h[C].marker==y.marker)continue e;h.push(y)}else g&&(u[f]=g)}return u}function Ir(i,s,u){for(var l=[],f=0;f<i.length;++f){var h=i[f];if(h.ranges)l.push(u?_n.prototype.deepCopy.call(h):h);else{var g=h.changes,v=[];l.push({changes:v});for(var y=0;y<g.length;++y){var C=g[y],D=void 0;if(v.push({from:C.from,to:C.to,text:C.text}),s)for(var M in C)(D=M.match(/^spans_(\d+)$/))&&en(s,Number(D[1]))>-1&&(nt(v)[M]=C[M],delete C[M])}}}return l}function gu(i,s,u,l){if(l){var f=i.anchor;if(u){var h=be(s,f)<0;h!=be(u,f)<0?(f=s,s=u):h!=be(s,u)<0&&(s=u)}return new Xe(f,s)}return new Xe(u||s,s)}function js(i,s,u,l,f){null==f&&(f=i.cm&&(i.cm.display.shift||i.extend)),Ot(i,new _n([gu(i.sel.primary(),s,u,f)],0),l)}function mu(i,s,u){for(var l=[],f=i.cm&&(i.cm.display.shift||i.extend),h=0;h<i.sel.ranges.length;h++)l[h]=gu(i.sel.ranges[h],s[h],null,f);Ot(i,Gn(i.cm,l,i.sel.primIndex),u)}function Ri(i,s,u,l){var f=i.sel.ranges.slice(0);f[s]=u,Ot(i,Gn(i.cm,f,i.sel.primIndex),l)}function Ln(i,s,u,l){Ot(i,pr(s,u),l)}function $o(i,s,u){var l=i.history.done,f=nt(l);f&&f.ranges?(l[l.length-1]=s,Qr(i,s,u)):Ot(i,s,u)}function Ot(i,s,u){Qr(i,s,u),bf(i,i.sel,i.cm?i.cm.curOp.id:NaN,u)}function Qr(i,s,u){(Ue(i,"beforeSelectionChange")||i.cm&&Ue(i.cm,"beforeSelectionChange"))&&(s=function vu(i,s,u){var l={ranges:s.ranges,update:function(f){this.ranges=[];for(var h=0;h<f.length;h++)this.ranges[h]=new Xe(we(i,f[h].anchor),we(i,f[h].head))},origin:u&&u.origin};return Ft(i,"beforeSelectionChange",i,l),i.cm&&Ft(i.cm,"beforeSelectionChange",i.cm,l),l.ranges!=s.ranges?Gn(i.cm,l.ranges,l.ranges.length-1):s}(i,s,u));var l=u&&u.bias||(be(s.primary().head,i.sel.primary().head)<0?-1:1);io(i,$a(i,s,l,!0)),(!u||!1!==u.scroll)&&i.cm&&"nocursor"!=i.cm.getOption("readOnly")&&Vo(i.cm)}function io(i,s){s.equals(i.sel)||(i.sel=s,i.cm&&(i.cm.curOp.updateInput=1,i.cm.curOp.selectionChanged=!0,Fc(i.cm)),Ie(i,"cursorActivity",i))}function yu(i){io(i,$a(i,i.sel,null,!1))}function $a(i,s,u,l){for(var f,h=0;h<s.ranges.length;h++){var g=s.ranges[h],v=s.ranges.length==i.sel.ranges.length&&i.sel.ranges[h],y=_u(i,g.anchor,v&&v.anchor,u,l),C=_u(i,g.head,v&&v.head,u,l);(f||y!=g.anchor||C!=g.head)&&(f||(f=s.ranges.slice(0,h)),f[h]=new Xe(y,C))}return f?Gn(i.cm,f,s.primIndex):s}function gr(i,s,u,l,f){var h=ee(i,s.line);if(h.markedSpans)for(var g=0;g<h.markedSpans.length;++g){var v=h.markedSpans[g],y=v.marker,C="selectLeft"in y?!y.selectLeft:y.inclusiveLeft,D="selectRight"in y?!y.selectRight:y.inclusiveRight;if((null==v.from||(C?v.from<=s.ch:v.from<s.ch))&&(null==v.to||(D?v.to>=s.ch:v.to>s.ch))){if(f&&(Ft(y,"beforeCursorEnter"),y.explicitlyCleared)){if(h.markedSpans){--g;continue}break}if(!y.atomic)continue;if(u){var M=y.find(l<0?1:-1),N=void 0;if((l<0?D:C)&&(M=wf(i,M,-l,M&&M.line==s.line?h:null)),M&&M.line==s.line&&(N=be(M,u))&&(l<0?N<0:N>0))return gr(i,M,s,l,f)}var I=y.find(l<0?-1:1);return(l<0?C:D)&&(I=wf(i,I,l,I.line==s.line?h:null)),I?gr(i,I,s,l,f):null}}return s}function _u(i,s,u,l,f){var h=l||1;return gr(i,s,u,h,f)||!f&&gr(i,s,u,h,!0)||gr(i,s,u,-h,f)||!f&&gr(i,s,u,-h,!0)||(i.cantEdit=!0,z(i.first,0))}function wf(i,s,u,l){return u<0&&0==s.ch?s.line>i.first?we(i,z(s.line-1)):null:u>0&&s.ch==(l||ee(i,s.line)).text.length?s.line<i.first+i.size-1?z(s.line+1,0):null:new z(s.line,s.ch+u)}function Le(i){i.setSelection(z(i.firstLine(),0),z(i.lastLine()),En)}function Df(i,s,u){var l={canceled:!1,from:s.from,to:s.to,text:s.text,origin:s.origin,cancel:function(){return l.canceled=!0}};return u&&(l.update=function(f,h,g,v){f&&(l.from=we(i,f)),h&&(l.to=we(i,h)),g&&(l.text=g),void 0!==v&&(l.origin=v)}),Ft(i,"beforeChange",i,l),i.cm&&Ft(i.cm,"beforeChange",i.cm,l),l.canceled?(i.cm&&(i.cm.curOp.updateInput=2),null):{from:l.from,to:l.to,text:l.text,origin:l.origin}}function Ws(i,s,u){if(i.cm){if(!i.cm.curOp)return Kt(i.cm,Ws)(i,s,u);if(i.cm.state.suppressEdits)return}if(!(Ue(i,"beforeChange")||i.cm&&Ue(i.cm,"beforeChange"))||(s=Df(i,s,!0))){var l=lt&&!u&&function wi(i,s,u){var l=null;if(i.iter(s.line,u.line+1,function(I){if(I.markedSpans)for(var L=0;L<I.markedSpans.length;++L){var V=I.markedSpans[L].marker;V.readOnly&&(!l||-1==en(l,V))&&(l||(l=[])).push(V)}}),!l)return null;for(var f=[{from:s,to:u}],h=0;h<l.length;++h)for(var g=l[h],v=g.find(0),y=0;y<f.length;++y){var C=f[y];if(!(be(C.to,v.from)<0||be(C.from,v.to)>0)){var D=[y,1],M=be(C.from,v.from),N=be(C.to,v.to);(M<0||!g.inclusiveLeft&&!M)&&D.push({from:C.from,to:v.from}),(N>0||!g.inclusiveRight&&!N)&&D.push({from:v.to,to:C.to}),f.splice.apply(f,D),y+=D.length-3}}return f}(i,s.from,s.to);if(l)for(var f=l.length-1;f>=0;--f)Wh(i,{from:l[f].from,to:l[f].to,text:f?[""]:s.text,origin:s.origin});else Wh(i,s)}}function Wh(i,s){if(1!=s.text.length||""!=s.text[0]||0!=be(s.from,s.to)){var u=Ai(i,s);_f(i,s,u,i.cm?i.cm.curOp.id:NaN),Ga(i,s,u,Zi(i,s));var l=[];Yr(i,function(f,h){!h&&-1==en(l,f.history)&&(qa(f.history,s),l.push(f.history)),Ga(f,s,null,Zi(f,s))})}}function Cu(i,s,u){var l=i.cm&&i.cm.state.suppressEdits;if(!l||u){for(var h,f=i.history,g=i.sel,v="undo"==s?f.done:f.undone,y="undo"==s?f.undone:f.done,C=0;C<v.length&&(h=v[C],!(u?h.ranges&&!h.equals(i.sel):!h.ranges));C++);if(C!=v.length){for(f.lastOrigin=f.lastSelOrigin=null;;){if(!(h=v.pop()).ranges){if(l)return void v.push(h);break}if(Hs(h,y),u&&!h.equals(i.sel))return void Ot(i,h,{clearRedo:!1});g=h}var D=[];Hs(g,y),y.push({changes:D,generation:f.generation}),f.generation=h.generation||++f.maxGeneration;for(var M=Ue(i,"beforeChange")||i.cm&&Ue(i.cm,"beforeChange"),N=function(V){var $=h.changes[V];if($.origin=s,M&&!Df(i,$,!1))return v.length=0,{};D.push(Vs(i,$));var Y=V?Ai(i,$):nt(v);Ga(i,$,Y,Us(i,$)),!V&&i.cm&&i.cm.scrollIntoView({from:$.from,to:Kr($)});var X=[];Yr(i,function(K,ne){!ne&&-1==en(X,K.history)&&(qa(K.history,$),X.push(K.history)),Ga(K,$,null,Us(K,$))})},I=h.changes.length-1;I>=0;--I){var L=N(I);if(L)return L.v}}}}function zh(i,s){if(0!=s&&(i.first+=s,i.sel=new _n(Eo(i.sel.ranges,function(f){return new Xe(z(f.anchor.line+s,f.anchor.ch),z(f.head.line+s,f.head.ch))}),i.sel.primIndex),i.cm)){yn(i.cm,i.first,i.first-s,s);for(var u=i.cm.display,l=u.viewFrom;l<u.viewTo;l++)xr(i.cm,l,"gutter")}}function Ga(i,s,u,l){if(i.cm&&!i.cm.curOp)return Kt(i.cm,Ga)(i,s,u,l);if(s.to.line<i.first)zh(i,s.text.length-1-(s.to.line-s.from.line));else if(!(s.from.line>i.lastLine())){if(s.from.line<i.first){var f=s.text.length-1-(i.first-s.from.line);zh(i,f),s={from:z(i.first,0),to:z(s.to.line+f,s.to.ch),text:[nt(s.text)],origin:s.origin}}var h=i.lastLine();s.to.line>h&&(s={from:s.from,to:z(h,ee(i,h).text.length),text:[s.text[0]],origin:s.origin}),s.removed=it(i,s.from,s.to),u||(u=Ai(i,s)),i.cm?function Lv(i,s,u){var l=i.doc,f=i.display,h=s.from,g=s.to,v=!1,y=h.line;i.options.lineWrapping||(y=at(fn(ee(l,h.line))),l.iter(y,g.line+1,function(I){if(I==f.maxLine)return v=!0,!0})),l.sel.contains(s.from,s.to)>-1&&Fc(i),Wa(l,s,u,rf(i)),i.options.lineWrapping||(l.iter(y,h.line+s.text.length,function(I){var L=Gt(I);L>f.maxLineLength&&(f.maxLine=I,f.maxLineLength=L,f.maxLineChanged=!0,v=!1)}),v&&(i.curOp.updateMaxLine=!0)),function Av(i,s){if(i.modeFrontier=Math.min(i.modeFrontier,s),!(i.highlightFrontier<s-10)){for(var u=i.first,l=s-1;l>u;l--){var f=ee(i,l).stateAfter;if(f&&(!(f instanceof xo)||l+f.lookAhead<s)){u=l+1;break}}i.highlightFrontier=Math.min(i.highlightFrontier,u)}}(l,h.line),vt(i,400);var C=s.text.length-(g.line-h.line)-1;s.full?yn(i):h.line!=g.line||1!=s.text.length||Hh(i.doc,s)?yn(i,h.line,g.line+1,C):xr(i,h.line,"text");var D=Ue(i,"changes"),M=Ue(i,"change");if(M||D){var N={from:h,to:g,text:s.text,removed:s.removed,origin:s.origin};M&&Ie(i,"change",i,N),D&&(i.curOp.changeObjs||(i.curOp.changeObjs=[])).push(N)}i.display.selForContextMenu=null}(i.cm,s,l):Wa(i,s,l),Qr(i,u,En),i.cantEdit&&_u(i,z(i.firstLine(),0))&&(i.cantEdit=!1)}}function Rr(i,s,u,l,f){var h;l||(l=u),be(l,u)<0&&(u=(h=[l,u])[0],l=h[1]),"string"==typeof s&&(s=i.splitLines(s)),Ws(i,{from:u,to:l,text:s,origin:f})}function $h(i,s,u,l){u<i.line?i.line+=l:s<i.line&&(i.line=s,i.ch=0)}function Ut(i,s,u,l){for(var f=0;f<i.length;++f){var h=i[f],g=!0;if(h.ranges){h.copied||((h=i[f]=h.deepCopy()).copied=!0);for(var v=0;v<h.ranges.length;v++)$h(h.ranges[v].anchor,s,u,l),$h(h.ranges[v].head,s,u,l)}else{for(var y=0;y<h.changes.length;++y){var C=h.changes[y];if(u<C.from.line)C.from=z(C.from.line+l,C.from.ch),C.to=z(C.to.line+l,C.to.ch);else if(s<=C.to.line){g=!1;break}}g||(i.splice(0,f+1),f=0)}}}function qa(i,s){var u=s.from.line,l=s.to.line,f=s.text.length-(l-u)-1;Ut(i.done,u,l,f),Ut(i.undone,u,l,f)}function Xr(i,s,u,l){var f=s,h=s;return"number"==typeof s?h=ee(i,_a(i,s)):f=at(s),null==f?null:(l(h,f)&&i.cm&&xr(i.cm,f,u),h)}function Za(i){this.lines=i,this.parent=null;for(var s=0,u=0;u<i.length;++u)i[u].parent=this,s+=i[u].height;this.height=s}function zs(i){this.children=i;for(var s=0,u=0,l=0;l<i.length;++l){var f=i[l];s+=f.chunkSize(),u+=f.height,f.parent=this}this.size=s,this.height=u,this.parent=null}Xe.prototype.from=function(){return qi(this.anchor,this.head)},Xe.prototype.to=function(){return ys(this.anchor,this.head)},Xe.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Za.prototype={chunkSize:function(){return this.lines.length},removeInner:function(i,s){for(var u=i,l=i+s;u<l;++u){var f=this.lines[u];this.height-=f.height,je(f),Ie(f,"delete")}this.lines.splice(i,s)},collapse:function(i){i.push.apply(i,this.lines)},insertInner:function(i,s,u){this.height+=u,this.lines=this.lines.slice(0,i).concat(s).concat(this.lines.slice(i));for(var l=0;l<s.length;++l)s[l].parent=this},iterN:function(i,s,u){for(var l=i+s;i<l;++i)if(u(this.lines[i]))return!0}},zs.prototype={chunkSize:function(){return this.size},removeInner:function(i,s){this.size-=s;for(var u=0;u<this.children.length;++u){var l=this.children[u],f=l.chunkSize();if(i<f){var h=Math.min(s,f-i),g=l.height;if(l.removeInner(i,h),this.height-=g-l.height,f==h&&(this.children.splice(u--,1),l.parent=null),0==(s-=h))break;i=0}else i-=f}if(this.size-s<25&&(this.children.length>1||!(this.children[0]instanceof Za))){var v=[];this.collapse(v),this.children=[new Za(v)],this.children[0].parent=this}},collapse:function(i){for(var s=0;s<this.children.length;++s)this.children[s].collapse(i)},insertInner:function(i,s,u){this.size+=s.length,this.height+=u;for(var l=0;l<this.children.length;++l){var f=this.children[l],h=f.chunkSize();if(i<=h){if(f.insertInner(i,s,u),f.lines&&f.lines.length>50){for(var g=f.lines.length%25+25,v=g;v<f.lines.length;){var y=new Za(f.lines.slice(v,v+=25));f.height-=y.height,this.children.splice(++l,0,y),y.parent=this}f.lines=f.lines.slice(0,g),this.maybeSpill()}break}i-=h}},maybeSpill:function(){if(!(this.children.length<=10)){var i=this;do{var u=new zs(i.children.splice(i.children.length-5,5));if(i.parent){i.size-=u.size,i.height-=u.height;var f=en(i.parent.children,i);i.parent.children.splice(f+1,0,u)}else{var l=new zs(i.children);l.parent=i,i.children=[l,u],i=l}u.parent=i.parent}while(i.children.length>10);i.parent.maybeSpill()}},iterN:function(i,s,u){for(var l=0;l<this.children.length;++l){var f=this.children[l],h=f.chunkSize();if(i<h){var g=Math.min(s,h-i);if(f.iterN(i,g,u))return!0;if(0==(s-=g))break;i=0}else i-=h}}};var Cn=function(i,s,u){if(u)for(var l in u)u.hasOwnProperty(l)&&(this[l]=u[l]);this.doc=i,this.node=s};function mr(i,s,u){xn(s)<(i.curOp&&i.curOp.scrollTop||i.doc.scrollTop)&&lf(i,u)}Cn.prototype.clear=function(){var i=this.doc.cm,s=this.line.widgets,u=this.line,l=at(u);if(null!=l&&s){for(var f=0;f<s.length;++f)s[f]==this&&s.splice(f--,1);s.length||(u.widgets=null);var h=Sa(this);Wr(u,Math.max(0,u.height-h)),i&&(Pn(i,function(){mr(i,u,-h),xr(i,l,"widget")}),Ie(i,"lineWidgetCleared",i,this,l))}},Cn.prototype.changed=function(){var i=this,s=this.height,u=this.doc.cm,l=this.line;this.height=null;var f=Sa(this)-s;!f||(er(this.doc,l)||Wr(l,l.height+f),u&&Pn(u,function(){u.curOp.forceUpdate=!0,mr(u,l,f),Ie(u,"lineWidgetChanged",u,i,at(l))}))},_i(Cn);var $s=0,ir=function(i,s){this.lines=[],this.type=s,this.doc=i,this.id=++$s};function oo(i,s,u,l,f){if(l&&l.shared)return function Gh(i,s,u,l,f){(l=Do(l)).shared=!1;var h=[oo(i,s,u,l,f)],g=h[0],v=l.widgetNode;return Yr(i,function(y){v&&(l.widgetNode=v.cloneNode(!0)),h.push(oo(y,we(y,s),we(y,u),l,f));for(var C=0;C<y.linked.length;++C)if(y.linked[C].isParent)return;g=nt(h)}),new Gs(h,g)}(i,s,u,l,f);if(i.cm&&!i.cm.curOp)return Kt(i.cm,oo)(i,s,u,l,f);var h=new ir(i,f),g=be(s,u);if(l&&Do(l,h,!1),g>0||0==g&&!1!==h.clearWhenEmpty)return h;if(h.replacedWith&&(h.collapsed=!0,h.widgetNode=ht("span",[h.replacedWith],"CodeMirror-widget"),l.handleMouseEvents||h.widgetNode.setAttribute("cm-ignore-events","true"),l.insertLeft&&(h.widgetNode.insertLeft=!0)),h.collapsed){if(cn(i,s.line,s,u,h)||s.line!=u.line&&cn(i,u.line,s,u,h))throw new Error("Inserting collapsed marker partially overlapping an existing one");!function To(){Ci=!0}()}h.addToHistory&&_f(i,{from:s,to:u,origin:"markText"},i.sel,NaN);var C,v=s.line,y=i.cm;if(i.iter(v,u.line+1,function(M){y&&h.collapsed&&!y.options.lineWrapping&&fn(M)==y.display.maxLine&&(C=!0),h.collapsed&&v!=s.line&&Wr(M,0),function Jl(i,s,u){var l=u&&window.WeakSet&&(u.markedSpans||(u.markedSpans=new WeakSet));l&&l.has(i.markedSpans)?i.markedSpans.push(s):(i.markedSpans=i.markedSpans?i.markedSpans.concat([s]):[s],l&&l.add(i.markedSpans)),s.marker.attachLine(i)}(M,new ot(h,v==s.line?s.ch:null,v==u.line?u.ch:null),i.cm&&i.cm.curOp),++v}),h.collapsed&&i.iter(s.line,u.line+1,function(M){er(i,M)&&Wr(M,0)}),h.clearOnEnter&&pe(h,"beforeCursorEnter",function(){return h.clear()}),h.readOnly&&(function Iv(){lt=!0}(),(i.history.done.length||i.history.undone.length)&&i.clearHistory()),h.collapsed&&(h.id=++$s,h.atomic=!0),y){if(C&&(y.curOp.updateMaxLine=!0),h.collapsed)yn(y,s.line,u.line+1);else if(h.className||h.startStyle||h.endStyle||h.css||h.attributes||h.title)for(var D=s.line;D<=u.line;D++)xr(y,D,"text");h.atomic&&yu(y.doc),Ie(y,"markerAdded",y,h)}return h}ir.prototype.clear=function(){if(!this.explicitlyCleared){var i=this.doc.cm,s=i&&!i.curOp;if(s&&no(i),Ue(this,"clear")){var u=this.find();u&&Ie(this,"clear",u.from,u.to)}for(var l=null,f=null,h=0;h<this.lines.length;++h){var g=this.lines[h],v=bi(g.markedSpans,this);i&&!this.collapsed?xr(i,at(g),"text"):i&&(null!=v.to&&(f=at(g)),null!=v.from&&(l=at(g))),g.markedSpans=Xl(g.markedSpans,v),null==v.from&&this.collapsed&&!er(this.doc,g)&&i&&Wr(g,Po(i.display))}if(i&&this.collapsed&&!i.options.lineWrapping)for(var y=0;y<this.lines.length;++y){var C=fn(this.lines[y]),D=Gt(C);D>i.display.maxLineLength&&(i.display.maxLine=C,i.display.maxLineLength=D,i.display.maxLineChanged=!0)}null!=l&&i&&this.collapsed&&yn(i,l,f+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,i&&yu(i.doc)),i&&Ie(i,"markerCleared",i,this,l,f),s&&Ti(i),this.parent&&this.parent.clear()}},ir.prototype.find=function(i,s){null==i&&"bookmark"==this.type&&(i=1);for(var u,l,f=0;f<this.lines.length;++f){var h=this.lines[f],g=bi(h.markedSpans,this);if(null!=g.from&&(u=z(s?h:at(h),g.from),-1==i))return u;if(null!=g.to&&(l=z(s?h:at(h),g.to),1==i))return l}return u&&{from:u,to:l}},ir.prototype.changed=function(){var i=this,s=this.find(-1,!0),u=this,l=this.doc.cm;!s||!l||Pn(l,function(){var f=s.line,h=at(s.line),g=Xc(l,h);if(g&&(Fn(g),l.curOp.selectionChanged=l.curOp.forceUpdate=!0),l.curOp.updateMaxLine=!0,!er(u.doc,f)&&null!=u.height){var v=u.height;u.height=null;var y=Sa(u)-v;y&&Wr(f,f.height+y)}Ie(l,"markerChanged",l,i)})},ir.prototype.attachLine=function(i){if(!this.lines.length&&this.doc.cm){var s=this.doc.cm.curOp;(!s.maybeHiddenMarkers||-1==en(s.maybeHiddenMarkers,this))&&(s.maybeUnhiddenMarkers||(s.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(i)},ir.prototype.detachLine=function(i){if(this.lines.splice(en(this.lines,i),1),!this.lines.length&&this.doc.cm){var s=this.doc.cm.curOp;(s.maybeHiddenMarkers||(s.maybeHiddenMarkers=[])).push(this)}},_i(ir);var Gs=function(i,s){this.markers=i,this.primary=s;for(var u=0;u<i.length;++u)i[u].parent=this};function qh(i){return i.findMarks(z(i.first,0),i.clipPos(z(i.lastLine())),function(s){return s.parent})}function Sf(i){for(var s=function(l){var f=i[l],h=[f.primary.doc];Yr(f.primary.doc,function(y){return h.push(y)});for(var g=0;g<f.markers.length;g++){var v=f.markers[g];-1==en(h,v.doc)&&(v.parent=null,f.markers.splice(g--,1))}},u=0;u<i.length;u++)s(u)}Gs.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var i=0;i<this.markers.length;++i)this.markers[i].clear();Ie(this,"clear")}},Gs.prototype.find=function(i,s){return this.primary.find(i,s)},_i(Gs);var qn=0,hn=function(i,s,u,l,f){if(!(this instanceof hn))return new hn(i,s,u,l,f);null==u&&(u=0),zs.call(this,[new Za([new dn("",null)])]),this.first=u,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=u;var h=z(u,0);this.sel=pr(h),this.history=new zo(null),this.id=++qn,this.modeOption=s,this.lineSep=l,this.direction="rtl"==f?"rtl":"ltr",this.extend=!1,"string"==typeof i&&(i=this.splitLines(i)),Wa(this,{from:h,to:h,text:i}),Ot(this,pr(h),En)};hn.prototype=Ic(zs.prototype,{constructor:hn,iter:function(i,s,u){u?this.iterN(i-this.first,s-i,u):this.iterN(this.first,this.first+this.size,i)},insert:function(i,s){for(var u=0,l=0;l<s.length;++l)u+=s[l].height;this.insertInner(i-this.first,s,u)},remove:function(i,s){this.removeInner(i-this.first,s)},getValue:function(i){var s=Bc(this,this.first,this.first+this.size);return!1===i?s:s.join(i||this.lineSeparator())},setValue:mt(function(i){var s=z(this.first,0),u=this.first+this.size-1;Ws(this,{from:s,to:z(u,ee(this,u).text.length),text:this.splitLines(i),origin:"setValue",full:!0},!0),this.cm&&Mi(this.cm,0,0),Ot(this,pr(s),En)}),replaceRange:function(i,s,u,l){Rr(this,i,s=we(this,s),u=u?we(this,u):s,l)},getRange:function(i,s,u){var l=it(this,we(this,i),we(this,s));return!1===u?l:l.join(""===u?"":u||this.lineSeparator())},getLine:function(i){var s=this.getLineHandle(i);return s&&s.text},getLineHandle:function(i){if(ya(this,i))return ee(this,i)},getLineNumber:function(i){return at(i)},getLineHandleVisualStart:function(i){return"number"==typeof i&&(i=ee(this,i)),fn(i)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(i){return we(this,i)},getCursor:function(i){var s=this.sel.primary();return null==i||"head"==i?s.head:"anchor"==i?s.anchor:"end"==i||"to"==i||!1===i?s.to():s.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:mt(function(i,s,u){Ln(this,we(this,"number"==typeof i?z(i,s||0):i),null,u)}),setSelection:mt(function(i,s,u){Ln(this,we(this,i),we(this,s||i),u)}),extendSelection:mt(function(i,s,u){js(this,we(this,i),s&&we(this,s),u)}),extendSelections:mt(function(i,s){mu(this,Ae(this,i),s)}),extendSelectionsBy:mt(function(i,s){mu(this,Ae(this,Eo(this.sel.ranges,i)),s)}),setSelections:mt(function(i,s,u){if(i.length){for(var l=[],f=0;f<i.length;f++)l[f]=new Xe(we(this,i[f].anchor),we(this,i[f].head||i[f].anchor));null==s&&(s=Math.min(i.length-1,this.sel.primIndex)),Ot(this,Gn(this.cm,l,s),u)}}),addSelection:mt(function(i,s,u){var l=this.sel.ranges.slice(0);l.push(new Xe(we(this,i),we(this,s||i))),Ot(this,Gn(this.cm,l,l.length-1),u)}),getSelection:function(i){for(var u,s=this.sel.ranges,l=0;l<s.length;l++){var f=it(this,s[l].from(),s[l].to());u=u?u.concat(f):f}return!1===i?u:u.join(i||this.lineSeparator())},getSelections:function(i){for(var s=[],u=this.sel.ranges,l=0;l<u.length;l++){var f=it(this,u[l].from(),u[l].to());!1!==i&&(f=f.join(i||this.lineSeparator())),s[l]=f}return s},replaceSelection:function(i,s,u){for(var l=[],f=0;f<this.sel.ranges.length;f++)l[f]=i;this.replaceSelections(l,s,u||"+input")},replaceSelections:mt(function(i,s,u){for(var l=[],f=this.sel,h=0;h<f.ranges.length;h++){var g=f.ranges[h];l[h]={from:g.from(),to:g.to(),text:this.splitLines(i[h]),origin:u}}for(var v=s&&"end"!=s&&function Wo(i,s,u){for(var l=[],f=z(i.first,0),h=f,g=0;g<s.length;g++){var v=s[g],y=mf(v.from,f,h),C=mf(Kr(v),f,h);if(f=v.to,h=C,"around"==u){var D=i.sel.ranges[g],M=be(D.head,D.anchor)<0;l[g]=new Xe(M?C:y,M?y:C)}else l[g]=new Xe(y,y)}return new _n(l,i.sel.primIndex)}(this,l,s),y=l.length-1;y>=0;y--)Ws(this,l[y]);v?$o(this,v):this.cm&&Vo(this.cm)}),undo:mt(function(){Cu(this,"undo")}),redo:mt(function(){Cu(this,"redo")}),undoSelection:mt(function(){Cu(this,"undo",!0)}),redoSelection:mt(function(){Cu(this,"redo",!0)}),setExtending:function(i){this.extend=i},getExtending:function(){return this.extend},historySize:function(){for(var i=this.history,s=0,u=0,l=0;l<i.done.length;l++)i.done[l].ranges||++s;for(var f=0;f<i.undone.length;f++)i.undone[f].ranges||++u;return{undo:s,redo:u}},clearHistory:function(){var i=this;this.history=new zo(this.history),Yr(this,function(s){return s.history=i.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(i){return i&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(i){return this.history.generation==(i||this.cleanGeneration)},getHistory:function(){return{done:Ir(this.history.done),undone:Ir(this.history.undone)}},setHistory:function(i){var s=this.history=new zo(this.history);s.done=Ir(i.done.slice(0),null,!0),s.undone=Ir(i.undone.slice(0),null,!0)},setGutterMarker:mt(function(i,s,u){return Xr(this,i,"gutter",function(l){var f=l.gutterMarkers||(l.gutterMarkers={});return f[s]=u,!u&&Rc(f)&&(l.gutterMarkers=null),!0})}),clearGutter:mt(function(i){var s=this;this.iter(function(u){u.gutterMarkers&&u.gutterMarkers[i]&&Xr(s,u,"gutter",function(){return u.gutterMarkers[i]=null,Rc(u.gutterMarkers)&&(u.gutterMarkers=null),!0})})}),lineInfo:function(i){var s;if("number"==typeof i){if(!(ya(this,i)&&(s=i,i=ee(this,i))))return null}else if(null==(s=at(i)))return null;return{line:s,handle:i,text:i.text,gutterMarkers:i.gutterMarkers,textClass:i.textClass,bgClass:i.bgClass,wrapClass:i.wrapClass,widgets:i.widgets}},addLineClass:mt(function(i,s,u){return Xr(this,i,"gutter"==s?"gutter":"class",function(l){var f="text"==s?"textClass":"background"==s?"bgClass":"gutter"==s?"gutterClass":"wrapClass";if(l[f]){if(tt(u).test(l[f]))return!1;l[f]+=" "+u}else l[f]=u;return!0})}),removeLineClass:mt(function(i,s,u){return Xr(this,i,"gutter"==s?"gutter":"class",function(l){var f="text"==s?"textClass":"background"==s?"bgClass":"gutter"==s?"gutterClass":"wrapClass",h=l[f];if(!h)return!1;if(null==u)l[f]=null;else{var g=h.match(tt(u));if(!g)return!1;var v=g.index+g[0].length;l[f]=h.slice(0,g.index)+(g.index&&v!=h.length?" ":"")+h.slice(v)||null}return!0})}),addLineWidget:mt(function(i,s,u){return function Ef(i,s,u,l){var f=new Cn(i,u,l),h=i.cm;return h&&f.noHScroll&&(h.display.alignWidgets=!0),Xr(i,s,"widget",function(g){var v=g.widgets||(g.widgets=[]);if(null==f.insertAt?v.push(f):v.splice(Math.min(v.length,Math.max(0,f.insertAt)),0,f),f.line=g,h&&!er(i,g)){var y=xn(g)<i.scrollTop;Wr(g,g.height+Sa(f)),y&&lf(h,f.height),h.curOp.forceUpdate=!0}return!0}),h&&Ie(h,"lineWidgetAdded",h,f,"number"==typeof s?s:at(s)),f}(this,i,s,u)}),removeLineWidget:function(i){i.clear()},markText:function(i,s,u){return oo(this,we(this,i),we(this,s),u,u&&u.type||"range")},setBookmark:function(i,s){var u={replacedWith:s&&(null==s.nodeType?s.widget:s),insertLeft:s&&s.insertLeft,clearWhenEmpty:!1,shared:s&&s.shared,handleMouseEvents:s&&s.handleMouseEvents};return oo(this,i=we(this,i),i,u,"bookmark")},findMarksAt:function(i){var s=[],u=ee(this,(i=we(this,i)).line).markedSpans;if(u)for(var l=0;l<u.length;++l){var f=u[l];(null==f.from||f.from<=i.ch)&&(null==f.to||f.to>=i.ch)&&s.push(f.marker.parent||f.marker)}return s},findMarks:function(i,s,u){i=we(this,i),s=we(this,s);var l=[],f=i.line;return this.iter(i.line,s.line+1,function(h){var g=h.markedSpans;if(g)for(var v=0;v<g.length;v++){var y=g[v];!(null!=y.to&&f==i.line&&i.ch>=y.to||null==y.from&&f!=i.line||null!=y.from&&f==s.line&&y.from>=s.ch)&&(!u||u(y.marker))&&l.push(y.marker.parent||y.marker)}++f}),l},getAllMarks:function(){var i=[];return this.iter(function(s){var u=s.markedSpans;if(u)for(var l=0;l<u.length;++l)null!=u[l].from&&i.push(u[l].marker)}),i},posFromIndex:function(i){var s,u=this.first,l=this.lineSeparator().length;return this.iter(function(f){var h=f.text.length+l;if(h>i)return s=i,!0;i-=h,++u}),we(this,z(u,s))},indexFromPos:function(i){var s=(i=we(this,i)).ch;if(i.line<this.first||i.ch<0)return 0;var u=this.lineSeparator().length;return this.iter(this.first,i.line,function(l){s+=l.text.length+u}),s},copy:function(i){var s=new hn(Bc(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return s.scrollTop=this.scrollTop,s.scrollLeft=this.scrollLeft,s.sel=this.sel,s.extend=!1,i&&(s.history.undoDepth=this.history.undoDepth,s.setHistory(this.getHistory())),s},linkedDoc:function(i){i||(i={});var s=this.first,u=this.first+this.size;null!=i.from&&i.from>s&&(s=i.from),null!=i.to&&i.to<u&&(u=i.to);var l=new hn(Bc(this,s,u),i.mode||this.modeOption,s,this.lineSep,this.direction);return i.sharedHist&&(l.history=this.history),(this.linked||(this.linked=[])).push({doc:l,sharedHist:i.sharedHist}),l.linked=[{doc:this,isParent:!0,sharedHist:i.sharedHist}],function Vv(i,s){for(var u=0;u<s.length;u++){var l=s[u],f=l.find(),h=i.clipPos(f.from),g=i.clipPos(f.to);if(be(h,g)){var v=oo(i,h,g,l.primary,l.primary.type);l.markers.push(v),v.parent=l}}}(l,qh(this)),l},unlinkDoc:function(i){if(i instanceof yt&&(i=i.doc),this.linked)for(var s=0;s<this.linked.length;++s)if(this.linked[s].doc==i){this.linked.splice(s,1),i.unlinkDoc(this),Sf(qh(this));break}if(i.history==this.history){var l=[i.id];Yr(i,function(f){return l.push(f.id)},!0),i.history=new zo(null),i.history.done=Ir(this.history.done,l),i.history.undone=Ir(this.history.undone,l)}},iterLinkedDocs:function(i){Yr(this,i)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(i){return this.lineSep?i.split(this.lineSep):ql(i)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:mt(function(i){"rtl"!=i&&(i="ltr"),i!=this.direction&&(this.direction=i,this.iter(function(s){return s.order=null}),this.cm&&function Ls(i){Pn(i,function(){yf(i),yn(i)})}(this.cm))})}),hn.prototype.eachLine=hn.prototype.iter;var so=0;function Bv(i){var s=this;if(xf(s),!zt(s,i)&&!Ei(s.display,i)){Ce(i),x&&(so=+new Date);var u=rr(s,i,!0),l=i.dataTransfer.files;if(u&&!s.isReadOnly())if(l&&l.length&&window.FileReader&&window.File)for(var f=l.length,h=Array(f),g=0,v=function(){++g==f&&Kt(s,function(){var I={from:u=we(s.doc,u),to:u,text:s.doc.splitLines(h.filter(function(L){return null!=L}).join(s.doc.lineSeparator())),origin:"paste"};Ws(s.doc,I),$o(s.doc,pr(we(s.doc,u),we(s.doc,Kr(I))))})()},y=function(I,L){if(s.options.allowDropFileTypes&&-1==en(s.options.allowDropFileTypes,I.type))v();else{var V=new FileReader;V.onerror=function(){return v()},V.onload=function(){var $=V.result;/[\x00-\x08\x0e-\x1f]{2}/.test($)||(h[L]=$),v()},V.readAsText(I)}},C=0;C<l.length;C++)y(l[C],C);else{if(s.state.draggingText&&s.doc.sel.contains(u)>-1)return s.state.draggingText(i),void setTimeout(function(){return s.display.input.focus()},20);try{var D=i.dataTransfer.getData("Text");if(D){var M;if(s.state.draggingText&&!s.state.draggingText.copy&&(M=s.listSelections()),Qr(s.doc,pr(u,u)),M)for(var N=0;N<M.length;++N)Rr(s.doc,"",M[N].anchor,M[N].head,"drag");s.replaceSelection(D,"around","paste"),s.display.input.focus()}}catch(I){}}}}function xf(i){i.display.dragCursor&&(i.display.lineSpace.removeChild(i.display.dragCursor),i.display.dragCursor=null)}function Tf(i){if(document.getElementsByClassName){for(var s=document.getElementsByClassName("CodeMirror"),u=[],l=0;l<s.length;l++){var f=s[l].CodeMirror;f&&u.push(f)}u.length&&u[0].operation(function(){for(var h=0;h<u.length;h++)i(u[h])})}}var Af=!1;function Kh(){Af||(function If(){var i;pe(window,"resize",function(){null==i&&(i=setTimeout(function(){i=null,Tf(bu)},100))}),pe(window,"blur",function(){return Tf(Be)})}(),Af=!0)}function bu(i){var s=i.display;s.cachedCharWidth=s.cachedTextHeight=s.cachedPaddingH=null,s.scrollbarsClipped=!1,i.setSize()}for(var vr={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ka=0;Ka<10;Ka++)vr[Ka+48]=vr[Ka+96]=String(Ka);for(var Oi=65;Oi<=90;Oi++)vr[Oi]=String.fromCharCode(Oi);for(var ao=1;ao<=12;ao++)vr[ao+111]=vr[ao+63235]="F"+ao;var or={};function Yh(i){var s=i.split(/-(?!$)/);i=s[s.length-1];for(var u,l,f,h,g=0;g<s.length-1;g++){var v=s[g];if(/^(cmd|meta|m)$/i.test(v))h=!0;else if(/^a(lt)?$/i.test(v))u=!0;else if(/^(c|ctrl|control)$/i.test(v))l=!0;else{if(!/^s(hift)?$/i.test(v))throw new Error("Unrecognized modifier name: "+v);f=!0}}return u&&(i="Alt-"+i),l&&(i="Ctrl-"+i),h&&(i="Cmd-"+i),f&&(i="Shift-"+i),i}function Qh(i){var s={};for(var u in i)if(i.hasOwnProperty(u)){var l=i[u];if(/^(name|fallthrough|(de|at)tach)$/.test(u))continue;if("..."==l){delete i[u];continue}for(var f=Eo(u.split(" "),Yh),h=0;h<f.length;h++){var g=void 0,v=void 0;h==f.length-1?(v=f.join(" "),g=l):(v=f.slice(0,h+1).join(" "),g="...");var y=s[v];if(y){if(y!=g)throw new Error("Inconsistent bindings for "+v)}else s[v]=g}delete i[u]}for(var C in s)i[C]=s[C];return i}function Go(i,s,u,l){var f=(s=qs(s)).call?s.call(i,l):s[i];if(!1===f)return"nothing";if("..."===f)return"multi";if(null!=f&&u(f))return"handled";if(s.fallthrough){if("[object Array]"!=Object.prototype.toString.call(s.fallthrough))return Go(i,s.fallthrough,u,l);for(var h=0;h<s.fallthrough.length;h++){var g=Go(i,s.fallthrough[h],u,l);if(g)return g}}}function wu(i){var s="string"==typeof i?i:vr[i.keyCode];return"Ctrl"==s||"Alt"==s||"Shift"==s||"Mod"==s}function Rf(i,s,u){var l=i;return s.altKey&&"Alt"!=l&&(i="Alt-"+i),(ft?s.metaKey:s.ctrlKey)&&"Ctrl"!=l&&(i="Ctrl-"+i),(ft?s.ctrlKey:s.metaKey)&&"Mod"!=l&&(i="Cmd-"+i),!u&&s.shiftKey&&"Shift"!=l&&(i="Shift-"+i),i}function qo(i,s){if(P&&34==i.keyCode&&i.char)return!1;var u=vr[i.keyCode];return null!=u&&!i.altGraphKey&&(3==i.keyCode&&i.code&&(u=i.code),Rf(u,i,s))}function qs(i){return"string"==typeof i?or[i]:i}function Zo(i,s){for(var u=i.doc.sel.ranges,l=[],f=0;f<u.length;f++){for(var h=s(u[f]);l.length&&be(h.from,nt(l).to)<=0;){var g=l.pop();if(be(g.from,h.from)<0){h.from=g.from;break}}l.push(h)}Pn(i,function(){for(var v=l.length-1;v>=0;v--)Rr(i.doc,"",l[v].from,l[v].to,"+delete");Vo(i)})}function fe(i,s,u){var l=ma(i.text,s+u,u);return l<0||l>i.text.length?null:l}function Ya(i,s,u){var l=fe(i,s.ch,u);return null==l?null:new z(s.line,l,u<0?"after":"before")}function Du(i,s,u,l,f){if(i){"rtl"==s.doc.direction&&(f=-f);var h=Ur(u,s.doc.direction);if(h){var C,g=f<0?nt(h):h[0],y=f<0==(1==g.level)?"after":"before";if(g.level>0||"rtl"==s.doc.direction){var D=Xi(s,u),M=nr(s,D,C=f<0?u.text.length-1:0).top;C=ps(function(N){return nr(s,D,N).top==M},f<0==(1==g.level)?g.from:g.to-1,C),"before"==y&&(C=fe(u,C,1))}else C=f<0?g.to:g.from;return new z(l,C,y)}}return new z(l,f<0?u.text.length:0,f<0?"before":"after")}or.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},or.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},or.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},or.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},or.default=De?or.macDefault:or.pcDefault;var Jr={selectAll:Le,singleSelection:function(i){return i.setSelection(i.getCursor("anchor"),i.getCursor("head"),En)},killLine:function(i){return Zo(i,function(s){if(s.empty()){var u=ee(i.doc,s.head.line).text.length;return s.head.ch==u&&s.head.line<i.lastLine()?{from:s.head,to:z(s.head.line+1,0)}:{from:s.head,to:z(s.head.line,u)}}return{from:s.from(),to:s.to()}})},deleteLine:function(i){return Zo(i,function(s){return{from:z(s.from().line,0),to:we(i.doc,z(s.to().line+1,0))}})},delLineLeft:function(i){return Zo(i,function(s){return{from:z(s.from().line,0),to:s.from()}})},delWrappedLineLeft:function(i){return Zo(i,function(s){var u=i.charCoords(s.head,"div").top+5;return{from:i.coordsChar({left:0,top:u},"div"),to:s.from()}})},delWrappedLineRight:function(i){return Zo(i,function(s){var u=i.charCoords(s.head,"div").top+5,l=i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:u},"div");return{from:s.from(),to:l}})},undo:function(i){return i.undo()},redo:function(i){return i.redo()},undoSelection:function(i){return i.undoSelection()},redoSelection:function(i){return i.redoSelection()},goDocStart:function(i){return i.extendSelection(z(i.firstLine(),0))},goDocEnd:function(i){return i.extendSelection(z(i.lastLine()))},goLineStart:function(i){return i.extendSelectionsBy(function(s){return Of(i,s.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(i){return i.extendSelectionsBy(function(s){return Nf(i,s.head)},{origin:"+move",bias:1})},goLineEnd:function(i){return i.extendSelectionsBy(function(s){return function Xh(i,s){var u=ee(i.doc,s),l=function Ki(i){for(var s;s=he(i);)i=s.find(1,!0).line;return i}(u);return l!=u&&(s=at(l)),Du(!0,i,u,s,-1)}(i,s.head.line)},{origin:"+move",bias:-1})},goLineRight:function(i){return i.extendSelectionsBy(function(s){var u=i.cursorCoords(s.head,"div").top+5;return i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:u},"div")},et)},goLineLeft:function(i){return i.extendSelectionsBy(function(s){var u=i.cursorCoords(s.head,"div").top+5;return i.coordsChar({left:0,top:u},"div")},et)},goLineLeftSmart:function(i){return i.extendSelectionsBy(function(s){var u=i.cursorCoords(s.head,"div").top+5,l=i.coordsChar({left:0,top:u},"div");return l.ch<i.getLine(l.line).search(/\S/)?Nf(i,s.head):l},et)},goLineUp:function(i){return i.moveV(-1,"line")},goLineDown:function(i){return i.moveV(1,"line")},goPageUp:function(i){return i.moveV(-1,"page")},goPageDown:function(i){return i.moveV(1,"page")},goCharLeft:function(i){return i.moveH(-1,"char")},goCharRight:function(i){return i.moveH(1,"char")},goColumnLeft:function(i){return i.moveH(-1,"column")},goColumnRight:function(i){return i.moveH(1,"column")},goWordLeft:function(i){return i.moveH(-1,"word")},goGroupRight:function(i){return i.moveH(1,"group")},goGroupLeft:function(i){return i.moveH(-1,"group")},goWordRight:function(i){return i.moveH(1,"word")},delCharBefore:function(i){return i.deleteH(-1,"codepoint")},delCharAfter:function(i){return i.deleteH(1,"char")},delWordBefore:function(i){return i.deleteH(-1,"word")},delWordAfter:function(i){return i.deleteH(1,"word")},delGroupBefore:function(i){return i.deleteH(-1,"group")},delGroupAfter:function(i){return i.deleteH(1,"group")},indentAuto:function(i){return i.indentSelection("smart")},indentMore:function(i){return i.indentSelection("add")},indentLess:function(i){return i.indentSelection("subtract")},insertTab:function(i){return i.replaceSelection("\t")},insertSoftTab:function(i){for(var s=[],u=i.listSelections(),l=i.options.tabSize,f=0;f<u.length;f++){var h=u[f].from(),g=Qn(i.getLine(h.line),h.ch,l);s.push(Ul(l-g%l))}i.replaceSelections(s)},defaultTab:function(i){i.somethingSelected()?i.indentSelection("add"):i.execCommand("insertTab")},transposeChars:function(i){return Pn(i,function(){for(var s=i.listSelections(),u=[],l=0;l<s.length;l++)if(s[l].empty()){var f=s[l].head,h=ee(i.doc,f.line).text;if(h)if(f.ch==h.length&&(f=new z(f.line,f.ch-1)),f.ch>0)f=new z(f.line,f.ch+1),i.replaceRange(h.charAt(f.ch-1)+h.charAt(f.ch-2),z(f.line,f.ch-2),f,"+transpose");else if(f.line>i.doc.first){var g=ee(i.doc,f.line-1).text;g&&(f=new z(f.line,1),i.replaceRange(h.charAt(0)+i.doc.lineSeparator()+g.charAt(g.length-1),z(f.line-1,g.length-1),f,"+transpose"))}u.push(new Xe(f,f))}i.setSelections(u)})},newlineAndIndent:function(i){return Pn(i,function(){for(var s=i.listSelections(),u=s.length-1;u>=0;u--)i.replaceRange(i.doc.lineSeparator(),s[u].anchor,s[u].head,"+input");s=i.listSelections();for(var l=0;l<s.length;l++)i.indentLine(s[l].from().line,null,!0);Vo(i)})},openLine:function(i){return i.replaceSelection("\n","start")},toggleOverwrite:function(i){return i.toggleOverwrite()}};function Of(i,s){var u=ee(i.doc,s),l=fn(u);return l!=u&&(s=at(l)),Du(!0,i,l,s,1)}function Nf(i,s){var u=Of(i,s.line),l=ee(i.doc,u.line),f=Ur(l,i.doc.direction);if(!f||0==f[0].level){var h=Math.max(u.ch,l.text.search(/\S/));return z(u.line,s.line==u.line&&s.ch<=h&&s.ch?0:h,u.sticky)}return u}function Ni(i,s,u){if("string"==typeof s&&!(s=Jr[s]))return!1;i.display.input.ensurePolled();var l=i.display.shift,f=!1;try{i.isReadOnly()&&(i.state.suppressEdits=!0),u&&(i.display.shift=!1),f=s(i)!=hs}finally{i.display.shift=l,i.state.suppressEdits=!1}return f}var Ff=new vi;function Nr(i,s,u,l){var f=i.state.keySeq;if(f){if(wu(s))return"handled";if(/\'$/.test(s)?i.state.keySeq=null:Ff.set(50,function(){i.state.keySeq==f&&(i.state.keySeq=null,i.display.input.reset())}),kf(i,f+" "+s,u,l))return!0}return kf(i,s,u,l)}function kf(i,s,u,l){var f=function Or(i,s,u){for(var l=0;l<i.state.keyMaps.length;l++){var f=Go(s,i.state.keyMaps[l],u,i);if(f)return f}return i.options.extraKeys&&Go(s,i.options.extraKeys,u,i)||Go(s,i.options.keyMap,u,i)}(i,s,l);return"multi"==f&&(i.state.keySeq=s),"handled"==f&&Ie(i,"keyHandled",i,s,u),("handled"==f||"multi"==f)&&(Ce(u),Fa(i)),!!f}function Su(i,s){var u=qo(s,!0);return!!u&&(s.shiftKey&&!i.state.keySeq?Nr(i,"Shift-"+u,s,function(l){return Ni(i,l,!0)})||Nr(i,u,s,function(l){if("string"==typeof l?/^go[A-Z]/.test(l):l.motion)return Ni(i,l)}):Nr(i,u,s,function(l){return Ni(i,l)}))}var Ko=null;function xu(i){var s=this;if(!(i.target&&i.target!=s.display.input.getField()||(s.curOp.focus=Dn(),zt(s,i)))){x&&A<11&&27==i.keyCode&&(i.returnValue=!1);var u=i.keyCode;s.display.shift=16==u||i.shiftKey;var l=Su(s,i);P&&(Ko=l?u:null,!l&&88==u&&!Mv&&(De?i.metaKey:i.ctrlKey)&&s.replaceSelection("",null,"cut")),Ne&&!De&&!l&&46==u&&i.shiftKey&&!i.ctrlKey&&document.execCommand&&document.execCommand("cut"),18==u&&!/\bCodeMirror-crosshair\b/.test(s.display.lineDiv.className)&&function Jh(i){var s=i.display.lineDiv;function u(l){(18==l.keyCode||!l.altKey)&&(At(s,"CodeMirror-crosshair"),Wn(document,"keyup",u),Wn(document,"mouseover",u))}mi(s,"CodeMirror-crosshair"),pe(document,"keyup",u),pe(document,"mouseover",u)}(s)}}function Pf(i){16==i.keyCode&&(this.doc.sel.shift=!1),zt(this,i)}function lo(i){var s=this;if(!(i.target&&i.target!=s.display.input.getField()||Ei(s.display,i)||zt(s,i)||i.ctrlKey&&!i.altKey||De&&i.metaKey)){var u=i.keyCode,l=i.charCode;if(P&&u==Ko)return Ko=null,void Ce(i);if(!P||i.which&&!(i.which<10)||!Su(s,i)){var f=String.fromCharCode(null==l?u:l);"\b"!=f&&(function Mu(i,s,u){return Nr(i,"'"+u+"'",s,function(l){return Ni(i,l,!0)})}(s,i,f)||s.display.input.onKeyPress(i))}}}var Qa,Yo,Tu=function(i,s,u){this.time=i,this.pos=s,this.button=u};function tp(i){var s=this,u=s.display;if(!(zt(s,i)||u.activeTouch&&u.input.supportsTouch())){if(u.input.ensurePolled(),u.shift=i.shiftKey,Ei(u,i))return void(R||(u.scroller.draggable=!1,setTimeout(function(){return u.scroller.draggable=!0},100)));if(!Vf(s,i)){var l=rr(s,i),f=$l(i),h=l?function ep(i,s){var u=+new Date;return Yo&&Yo.compare(u,i,s)?(Qa=Yo=null,"triple"):Qa&&Qa.compare(u,i,s)?(Yo=new Tu(u,i,s),Qa=null,"double"):(Qa=new Tu(u,i,s),Yo=null,"single")}(l,f):"single";window.focus(),1==f&&s.state.selectingText&&s.state.selectingText(i),(!l||!function np(i,s,u,l,f){var h="Click";return"double"==l?h="Double"+h:"triple"==l&&(h="Triple"+h),Nr(i,Rf(h=(1==s?"Left":2==s?"Middle":"Right")+h,f),f,function(g){if("string"==typeof g&&(g=Jr[g]),!g)return!1;var v=!1;try{i.isReadOnly()&&(i.state.suppressEdits=!0),v=g(i,u)!=hs}finally{i.state.suppressEdits=!1}return v})}(s,f,l,h,i))&&(1==f?l?function ip(i,s,u,l){x?setTimeout(wo(af,i),0):i.curOp.focus=Dn();var g,f=function rp(i,s,u){var l=i.getOption("configureMouse"),f=l?l(i,s,u):{};return null==f.unit&&(f.unit=(Ke?u.shiftKey&&u.metaKey:u.altKey)?"rectangle":"single"==s?"char":"double"==s?"word":"line"),(null==f.extend||i.doc.extend)&&(f.extend=i.doc.extend||u.shiftKey),null==f.addNew&&(f.addNew=De?u.metaKey:u.ctrlKey),null==f.moveOnDrag&&(f.moveOnDrag=!(De?u.altKey:u.ctrlKey)),f}(i,u,l),h=i.doc.sel;i.options.dragDrop&&Ev&&!i.isReadOnly()&&"single"==u&&(g=h.contains(s))>-1&&(be((g=h.ranges[g]).from(),s)<0||s.xRel>0)&&(be(g.to(),s)>0||s.xRel<0)?function Xa(i,s,u,l){var f=i.display,h=!1,g=Kt(i,function(C){R&&(f.scroller.draggable=!1),i.state.draggingText=!1,i.state.delayingBlurEvent&&(i.hasFocus()?i.state.delayingBlurEvent=!1:lu(i)),Wn(f.wrapper.ownerDocument,"mouseup",g),Wn(f.wrapper.ownerDocument,"mousemove",v),Wn(f.scroller,"dragstart",y),Wn(f.scroller,"drop",g),h||(Ce(C),l.addNew||js(i.doc,u,null,null,l.extend),R&&!U||x&&9==A?setTimeout(function(){f.wrapper.ownerDocument.body.focus({preventScroll:!0}),f.input.focus()},20):f.input.focus())}),v=function(C){h=h||Math.abs(s.clientX-C.clientX)+Math.abs(s.clientY-C.clientY)>=10},y=function(){return h=!0};R&&(f.scroller.draggable=!0),i.state.draggingText=g,g.copy=!l.moveOnDrag,pe(f.wrapper.ownerDocument,"mouseup",g),pe(f.wrapper.ownerDocument,"mousemove",v),pe(f.scroller,"dragstart",y),pe(f.scroller,"drop",g),i.state.delayingBlurEvent=!0,setTimeout(function(){return f.input.focus()},20),f.scroller.dragDrop&&f.scroller.dragDrop()}(i,l,s,f):function Qo(i,s,u,l){x&&lu(i);var f=i.display,h=i.doc;Ce(s);var g,v,y=h.sel,C=y.ranges;if(l.addNew&&!l.extend?(v=h.sel.contains(u),g=v>-1?C[v]:new Xe(u,u)):(g=h.sel.primary(),v=h.sel.primIndex),"rectangle"==l.unit)l.addNew||(g=new Xe(u,u)),u=rr(i,s,!0,!0),v=-1;else{var D=Ja(i,u,l.unit);g=l.extend?gu(g,D.anchor,D.head,l.extend):D}l.addNew?-1==v?(v=C.length,Ot(h,Gn(i,C.concat([g]),v),{scroll:!1,origin:"*mouse"})):C.length>1&&C[v].empty()&&"char"==l.unit&&!l.extend?(Ot(h,Gn(i,C.slice(0,v).concat(C.slice(v+1)),0),{scroll:!1,origin:"*mouse"}),y=h.sel):Ri(h,v,g,yi):(v=0,Ot(h,new _n([g],0),yi),y=h.sel);var M=u;function N(K){if(0!=be(M,K))if(M=K,"rectangle"==l.unit){for(var ne=[],le=i.options.tabSize,ae=Qn(ee(h,u.line).text,u.ch,le),ke=Qn(ee(h,K.line).text,K.ch,le),dt=Math.min(ae,ke),sn=Math.max(ae,ke),Mt=Math.min(u.line,K.line),an=Math.min(i.lastLine(),Math.max(u.line,K.line));Mt<=an;Mt++){var ct=ee(h,Mt).text,xt=Hl(ct,dt,le);dt==sn?ne.push(new Xe(z(Mt,xt),z(Mt,xt))):ct.length>xt&&ne.push(new Xe(z(Mt,xt),z(Mt,Hl(ct,sn,le))))}ne.length||ne.push(new Xe(u,u)),Ot(h,Gn(i,y.ranges.slice(0,v).concat(ne),v),{origin:"*mouse",scroll:!1}),i.scrollIntoView(K)}else{var _t,bn=g,Yt=Ja(i,K,l.unit),Ge=bn.anchor;be(Yt.anchor,Ge)>0?(_t=Yt.head,Ge=qi(bn.from(),Yt.anchor)):(_t=Yt.anchor,Ge=ys(bn.to(),Yt.head));var Ct=y.ranges.slice(0);Ct[v]=function op(i,s){var u=s.anchor,l=s.head,f=ee(i.doc,u.line);if(0==be(u,l)&&u.sticky==l.sticky)return s;var h=Ur(f);if(!h)return s;var g=ms(h,u.ch,u.sticky),v=h[g];if(v.from!=u.ch&&v.to!=u.ch)return s;var C,y=g+(v.from==u.ch==(1!=v.level)?0:1);if(0==y||y==h.length)return s;if(l.line!=u.line)C=(l.line-u.line)*("ltr"==i.doc.direction?1:-1)>0;else{var D=ms(h,l.ch,l.sticky),M=D-g||(l.ch-u.ch)*(1==v.level?-1:1);C=D==y-1||D==y?M<0:M>0}var N=h[y+(C?-1:0)],I=C==(1==N.level),L=I?N.from:N.to,V=I?"after":"before";return u.ch==L&&u.sticky==V?s:new Xe(new z(u.line,L,V),l)}(i,new Xe(we(h,Ge),_t)),Ot(h,Gn(i,Ct,v),yi)}}var I=f.wrapper.getBoundingClientRect(),L=0;function V(K){var ne=++L,le=rr(i,K,!0,"rectangle"==l.unit);if(le)if(0!=be(le,M)){i.curOp.focus=Dn(),N(le);var ae=xs(f,h);(le.line>=ae.to||le.line<ae.from)&&setTimeout(Kt(i,function(){L==ne&&V(K)}),150)}else{var ke=K.clientY<I.top?-20:K.clientY>I.bottom?20:0;ke&&setTimeout(Kt(i,function(){L==ne&&(f.scroller.scrollTop+=ke,V(K))}),50)}}function $(K){i.state.selectingText=!1,L=1/0,K&&(Ce(K),f.input.focus()),Wn(f.wrapper.ownerDocument,"mousemove",Y),Wn(f.wrapper.ownerDocument,"mouseup",X),h.history.lastSelOrigin=null}var Y=Kt(i,function(K){0!==K.buttons&&$l(K)?V(K):$(K)}),X=Kt(i,$);i.state.selectingText=X,pe(f.wrapper.ownerDocument,"mousemove",Y),pe(f.wrapper.ownerDocument,"mouseup",X)}(i,l,s,f)}(s,l,h,i):Re(i)==u.scroller&&Ce(i):2==f?(l&&js(s.doc,l),setTimeout(function(){return u.input.focus()},20)):3==f&&(de?s.display.input.onContextMenu(i):lu(s)))}}}function Ja(i,s,u){if("char"==u)return new Xe(s,s);if("word"==u)return i.findWordAt(s);if("line"==u)return new Xe(z(s.line,0),we(i.doc,z(s.line+1,0)));var l=u(i,s);return new Xe(l.from,l.to)}function Lf(i,s,u,l){var f,h;if(s.touches)f=s.touches[0].clientX,h=s.touches[0].clientY;else try{f=s.clientX,h=s.clientY}catch(N){return!1}if(f>=Math.floor(i.display.gutters.getBoundingClientRect().right))return!1;l&&Ce(s);var g=i.display,v=g.lineDiv.getBoundingClientRect();if(h>v.bottom||!Ue(i,u))return zl(s);h-=v.top-g.viewOffset;for(var y=0;y<i.display.gutterSpecs.length;++y){var C=g.gutters.childNodes[y];if(C&&C.getBoundingClientRect().right>=f)return Ft(i,u,i,Te(i.doc,h),i.display.gutterSpecs[y].className,s),zl(s)}}function Vf(i,s){return Lf(i,s,"gutterClick",!0)}function Ks(i,s){Ei(i.display,s)||function Au(i,s){return!!Ue(i,"gutterContextMenu")&&Lf(i,s,"gutterContextMenu",!1)}(i,s)||zt(i,s,"contextmenu")||de||i.display.input.onContextMenu(s)}function Iu(i){i.display.wrapper.className=i.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+i.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ds(i)}Tu.prototype.compare=function(i,s,u){return this.time+400>i&&0==be(s,this.pos)&&u==this.button};var uo={toString:function(){return"CodeMirror.Init"}},Ru={},Ys={};function ap(i,s,u){if(!s!=!(u&&u!=uo)){var f=i.display.dragFunctions,h=s?pe:Wn;h(i.display.scroller,"dragstart",f.start),h(i.display.scroller,"dragenter",f.enter),h(i.display.scroller,"dragover",f.over),h(i.display.scroller,"dragleave",f.leave),h(i.display.scroller,"drop",f.drop)}}function lp(i){i.options.lineWrapping?(mi(i.display.wrapper,"CodeMirror-wrap"),i.display.sizer.style.minWidth="",i.display.sizerWidth=null):(At(i.display.wrapper,"CodeMirror-wrap"),nu(i)),Ms(i),yn(i),Ds(i),setTimeout(function(){return Ho(i)},100)}function yt(i,s){var u=this;if(!(this instanceof yt))return new yt(i,s);this.options=s=s?Do(s):{},Do(Ru,s,!1);var l=s.value;"string"==typeof l?l=new hn(l,s.mode,null,s.lineSeparator,s.direction):s.mode&&(l.modeOption=s.mode),this.doc=l;var f=new yt.inputStyles[s.inputStyle](this),h=this.display=new ks(i,l,f,s);for(var g in h.wrapper.CodeMirror=this,Iu(this),s.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),cu(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new vi,keySeq:null,specialChars:null},s.autofocus&&!ye&&h.input.focus(),x&&A<11&&setTimeout(function(){return u.display.input.reset(!0)},20),function up(i){var s=i.display;pe(s.scroller,"mousedown",Kt(i,tp)),pe(s.scroller,"dblclick",x&&A<11?Kt(i,function(y){if(!zt(i,y)){var C=rr(i,y);if(C&&!Vf(i,y)&&!Ei(i.display,y)){Ce(y);var D=i.findWordAt(C);js(i.doc,D.anchor,D.head)}}}):function(y){return zt(i,y)||Ce(y)}),pe(s.scroller,"contextmenu",function(y){return Ks(i,y)}),pe(s.input.getField(),"contextmenu",function(y){s.scroller.contains(y.target)||Ks(i,y)});var u,l={end:0};function f(){s.activeTouch&&(u=setTimeout(function(){return s.activeTouch=null},1e3),(l=s.activeTouch).end=+new Date)}function h(y){if(1!=y.touches.length)return!1;var C=y.touches[0];return C.radiusX<=1&&C.radiusY<=1}function g(y,C){if(null==C.left)return!0;var D=C.left-y.left,M=C.top-y.top;return D*D+M*M>400}pe(s.scroller,"touchstart",function(y){if(!zt(i,y)&&!h(y)&&!Vf(i,y)){s.input.ensurePolled(),clearTimeout(u);var C=+new Date;s.activeTouch={start:C,moved:!1,prev:C-l.end<=300?l:null},1==y.touches.length&&(s.activeTouch.left=y.touches[0].pageX,s.activeTouch.top=y.touches[0].pageY)}}),pe(s.scroller,"touchmove",function(){s.activeTouch&&(s.activeTouch.moved=!0)}),pe(s.scroller,"touchend",function(y){var C=s.activeTouch;if(C&&!Ei(s,y)&&null!=C.left&&!C.moved&&new Date-C.start<300){var M,D=i.coordsChar(s.activeTouch,"page");M=!C.prev||g(C,C.prev)?new Xe(D,D):!C.prev.prev||g(C,C.prev.prev)?i.findWordAt(D):new Xe(z(D.line,0),we(i.doc,z(D.line+1,0))),i.setSelection(M.anchor,M.head),i.focus(),Ce(y)}f()}),pe(s.scroller,"touchcancel",f),pe(s.scroller,"scroll",function(){s.scroller.clientHeight&&(Bo(i,s.scroller.scrollTop),An(i,s.scroller.scrollLeft,!0),Ft(i,"scroll",i))}),pe(s.scroller,"mousewheel",function(y){return Bh(i,y)}),pe(s.scroller,"DOMMouseScroll",function(y){return Bh(i,y)}),pe(s.wrapper,"scroll",function(){return s.wrapper.scrollTop=s.wrapper.scrollLeft=0}),s.dragFunctions={enter:function(y){zt(i,y)||rt(y)},over:function(y){zt(i,y)||(function Zh(i,s){var u=rr(i,s);if(u){var l=document.createDocumentFragment();au(i,u,l),i.display.dragCursor||(i.display.dragCursor=ie("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),i.display.lineSpace.insertBefore(i.display.dragCursor,i.display.cursorDiv)),$e(i.display.dragCursor,l)}}(i,y),rt(y))},start:function(y){return function Mf(i,s){if(x&&(!i.state.draggingText||+new Date-so<100))rt(s);else if(!zt(i,s)&&!Ei(i.display,s)&&(s.dataTransfer.setData("Text",i.getSelection()),s.dataTransfer.effectAllowed="copyMove",s.dataTransfer.setDragImage&&!U)){var u=ie("img",null,null,"position: fixed; left: 0; top: 0;");u.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",P&&(u.width=u.height=1,i.display.wrapper.appendChild(u),u._top=u.offsetTop),s.dataTransfer.setDragImage(u,0,0),P&&u.parentNode.removeChild(u)}}(i,y)},drop:Kt(i,Bv),leave:function(y){zt(i,y)||xf(i)}};var v=s.input.getField();pe(v,"keyup",function(y){return Pf.call(i,y)}),pe(v,"keydown",Kt(i,xu)),pe(v,"keypress",Kt(i,lo)),pe(v,"focus",function(y){return W(i,y)}),pe(v,"blur",function(y){return Be(i,y)})}(this),Kh(),no(this),this.curOp.forceUpdate=!0,vf(this,l),s.autofocus&&!ye||this.hasFocus()?setTimeout(function(){u.hasFocus()&&!u.state.focused&&W(u)},20):Be(this),Ys)Ys.hasOwnProperty(g)&&Ys[g](this,s[g],uo);qr(this),s.finishInit&&s.finishInit(this);for(var v=0;v<Fr.length;++v)Fr[v](this);Ti(this),R&&s.lineWrapping&&"optimizelegibility"==getComputedStyle(h.lineDiv).textRendering&&(h.lineDiv.style.textRendering="auto")}yt.defaults=Ru,yt.optionHandlers=Ys;var Fr=[];function ei(i,s,u,l){var h,f=i.doc;null==u&&(u="add"),"smart"==u&&(f.mode.indent?h=Ca(i,s).state:u="prev");var g=i.options.tabSize,v=ee(f,s),y=Qn(v.text,null,g);v.stateAfter&&(v.stateAfter=null);var D,C=v.text.match(/^\s*/)[0];if(l||/\S/.test(v.text)){if("smart"==u&&((D=f.mode.indent(h,v.text.slice(C.length),v.text))==hs||D>150)){if(!l)return;u="prev"}}else D=0,u="not";"prev"==u?D=s>f.first?Qn(ee(f,s-1).text,null,g):0:"add"==u?D=y+i.options.indentUnit:"subtract"==u?D=y-i.options.indentUnit:"number"==typeof u&&(D=y+u),D=Math.max(0,D);var M="",N=0;if(i.options.indentWithTabs)for(var I=Math.floor(D/g);I;--I)N+=g,M+="\t";if(N<D&&(M+=Ul(D-N)),M!=C)return Rr(f,M,z(s,0),z(s,C.length),"+input"),v.stateAfter=null,!0;for(var L=0;L<f.sel.ranges.length;L++){var V=f.sel.ranges[L];if(V.head.line==s&&V.head.ch<C.length){var $=z(s,C.length);Ri(f,L,new Xe($,$));break}}}yt.defineInitHook=function(i){return Fr.push(i)};var yr=null;function Ou(i){yr=i}function Bf(i,s,u,l,f){var h=i.doc;i.display.shift=!1,l||(l=h.sel);var g=+new Date-200,v="paste"==f||i.state.pasteIncoming>g,y=ql(s),C=null;if(v&&l.ranges.length>1)if(yr&&yr.text.join("\n")==s){if(l.ranges.length%yr.text.length==0){C=[];for(var D=0;D<yr.text.length;D++)C.push(h.splitLines(yr.text[D]))}}else y.length==l.ranges.length&&i.options.pasteLinesPerSelection&&(C=Eo(y,function(Y){return[Y]}));for(var M=i.curOp.updateInput,N=l.ranges.length-1;N>=0;N--){var I=l.ranges[N],L=I.from(),V=I.to();I.empty()&&(u&&u>0?L=z(L.line,L.ch-u):i.state.overwrite&&!v?V=z(V.line,Math.min(ee(h,V.line).text.length,V.ch+nt(y).length)):v&&yr&&yr.lineWise&&yr.text.join("\n")==y.join("\n")&&(L=V=z(L.line,0)));var $={from:L,to:V,text:C?C[N%C.length]:y,origin:f||(v?"paste":i.state.cutIncoming>g?"cut":"+input")};Ws(i.doc,$),Ie(i,"inputRead",i,$)}s&&!v&&fp(i,s),Vo(i),i.curOp.updateInput<2&&(i.curOp.updateInput=M),i.curOp.typing=!0,i.state.pasteIncoming=i.state.cutIncoming=-1}function cp(i,s){var u=i.clipboardData&&i.clipboardData.getData("Text");if(u)return i.preventDefault(),!s.isReadOnly()&&!s.options.disableInput&&Pn(s,function(){return Bf(s,u,0,null,"paste")}),!0}function fp(i,s){if(i.options.electricChars&&i.options.smartIndent)for(var u=i.doc.sel,l=u.ranges.length-1;l>=0;l--){var f=u.ranges[l];if(!(f.head.ch>100||l&&u.ranges[l-1].head.line==f.head.line)){var h=i.getModeAt(f.head),g=!1;if(h.electricChars){for(var v=0;v<h.electricChars.length;v++)if(s.indexOf(h.electricChars.charAt(v))>-1){g=ei(i,f.head.line,"smart");break}}else h.electricInput&&h.electricInput.test(ee(i.doc,f.head.line).text.slice(0,f.head.ch))&&(g=ei(i,f.head.line,"smart"));g&&Ie(i,"electricInput",i,f.head.line)}}}function dp(i){for(var s=[],u=[],l=0;l<i.doc.sel.ranges.length;l++){var f=i.doc.sel.ranges[l].head.line,h={anchor:z(f,0),head:z(f+1,0)};u.push(h),s.push(i.getRange(h.anchor,h.head))}return{text:s,ranges:u}}function Nu(i,s,u,l){i.setAttribute("autocorrect",u?"":"off"),i.setAttribute("autocapitalize",l?"":"off"),i.setAttribute("spellcheck",!!s)}function Hf(){var i=ie("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),s=ie("div",[i],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return R?i.style.width="1000px":i.setAttribute("wrap","off"),Q&&(i.style.border="1px solid black"),Nu(i),s}function Fu(i,s,u,l,f){var h=s,g=u,v=ee(i,s.line),y=f&&"rtl"==i.direction?-u:u;function D(X){var K;if("codepoint"==l){var ne=v.text.charCodeAt(s.ch+(u>0?0:-1));K=isNaN(ne)?null:new z(s.line,Math.max(0,Math.min(v.text.length,s.ch+u*((u>0?ne>=55296&&ne<56320:ne>=56320&&ne<57343)?2:1))),-u)}else K=f?function Eu(i,s,u,l){var f=Ur(s,i.doc.direction);if(!f)return Ya(s,u,l);u.ch>=s.text.length?(u.ch=s.text.length,u.sticky="before"):u.ch<=0&&(u.ch=0,u.sticky="after");var h=ms(f,u.ch,u.sticky),g=f[h];if("ltr"==i.doc.direction&&g.level%2==0&&(l>0?g.to>u.ch:g.from<u.ch))return Ya(s,u,l);var y,v=function(Y,X){return fe(s,Y instanceof z?Y.ch:Y,X)},C=function(Y){return i.options.lineWrapping?(y=y||Xi(i,s),Ra(i,s,y,Y)):{begin:0,end:s.text.length}},D=C("before"==u.sticky?v(u,-1):u.ch);if("rtl"==i.doc.direction||1==g.level){var M=1==g.level==l<0,N=v(u,M?1:-1);if(null!=N&&(M?N<=g.to&&N<=D.end:N>=g.from&&N>=D.begin))return new z(u.line,N,M?"before":"after")}var L=function(Y,X,K){for(;Y>=0&&Y<f.length;Y+=X){var le=f[Y],ae=X>0==(1!=le.level),ke=ae?K.begin:v(K.end,-1);if(le.from<=ke&&ke<le.to||(ke=ae?le.from:v(le.to,-1),K.begin<=ke&&ke<K.end))return dt=ke,ae?new z(u.line,v(dt,1),"before"):new z(u.line,dt,"after")}var dt},V=L(h+l,l,D);if(V)return V;var $=l>0?D.end:v(D.begin,-1);return null==$||l>0&&$==s.text.length||!(V=L(l>0?0:f.length-1,l,C($)))?null:V}(i.cm,v,s,u):Ya(v,s,u);if(null==K){if(X||!function C(){var X=s.line+y;return!(X<i.first||X>=i.first+i.size)&&(s=new z(X,s.ch,s.sticky),v=ee(i,X))}())return!1;s=Du(f,i.cm,v,s.line,y)}else s=K;return!0}if("char"==l||"codepoint"==l)D();else if("column"==l)D(!0);else if("word"==l||"group"==l)for(var M=null,N="group"==l,I=i.cm&&i.cm.getHelper(s,"wordChars"),L=!0;!(u<0)||D(!L);L=!1){var V=v.text.charAt(s.ch)||"\n",$=Vt(V,I)?"w":N&&"\n"==V?"n":!N||/\s/.test(V)?null:"p";if(N&&!L&&!$&&($="s"),M&&M!=$){u<0&&(u=1,D(),s.sticky="after");break}if($&&(M=$),u>0&&!D(!L))break}var Y=_u(i,s,h,g,!0);return Kl(h,Y)&&(Y.hitSide=!0),Y}function Uf(i,s,u,l){var g,C,f=i.doc,h=s.left;if("page"==l){var v=Math.min(i.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),y=Math.max(v-.5*Po(i.display),3);g=(u>0?s.bottom:s.top)+u*y}else"line"==l&&(g=u>0?s.bottom+3:s.top-3);for(;(C=Es(i,h,g)).outside;){if(u<0?g<=0:g>=f.height){C.hitSide=!0;break}g+=5*u}return C}var ut=function(i){this.cm=i,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new vi,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function jf(i,s){var u=Xc(i,s.line);if(!u||u.hidden)return null;var l=ee(i.doc,s.line),f=xh(u,l,s.line),h=Ur(l,i.doc.direction),g="left";h&&(g=ms(h,s.ch)%2?"right":"left");var y=Ih(f.map,s.ch,g);return y.offset="right"==y.collapse?y.end:y.start,y}function co(i,s){return s&&(i.bad=!0),i}function Fi(i,s,u){var l;if(s==i.display.lineDiv){if(!(l=i.display.lineDiv.childNodes[u]))return co(i.clipPos(z(i.display.viewTo-1)),!0);s=null,u=0}else for(l=s;;l=l.parentNode){if(!l||l==i.display.lineDiv)return null;if(l.parentNode&&l.parentNode==i.display.lineDiv)break}for(var f=0;f<i.display.view.length;f++){var h=i.display.view[f];if(h.node==l)return Wf(h,s,u)}}function Wf(i,s,u){var l=i.text.firstChild,f=!1;if(!s||!jn(l,s))return co(z(at(i.line),0),!0);if(s==l&&(f=!0,s=l.childNodes[u],u=0,!s)){var h=i.rest?nt(i.rest):i.line;return co(z(at(h),h.text.length),f)}var g=3==s.nodeType?s:null,v=s;for(!g&&1==s.childNodes.length&&3==s.firstChild.nodeType&&(g=s.firstChild,u&&(u=g.nodeValue.length));v.parentNode!=l;)v=v.parentNode;var y=i.measure,C=y.maps;function D($,Y,X){for(var K=-1;K<(C?C.length:0);K++)for(var ne=K<0?y.map:C[K],le=0;le<ne.length;le+=3){var ae=ne[le+2];if(ae==$||ae==Y){var ke=at(K<0?i.line:i.rest[K]),dt=ne[le]+X;return(X<0||ae!=$)&&(dt=ne[le+(X?1:0)]),z(ke,dt)}}}var M=D(g,v,u);if(M)return co(M,f);for(var N=v.nextSibling,I=g?g.nodeValue.length-u:0;N;N=N.nextSibling){if(M=D(N,N.firstChild,0))return co(z(M.line,M.ch-I),f);I+=N.textContent.length}for(var L=v.previousSibling,V=u;L;L=L.previousSibling){if(M=D(L,L.firstChild,-1))return co(z(M.line,M.ch+V),f);V+=L.textContent.length}}ut.prototype.init=function(i){var s=this,u=this,l=u.cm,f=u.div=i.lineDiv;function h(v){for(var y=v.target;y;y=y.parentNode){if(y==f)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(y.className))break}return!1}function g(v){if(h(v)&&!zt(l,v)){if(l.somethingSelected())Ou({lineWise:!1,text:l.getSelections()}),"cut"==v.type&&l.replaceSelection("",null,"cut");else{if(!l.options.lineWiseCopyCut)return;var y=dp(l);Ou({lineWise:!0,text:y.text}),"cut"==v.type&&l.operation(function(){l.setSelections(y.ranges,0,En),l.replaceSelection("",null,"cut")})}if(v.clipboardData){v.clipboardData.clearData();var C=yr.text.join("\n");if(v.clipboardData.setData("Text",C),v.clipboardData.getData("Text")==C)return void v.preventDefault()}var D=Hf(),M=D.firstChild;l.display.lineSpace.insertBefore(D,l.display.lineSpace.firstChild),M.value=yr.text.join("\n");var N=Dn();ds(M),setTimeout(function(){l.display.lineSpace.removeChild(D),N.focus(),N==f&&u.showPrimarySelection()},50)}}f.contentEditable=!0,Nu(f,l.options.spellcheck,l.options.autocorrect,l.options.autocapitalize),pe(f,"paste",function(v){!h(v)||zt(l,v)||cp(v,l)||A<=11&&setTimeout(Kt(l,function(){return s.updateFromDOM()}),20)}),pe(f,"compositionstart",function(v){s.composing={data:v.data,done:!1}}),pe(f,"compositionupdate",function(v){s.composing||(s.composing={data:v.data,done:!1})}),pe(f,"compositionend",function(v){s.composing&&(v.data!=s.composing.data&&s.readFromDOMSoon(),s.composing.done=!0)}),pe(f,"touchstart",function(){return u.forceCompositionEnd()}),pe(f,"input",function(){s.composing||s.readFromDOMSoon()}),pe(f,"copy",g),pe(f,"cut",g)},ut.prototype.screenReaderLabelChanged=function(i){i?this.div.setAttribute("aria-label",i):this.div.removeAttribute("aria-label")},ut.prototype.prepareSelection=function(){var i=Nh(this.cm,!1);return i.focus=Dn()==this.div,i},ut.prototype.showSelection=function(i,s){!i||!this.cm.display.view.length||((i.focus||s)&&this.showPrimarySelection(),this.showMultipleSelections(i))},ut.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},ut.prototype.showPrimarySelection=function(){var i=this.getSelection(),s=this.cm,u=s.doc.sel.primary(),l=u.from(),f=u.to();if(s.display.viewTo==s.display.viewFrom||l.line>=s.display.viewTo||f.line<s.display.viewFrom)i.removeAllRanges();else{var h=Fi(s,i.anchorNode,i.anchorOffset),g=Fi(s,i.focusNode,i.focusOffset);if(!h||h.bad||!g||g.bad||0!=be(qi(h,g),l)||0!=be(ys(h,g),f)){var v=s.display.view,y=l.line>=s.display.viewFrom&&jf(s,l)||{node:v[0].measure.map[2],offset:0},C=f.line<s.display.viewTo&&jf(s,f);if(!C){var D=v[v.length-1].measure,M=D.maps?D.maps[D.maps.length-1]:D.map;C={node:M[M.length-1],offset:M[M.length-2]-M[M.length-3]}}if(!y||!C)return void i.removeAllRanges();var I,N=i.rangeCount&&i.getRangeAt(0);try{I=gi(y.node,y.offset,C.offset,C.node)}catch(L){}I&&(!Ne&&s.state.focused?(i.collapse(y.node,y.offset),I.collapsed||(i.removeAllRanges(),i.addRange(I))):(i.removeAllRanges(),i.addRange(I)),N&&null==i.anchorNode?i.addRange(N):Ne&&this.startGracePeriod()),this.rememberSelection()}}},ut.prototype.startGracePeriod=function(){var i=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){i.gracePeriod=!1,i.selectionChanged()&&i.cm.operation(function(){return i.cm.curOp.selectionChanged=!0})},20)},ut.prototype.showMultipleSelections=function(i){$e(this.cm.display.cursorDiv,i.cursors),$e(this.cm.display.selectionDiv,i.selection)},ut.prototype.rememberSelection=function(){var i=this.getSelection();this.lastAnchorNode=i.anchorNode,this.lastAnchorOffset=i.anchorOffset,this.lastFocusNode=i.focusNode,this.lastFocusOffset=i.focusOffset},ut.prototype.selectionInEditor=function(){var i=this.getSelection();if(!i.rangeCount)return!1;var s=i.getRangeAt(0).commonAncestorContainer;return jn(this.div,s)},ut.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&((!this.selectionInEditor()||Dn()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},ut.prototype.blur=function(){this.div.blur()},ut.prototype.getField=function(){return this.div},ut.prototype.supportsTouch=function(){return!0},ut.prototype.receivedFocus=function(){var i=this,s=this;this.selectionInEditor()?setTimeout(function(){return i.pollSelection()},20):Pn(this.cm,function(){return s.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function u(){s.cm.state.focused&&(s.pollSelection(),s.polling.set(s.cm.options.pollInterval,u))})},ut.prototype.selectionChanged=function(){var i=this.getSelection();return i.anchorNode!=this.lastAnchorNode||i.anchorOffset!=this.lastAnchorOffset||i.focusNode!=this.lastFocusNode||i.focusOffset!=this.lastFocusOffset},ut.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var i=this.getSelection(),s=this.cm;if(me&&F&&this.cm.display.gutterSpecs.length&&function el(i){for(var s=i;s;s=s.parentNode)if(/CodeMirror-gutter-wrapper/.test(s.className))return!0;return!1}(i.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var u=Fi(s,i.anchorNode,i.anchorOffset),l=Fi(s,i.focusNode,i.focusOffset);u&&l&&Pn(s,function(){Ot(s.doc,pr(u,l),En),(u.bad||l.bad)&&(s.curOp.selectionChanged=!0)})}}},ut.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var h,g,v,i=this.cm,s=i.display,u=i.doc.sel.primary(),l=u.from(),f=u.to();if(0==l.ch&&l.line>i.firstLine()&&(l=z(l.line-1,ee(i.doc,l.line-1).length)),f.ch==ee(i.doc,f.line).text.length&&f.line<i.lastLine()&&(f=z(f.line+1,0)),l.line<s.viewFrom||f.line>s.viewTo-1)return!1;l.line==s.viewFrom||0==(h=Zt(i,l.line))?(g=at(s.view[0].line),v=s.view[0].node):(g=at(s.view[h].line),v=s.view[h-1].node.nextSibling);var C,D,y=Zt(i,f.line);if(y==s.view.length-1?(C=s.viewTo-1,D=s.lineDiv.lastChild):(C=at(s.view[y+1].line)-1,D=s.view[y+1].node.previousSibling),!v)return!1;for(var M=i.doc.splitLines(function kr(i,s,u,l,f){var h="",g=!1,v=i.doc.lineSeparator(),y=!1;function D(){g&&(h+=v,y&&(h+=v),g=y=!1)}function M(I){I&&(D(),h+=I)}function N(I){if(1==I.nodeType){var L=I.getAttribute("cm-text");if(L)return void M(L);var $,V=I.getAttribute("cm-marker");if(V){var Y=i.findMarks(z(l,0),z(f+1,0),function C(I){return function(L){return L.id==I}}(+V));return void(Y.length&&($=Y[0].find(0))&&M(it(i.doc,$.from,$.to).join(v)))}if("false"==I.getAttribute("contenteditable"))return;var X=/^(pre|div|p|li|table|br)$/i.test(I.nodeName);if(!/^br$/i.test(I.nodeName)&&0==I.textContent.length)return;X&&D();for(var K=0;K<I.childNodes.length;K++)N(I.childNodes[K]);/^(pre|p)$/i.test(I.nodeName)&&(y=!0),X&&(g=!0)}else 3==I.nodeType&&M(I.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;N(s),s!=u;)s=s.nextSibling,y=!1;return h}(i,v,D,g,C)),N=it(i.doc,z(g,0),z(C,ee(i.doc,C).text.length));M.length>1&&N.length>1;)if(nt(M)==nt(N))M.pop(),N.pop(),C--;else{if(M[0]!=N[0])break;M.shift(),N.shift(),g++}for(var I=0,L=0,V=M[0],$=N[0],Y=Math.min(V.length,$.length);I<Y&&V.charCodeAt(I)==$.charCodeAt(I);)++I;for(var X=nt(M),K=nt(N),ne=Math.min(X.length-(1==M.length?I:0),K.length-(1==N.length?I:0));L<ne&&X.charCodeAt(X.length-L-1)==K.charCodeAt(K.length-L-1);)++L;if(1==M.length&&1==N.length&&g==l.line)for(;I&&I>l.ch&&X.charCodeAt(X.length-L-1)==K.charCodeAt(K.length-L-1);)I--,L++;M[M.length-1]=X.slice(0,X.length-L).replace(/^\u200b+/,""),M[0]=M[0].slice(I).replace(/\u200b+$/,"");var le=z(g,I),ae=z(C,N.length?nt(N).length-L:0);return M.length>1||M[0]||be(le,ae)?(Rr(i.doc,M,le,ae,"+input"),!0):void 0},ut.prototype.ensurePolled=function(){this.forceCompositionEnd()},ut.prototype.reset=function(){this.forceCompositionEnd()},ut.prototype.forceCompositionEnd=function(){!this.composing||(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},ut.prototype.readFromDOMSoon=function(){var i=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(i.readDOMTimeout=null,i.composing){if(!i.composing.done)return;i.composing=null}i.updateFromDOM()},80))},ut.prototype.updateFromDOM=function(){var i=this;(this.cm.isReadOnly()||!this.pollContent())&&Pn(this.cm,function(){return yn(i.cm)})},ut.prototype.setUneditable=function(i){i.contentEditable="false"},ut.prototype.onKeyPress=function(i){0==i.charCode||this.composing||(i.preventDefault(),this.cm.isReadOnly()||Kt(this.cm,Bf)(this.cm,String.fromCharCode(null==i.charCode?i.keyCode:i.charCode),0))},ut.prototype.readOnlyChanged=function(i){this.div.contentEditable=String("nocursor"!=i)},ut.prototype.onContextMenu=function(){},ut.prototype.resetPosition=function(){},ut.prototype.needsContentAttribute=!0;var St=function(i){this.cm=i,this.prevInput="",this.pollingFast=!1,this.polling=new vi,this.hasSelection=!1,this.composing=null};St.prototype.init=function(i){var s=this,u=this,l=this.cm;this.createField(i);var f=this.textarea;function h(g){if(!zt(l,g)){if(l.somethingSelected())Ou({lineWise:!1,text:l.getSelections()});else{if(!l.options.lineWiseCopyCut)return;var v=dp(l);Ou({lineWise:!0,text:v.text}),"cut"==g.type?l.setSelections(v.ranges,null,En):(u.prevInput="",f.value=v.text.join("\n"),ds(f))}"cut"==g.type&&(l.state.cutIncoming=+new Date)}}i.wrapper.insertBefore(this.wrapper,i.wrapper.firstChild),Q&&(f.style.width="0px"),pe(f,"input",function(){x&&A>=9&&s.hasSelection&&(s.hasSelection=null),u.poll()}),pe(f,"paste",function(g){zt(l,g)||cp(g,l)||(l.state.pasteIncoming=+new Date,u.fastPoll())}),pe(f,"cut",h),pe(f,"copy",h),pe(i.scroller,"paste",function(g){if(!Ei(i,g)&&!zt(l,g)){if(!f.dispatchEvent)return l.state.pasteIncoming=+new Date,void u.focus();var v=new Event("paste");v.clipboardData=g.clipboardData,f.dispatchEvent(v)}}),pe(i.lineSpace,"selectstart",function(g){Ei(i,g)||Ce(g)}),pe(f,"compositionstart",function(){var g=l.getCursor("from");u.composing&&u.composing.range.clear(),u.composing={start:g,range:l.markText(g,l.getCursor("to"),{className:"CodeMirror-composing"})}}),pe(f,"compositionend",function(){u.composing&&(u.poll(),u.composing.range.clear(),u.composing=null)})},St.prototype.createField=function(i){this.wrapper=Hf(),this.textarea=this.wrapper.firstChild},St.prototype.screenReaderLabelChanged=function(i){i?this.textarea.setAttribute("aria-label",i):this.textarea.removeAttribute("aria-label")},St.prototype.prepareSelection=function(){var i=this.cm,s=i.display,u=i.doc,l=Nh(i);if(i.options.moveInputWithCursor){var f=It(i,u.sel.primary().head,"div"),h=s.wrapper.getBoundingClientRect(),g=s.lineDiv.getBoundingClientRect();l.teTop=Math.max(0,Math.min(s.wrapper.clientHeight-10,f.top+g.top-h.top)),l.teLeft=Math.max(0,Math.min(s.wrapper.clientWidth-10,f.left+g.left-h.left))}return l},St.prototype.showSelection=function(i){var u=this.cm.display;$e(u.cursorDiv,i.cursors),$e(u.selectionDiv,i.selection),null!=i.teTop&&(this.wrapper.style.top=i.teTop+"px",this.wrapper.style.left=i.teLeft+"px")},St.prototype.reset=function(i){if(!this.contextMenuPending&&!this.composing){var s=this.cm;if(s.somethingSelected()){this.prevInput="";var u=s.getSelection();this.textarea.value=u,s.state.focused&&ds(this.textarea),x&&A>=9&&(this.hasSelection=u)}else i||(this.prevInput=this.textarea.value="",x&&A>=9&&(this.hasSelection=null))}},St.prototype.getField=function(){return this.textarea},St.prototype.supportsTouch=function(){return!1},St.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!ye||Dn()!=this.textarea))try{this.textarea.focus()}catch(i){}},St.prototype.blur=function(){this.textarea.blur()},St.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},St.prototype.receivedFocus=function(){this.slowPoll()},St.prototype.slowPoll=function(){var i=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){i.poll(),i.cm.state.focused&&i.slowPoll()})},St.prototype.fastPoll=function(){var i=!1,s=this;s.pollingFast=!0,s.polling.set(20,function u(){s.poll()||i?(s.pollingFast=!1,s.slowPoll()):(i=!0,s.polling.set(60,u))})},St.prototype.poll=function(){var i=this,s=this.cm,u=this.textarea,l=this.prevInput;if(this.contextMenuPending||!s.state.focused||Sv(u)&&!l&&!this.composing||s.isReadOnly()||s.options.disableInput||s.state.keySeq)return!1;var f=u.value;if(f==l&&!s.somethingSelected())return!1;if(x&&A>=9&&this.hasSelection===f||De&&/[\uf700-\uf7ff]/.test(f))return s.display.input.reset(),!1;if(s.doc.sel==s.display.selForContextMenu){var h=f.charCodeAt(0);if(8203==h&&!l&&(l="\u200b"),8666==h)return this.reset(),this.cm.execCommand("undo")}for(var g=0,v=Math.min(l.length,f.length);g<v&&l.charCodeAt(g)==f.charCodeAt(g);)++g;return Pn(s,function(){Bf(s,f.slice(g),l.length-g,null,i.composing?"*compose":null),f.length>1e3||f.indexOf("\n")>-1?u.value=i.prevInput="":i.prevInput=f,i.composing&&(i.composing.range.clear(),i.composing.range=s.markText(i.composing.start,s.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},St.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},St.prototype.onKeyPress=function(){x&&A>=9&&(this.hasSelection=null),this.fastPoll()},St.prototype.onContextMenu=function(i){var s=this,u=s.cm,l=u.display,f=s.textarea;s.contextMenuPending&&s.contextMenuPending();var h=rr(u,i),g=l.scroller.scrollTop;if(h&&!P){u.options.resetSelectionOnContextMenu&&-1==u.doc.sel.contains(h)&&Kt(u,Ot)(u.doc,pr(h),En);var M,y=f.style.cssText,C=s.wrapper.style.cssText,D=s.wrapper.offsetParent.getBoundingClientRect();if(s.wrapper.style.cssText="position: static",f.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(i.clientY-D.top-5)+"px; left: "+(i.clientX-D.left-5)+"px;\n      z-index: 1000; background: "+(x?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",R&&(M=window.scrollY),l.input.focus(),R&&window.scrollTo(null,M),l.input.reset(),u.somethingSelected()||(f.value=s.prevInput=" "),s.contextMenuPending=I,l.selForContextMenu=u.doc.sel,clearTimeout(l.detectingSelectAll),x&&A>=9&&N(),de){rt(i);var L=function(){Wn(window,"mouseup",L),setTimeout(I,20)};pe(window,"mouseup",L)}else setTimeout(I,50)}function N(){if(null!=f.selectionStart){var V=u.somethingSelected(),$="\u200b"+(V?f.value:"");f.value="\u21da",f.value=$,s.prevInput=V?"":"\u200b",f.selectionStart=1,f.selectionEnd=$.length,l.selForContextMenu=u.doc.sel}}function I(){if(s.contextMenuPending==I&&(s.contextMenuPending=!1,s.wrapper.style.cssText=C,f.style.cssText=y,x&&A<9&&l.scrollbars.setScrollTop(l.scroller.scrollTop=g),null!=f.selectionStart)){(!x||x&&A<9)&&N();var V=0,$=function(){l.selForContextMenu==u.doc.sel&&0==f.selectionStart&&f.selectionEnd>0&&"\u200b"==s.prevInput?Kt(u,Le)(u):V++<10?l.detectingSelectAll=setTimeout($,500):(l.selForContextMenu=null,l.input.reset())};l.detectingSelectAll=setTimeout($,200)}}},St.prototype.readOnlyChanged=function(i){i||this.reset(),this.textarea.disabled="nocursor"==i,this.textarea.readOnly=!!i},St.prototype.setUneditable=function(){},St.prototype.needsContentAttribute=!1,function sp(i){var s=i.optionHandlers;function u(l,f,h,g){i.defaults[l]=f,h&&(s[l]=g?function(v,y,C){C!=uo&&h(v,y,C)}:h)}i.defineOption=u,i.Init=uo,u("value","",function(l,f){return l.setValue(f)},!0),u("mode",null,function(l,f){l.doc.modeOption=f,Ps(l)},!0),u("indentUnit",2,Ps,!0),u("indentWithTabs",!1),u("smartIndent",!0),u("tabSize",4,function(l){Ii(l),Ds(l),yn(l)},!0),u("lineSeparator",null,function(l,f){if(l.doc.lineSep=f,f){var h=[],g=l.doc.first;l.doc.iter(function(y){for(var C=0;;){var D=y.text.indexOf(f,C);if(-1==D)break;C=D+f.length,h.push(z(g,D))}g++});for(var v=h.length-1;v>=0;v--)Rr(l.doc,f,h[v],z(h[v].line,h[v].ch+f.length))}}),u("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(l,f,h){l.state.specialChars=new RegExp(f.source+(f.test("\t")?"":"|\t"),"g"),h!=uo&&l.refresh()}),u("specialCharPlaceholder",Yi,function(l){return l.refresh()},!0),u("electricChars",!0),u("inputStyle",ye?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),u("spellcheck",!1,function(l,f){return l.getInputField().spellcheck=f},!0),u("autocorrect",!1,function(l,f){return l.getInputField().autocorrect=f},!0),u("autocapitalize",!1,function(l,f){return l.getInputField().autocapitalize=f},!0),u("rtlMoveVisually",!pt),u("wholeLineUpdateBefore",!0),u("theme","default",function(l){Iu(l),Fs(l)},!0),u("keyMap","default",function(l,f,h){var g=qs(f),v=h!=uo&&qs(h);v&&v.detach&&v.detach(l,g),g.attach&&g.attach(l,v||null)}),u("extraKeys",null),u("configureMouse",null),u("lineWrapping",!1,lp,!0),u("gutters",[],function(l,f){l.display.gutterSpecs=ro(f,l.options.lineNumbers),Fs(l)},!0),u("fixedGutter",!0,function(l,f){l.display.gutters.style.left=f?kn(l.display)+"px":"0",l.refresh()},!0),u("coverGutterNextToScrollbar",!1,function(l){return Ho(l)},!0),u("scrollbarStyle","native",function(l){cu(l),Ho(l),l.display.scrollbars.setScrollTop(l.doc.scrollTop),l.display.scrollbars.setScrollLeft(l.doc.scrollLeft)},!0),u("lineNumbers",!1,function(l,f){l.display.gutterSpecs=ro(l.options.gutters,f),Fs(l)},!0),u("firstLineNumber",1,Fs,!0),u("lineNumberFormatter",function(l){return l},Fs,!0),u("showCursorWhenSelecting",!1,ve,!0),u("resetSelectionOnContextMenu",!0),u("lineWiseCopyCut",!0),u("pasteLinesPerSelection",!0),u("selectionsMayTouch",!1),u("readOnly",!1,function(l,f){"nocursor"==f&&(Be(l),l.display.input.blur()),l.display.input.readOnlyChanged(f)}),u("screenReaderLabel",null,function(l,f){l.display.input.screenReaderLabelChanged(f=""===f?null:f)}),u("disableInput",!1,function(l,f){f||l.display.input.reset()},!0),u("dragDrop",!0,ap),u("allowDropFileTypes",null),u("cursorBlinkRate",530),u("cursorScrollMargin",0),u("cursorHeight",1,ve,!0),u("singleCursorHeightPerLine",!0,ve,!0),u("workTime",100),u("workDelay",100),u("flattenSpans",!0,Ii,!0),u("addModeClass",!1,Ii,!0),u("pollInterval",100),u("undoDepth",200,function(l,f){return l.doc.history.undoDepth=f}),u("historyEventDelay",1250),u("viewportMargin",10,function(l){return l.refresh()},!0),u("maxHighlightLength",1e4,Ii,!0),u("moveInputWithCursor",!0,function(l,f){f||l.display.input.resetPosition()}),u("tabindex",null,function(l,f){return l.display.input.getField().tabIndex=f||""}),u("autofocus",null),u("direction","ltr",function(l,f){return l.doc.setDirection(f)},!0),u("phrases",null)}(yt),function hp(i){var s=i.optionHandlers,u=i.helpers={};i.prototype={constructor:i,focus:function(){window.focus(),this.display.input.focus()},setOption:function(l,f){var h=this.options,g=h[l];h[l]==f&&"mode"!=l||(h[l]=f,s.hasOwnProperty(l)&&Kt(this,s[l])(this,f,g),Ft(this,"optionChange",this,l))},getOption:function(l){return this.options[l]},getDoc:function(){return this.doc},addKeyMap:function(l,f){this.state.keyMaps[f?"push":"unshift"](qs(l))},removeKeyMap:function(l){for(var f=this.state.keyMaps,h=0;h<f.length;++h)if(f[h]==l||f[h].name==l)return f.splice(h,1),!0},addOverlay:st(function(l,f){var h=l.token?l:i.getMode(this.options,l);if(h.startState)throw new Error("Overlays may not be stateful.");(function yh(i,s,u){for(var l=0,f=u(s);l<i.length&&u(i[l])<=f;)l++;i.splice(l,0,s)})(this.state.overlays,{mode:h,modeSpec:l,opaque:f&&f.opaque,priority:f&&f.priority||0},function(g){return g.priority}),this.state.modeGen++,yn(this)}),removeOverlay:st(function(l){for(var f=this.state.overlays,h=0;h<f.length;++h){var g=f[h].modeSpec;if(g==l||"string"==typeof l&&g.name==l)return f.splice(h,1),this.state.modeGen++,void yn(this)}}),indentLine:st(function(l,f,h){"string"!=typeof f&&"number"!=typeof f&&(f=null==f?this.options.smartIndent?"smart":"prev":f?"add":"subtract"),ya(this.doc,l)&&ei(this,l,f,h)}),indentSelection:st(function(l){for(var f=this.doc.sel.ranges,h=-1,g=0;g<f.length;g++){var v=f[g];if(v.empty())v.head.line>h&&(ei(this,v.head.line,l,!0),h=v.head.line,g==this.doc.sel.primIndex&&Vo(this));else{var y=v.from(),C=v.to(),D=Math.max(h,y.line);h=Math.min(this.lastLine(),C.line-(C.ch?0:1))+1;for(var M=D;M<h;++M)ei(this,M,l);var N=this.doc.sel.ranges;0==y.ch&&f.length==N.length&&N[g].from().ch>0&&Ri(this.doc,g,new Xe(y,N[g].to()),En)}}}),getTokenAt:function(l,f){return cr(this,l,f)},getLineTokens:function(l,f){return cr(this,z(l),f,!0)},getTokenTypeAt:function(l){l=we(this.doc,l);var y,f=Ql(this,ee(this.doc,l.line)),h=0,g=(f.length-1)/2,v=l.ch;if(0==v)y=f[2];else for(;;){var C=h+g>>1;if((C?f[2*C-1]:0)>=v)g=C;else{if(!(f[2*C+1]<v)){y=f[2*C+2];break}h=C+1}}var D=y?y.indexOf("overlay "):-1;return D<0?y:0==D?null:y.slice(0,D-1)},getModeAt:function(l){var f=this.doc.mode;return f.innerMode?i.innerMode(f,this.getTokenAt(l).state).mode:f},getHelper:function(l,f){return this.getHelpers(l,f)[0]},getHelpers:function(l,f){var h=[];if(!u.hasOwnProperty(f))return h;var g=u[f],v=this.getModeAt(l);if("string"==typeof v[f])g[v[f]]&&h.push(g[v[f]]);else if(v[f])for(var y=0;y<v[f].length;y++){var C=g[v[f][y]];C&&h.push(C)}else v.helperType&&g[v.helperType]?h.push(g[v.helperType]):g[v.name]&&h.push(g[v.name]);for(var D=0;D<g._global.length;D++){var M=g._global[D];M.pred(v,this)&&-1==en(h,M.val)&&h.push(M.val)}return h},getStateAfter:function(l,f){var h=this.doc;return Ca(this,(l=_a(h,null==l?h.first+h.size-1:l))+1,f).state},cursorCoords:function(l,f){var g=this.doc.sel.primary();return It(this,null==l?g.head:"object"==typeof l?we(this.doc,l):l?g.from():g.to(),f||"page")},charCoords:function(l,f){return Aa(this,we(this.doc,l),f||"page")},coordsChar:function(l,f){return Es(this,(l=Ta(this,l,f||"page")).left,l.top)},lineAtHeight:function(l,f){return l=Ta(this,{top:l,left:0},f||"page").top,Te(this.doc,l+this.display.viewOffset)},heightAtLine:function(l,f,h){var v,g=!1;if("number"==typeof l){var y=this.doc.first+this.doc.size-1;l<this.doc.first?l=this.doc.first:l>y&&(l=y,g=!0),v=ee(this.doc,l)}else v=l;return xa(this,v,{top:0,left:0},f||"page",h||g).top+(g?this.doc.height-xn(v):0)},defaultTextHeight:function(){return Po(this.display)},defaultCharWidth:function(){return Ss(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(l,f,h,g,v){var y=this.display,C=(l=It(this,we(this.doc,l))).bottom,D=l.left;if(f.style.position="absolute",f.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(f),y.sizer.appendChild(f),"over"==g)C=l.top;else if("above"==g||"near"==g){var M=Math.max(y.wrapper.clientHeight,this.doc.height),N=Math.max(y.sizer.clientWidth,y.lineSpace.clientWidth);("above"==g||l.bottom+f.offsetHeight>M)&&l.top>f.offsetHeight?C=l.top-f.offsetHeight:l.bottom+f.offsetHeight<=M&&(C=l.bottom),D+f.offsetWidth>N&&(D=N-f.offsetWidth)}f.style.top=C+"px",f.style.left=f.style.right="","right"==v?(D=y.sizer.clientWidth-f.offsetWidth,f.style.right="0px"):("left"==v?D=0:"middle"==v&&(D=(y.sizer.clientWidth-f.offsetWidth)/2),f.style.left=D+"px"),h&&function uu(i,s){var u=As(i,s);null!=u.scrollTop&&Bo(i,u.scrollTop),null!=u.scrollLeft&&An(i,u.scrollLeft)}(this,{left:D,top:C,right:D+f.offsetWidth,bottom:C+f.offsetHeight})},triggerOnKeyDown:st(xu),triggerOnKeyPress:st(lo),triggerOnKeyUp:Pf,triggerOnMouseDown:st(tp),execCommand:function(l){if(Jr.hasOwnProperty(l))return Jr[l].call(null,this)},triggerElectric:st(function(l){fp(this,l)}),findPosH:function(l,f,h,g){var v=1;f<0&&(v=-1,f=-f);for(var y=we(this.doc,l),C=0;C<f&&!(y=Fu(this.doc,y,v,h,g)).hitSide;++C);return y},moveH:st(function(l,f){var h=this;this.extendSelectionsBy(function(g){return h.display.shift||h.doc.extend||g.empty()?Fu(h.doc,g.head,l,f,h.options.rtlMoveVisually):l<0?g.from():g.to()},et)}),deleteH:st(function(l,f){var g=this.doc;this.doc.sel.somethingSelected()?g.replaceSelection("",null,"+delete"):Zo(this,function(v){var y=Fu(g,v.head,l,f,!1);return l<0?{from:y,to:v.head}:{from:v.head,to:y}})}),findPosV:function(l,f,h,g){var v=1,y=g;f<0&&(v=-1,f=-f);for(var C=we(this.doc,l),D=0;D<f;++D){var M=It(this,C,"div");if(null==y?y=M.left:M.left=y,(C=Uf(this,M,v,h)).hitSide)break}return C},moveV:st(function(l,f){var h=this,g=this.doc,v=[],y=!this.display.shift&&!g.extend&&g.sel.somethingSelected();if(g.extendSelectionsBy(function(D){if(y)return l<0?D.from():D.to();var M=It(h,D.head,"div");null!=D.goalColumn&&(M.left=D.goalColumn),v.push(M.left);var N=Uf(h,M,l,f);return"page"==f&&D==g.sel.primary()&&lf(h,Aa(h,N,"div").top-M.top),N},et),v.length)for(var C=0;C<g.sel.ranges.length;C++)g.sel.ranges[C].goalColumn=v[C]}),findWordAt:function(l){var h=ee(this.doc,l.line).text,g=l.ch,v=l.ch;if(h){var y=this.getHelper(l,"wordChars");"before"!=l.sticky&&v!=h.length||!g?++v:--g;for(var C=h.charAt(g),D=Vt(C,y)?function(M){return Vt(M,y)}:/\s/.test(C)?function(M){return/\s/.test(M)}:function(M){return!/\s/.test(M)&&!Vt(M)};g>0&&D(h.charAt(g-1));)--g;for(;v<h.length&&D(h.charAt(v));)++v}return new Xe(z(l.line,g),z(l.line,v))},toggleOverwrite:function(l){null!=l&&l==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?mi(this.display.cursorDiv,"CodeMirror-overwrite"):At(this.display.cursorDiv,"CodeMirror-overwrite"),Ft(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Dn()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:st(function(l,f){Mi(this,l,f)}),getScrollInfo:function(){var l=this.display.scroller;return{left:l.scrollLeft,top:l.scrollTop,height:l.scrollHeight-Gr(this)-this.display.barHeight,width:l.scrollWidth-Gr(this)-this.display.barWidth,clientHeight:Qc(this),clientWidth:ko(this)}},scrollIntoView:st(function(l,f){null==l?(l={from:this.doc.sel.primary().head,to:null},null==f&&(f=this.options.cursorScrollMargin)):"number"==typeof l?l={from:z(l,0),to:null}:null==l.from&&(l={from:l,to:null}),l.to||(l.to=l.from),l.margin=f||0,null!=l.from.line?function ka(i,s){on(i),i.curOp.scrollToPos=s}(this,l):Ar(this,l.from,l.to,l.margin)}),setSize:st(function(l,f){var h=this,g=function(y){return"number"==typeof y||/^\d+$/.test(String(y))?y+"px":y};null!=l&&(this.display.wrapper.style.width=g(l)),null!=f&&(this.display.wrapper.style.height=g(f)),this.options.lineWrapping&&iu(this);var v=this.display.viewFrom;this.doc.iter(v,this.display.viewTo,function(y){if(y.widgets)for(var C=0;C<y.widgets.length;C++)if(y.widgets[C].noHScroll){xr(h,v,"widget");break}++v}),this.curOp.forceUpdate=!0,Ft(this,"refresh",this)}),operation:function(l){return Pn(this,l)},startOperation:function(){return no(this)},endOperation:function(){return Ti(this)},refresh:st(function(){var l=this.display.cachedTextHeight;yn(this),this.curOp.forceUpdate=!0,Ds(this),Mi(this,this.doc.scrollLeft,this.doc.scrollTop),Ns(this.display),(null==l||Math.abs(l-Po(this.display))>.5||this.options.lineWrapping)&&Ms(this),Ft(this,"refresh",this)}),swapDoc:st(function(l){var f=this.doc;return f.cm=null,this.state.selectingText&&this.state.selectingText(),vf(this,l),Ds(this),this.display.input.reset(),Mi(this,l.scrollLeft,l.scrollTop),this.curOp.forceScroll=!0,Ie(this,"swapDoc",this,f),f}),phrase:function(l){var f=this.options.phrases;return f&&Object.prototype.hasOwnProperty.call(f,l)?f[l]:l},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},_i(i),i.registerHelper=function(l,f,h){u.hasOwnProperty(l)||(u[l]=i[l]={_global:[]}),u[l][f]=h},i.registerGlobalHelper=function(l,f,h,g){i.registerHelper(l,f,g),u[l]._global.push({pred:h,val:g})}}(yt);var Uv="iter insert remove copy getEditor constructor".split(" ");for(var ku in hn.prototype)hn.prototype.hasOwnProperty(ku)&&en(Uv,ku)<0&&(yt.prototype[ku]=function(i){return function(){return i.apply(this.doc,arguments)}}(hn.prototype[ku]));return _i(hn),yt.inputStyles={textarea:St,contenteditable:ut},yt.defineMode=function(i){!yt.defaults.mode&&"null"!=i&&(yt.defaults.mode=i),xv.apply(this,arguments)},yt.defineMIME=function jr(i,s){Mo[i]=s},yt.defineMode("null",function(){return{token:function(i){return i.skipToEnd()}}}),yt.defineMIME("text/plain","null"),yt.defineExtension=function(i,s){yt.prototype[i]=s},yt.defineDocExtension=function(i,s){hn.prototype[i]=s},yt.fromTextArea=function zf(i,s){if((s=s?Do(s):{}).value=i.value,!s.tabindex&&i.tabIndex&&(s.tabindex=i.tabIndex),!s.placeholder&&i.placeholder&&(s.placeholder=i.placeholder),null==s.autofocus){var u=Dn();s.autofocus=u==i||null!=i.getAttribute("autofocus")&&u==document.body}function l(){i.value=v.getValue()}var f;if(i.form&&(pe(i.form,"submit",l),!s.leaveSubmitMethodAlone)){var h=i.form;f=h.submit;try{var g=h.submit=function(){l(),h.submit=f,h.submit(),h.submit=g}}catch(y){}}s.finishInit=function(y){y.save=l,y.getTextArea=function(){return i},y.toTextArea=function(){y.toTextArea=isNaN,l(),i.parentNode.removeChild(y.getWrapperElement()),i.style.display="",i.form&&(Wn(i.form,"submit",l),!s.leaveSubmitMethodAlone&&"function"==typeof i.form.submit&&(i.form.submit=f))}},i.style.display="none";var v=yt(function(y){return i.parentNode.insertBefore(y,i.nextSibling)},s);return v},function Hv(i){i.off=Wn,i.on=pe,i.wheelEventPixels=Pv,i.Doc=hn,i.splitLines=ql,i.countColumn=Qn,i.findColumn=Hl,i.isWordChar=tn,i.Pass=hs,i.signal=Ft,i.Line=dn,i.changeEnd=Kr,i.scrollbarModel=La,i.Pos=z,i.cmpPos=be,i.modes=kc,i.mimeModes=Mo,i.resolveMode=Zl,i.getMode=Pc,i.modeExtensions=vs,i.extendMode=Tv,i.copyState=Gi,i.startState=Vc,i.innerMode=Lc,i.commands=Jr,i.keyMap=or,i.keyName=qo,i.isModifierKey=wu,i.lookupKey=Go,i.normalizeKeyMap=Qh,i.StringStream=Bt,i.SharedTextMarker=Gs,i.TextMarker=ir,i.LineWidget=Cn,i.e_preventDefault=Ce,i.e_stopPropagation=va,i.e_stop=rt,i.addClass=mi,i.contains=jn,i.rmClass=At,i.keyNames=vr}(yt),yt.version="5.65.0",yt}()},969:Hr=>{var j=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32};j.Diff=function(w,S){return[w,S]},j.prototype.diff_main=function(w,S,x,A){void 0===A&&(A=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var R=A;if(null==w||null==S)throw new Error("Null input. (diff_main)");if(w==S)return w?[new j.Diff(0,w)]:[];void 0===x&&(x=!0);var O=x,F=this.diff_commonPrefix(w,S),P=w.substring(0,F);w=w.substring(F),S=S.substring(F),F=this.diff_commonSuffix(w,S);var U=w.substring(w.length-F);w=w.substring(0,w.length-F),S=S.substring(0,S.length-F);var Z=this.diff_compute_(w,S,O,R);return P&&Z.unshift(new j.Diff(0,P)),U&&Z.push(new j.Diff(0,U)),this.diff_cleanupMerge(Z),Z},j.prototype.diff_compute_=function(w,S,x,A){var R;if(!w)return[new j.Diff(1,S)];if(!S)return[new j.Diff(-1,w)];var O=w.length>S.length?w:S,F=w.length>S.length?S:w,P=O.indexOf(F);if(-1!=P)return R=[new j.Diff(1,O.substring(0,P)),new j.Diff(0,F),new j.Diff(1,O.substring(P+F.length))],w.length>S.length&&(R[0][0]=R[2][0]=-1),R;if(1==F.length)return[new j.Diff(-1,w),new j.Diff(1,S)];var U=this.diff_halfMatch_(w,S);if(U){var re=U[1],me=U[3],ye=U[4],De=this.diff_main(U[0],U[2],x,A),Ke=this.diff_main(re,me,x,A);return De.concat([new j.Diff(0,ye)],Ke)}return x&&w.length>100&&S.length>100?this.diff_lineMode_(w,S,A):this.diff_bisect_(w,S,A)},j.prototype.diff_lineMode_=function(w,S,x){var A=this.diff_linesToChars_(w,S),R=A.lineArray,O=this.diff_main(w=A.chars1,S=A.chars2,!1,x);this.diff_charsToLines_(O,R),this.diff_cleanupSemantic(O),O.push(new j.Diff(0,""));for(var F=0,P=0,U=0,Z="",re="";F<O.length;){switch(O[F][0]){case 1:U++,re+=O[F][1];break;case-1:P++,Z+=O[F][1];break;case 0:if(P>=1&&U>=1){O.splice(F-P-U,P+U),F=F-P-U;for(var Q=this.diff_main(Z,re,!1,x),me=Q.length-1;me>=0;me--)O.splice(F,0,Q[me]);F+=Q.length}U=0,P=0,Z="",re=""}F++}return O.pop(),O},j.prototype.diff_bisect_=function(w,S,x){for(var A=w.length,R=S.length,O=Math.ceil((A+R)/2),F=O,P=2*O,U=new Array(P),Z=new Array(P),re=0;re<P;re++)U[re]=-1,Z[re]=-1;U[F+1]=0,Z[F+1]=0;for(var Q=A-R,me=Q%2!=0,ye=0,De=0,Ke=0,pt=0,We=0;We<O&&!((new Date).getTime()>x);We++){for(var ft=-We+ye;ft<=We-De;ft+=2){for(var de=F+ft,At=(tt=ft==-We||ft!=We&&U[de-1]<U[de+1]?U[de+1]:U[de-1]+1)-ft;tt<A&&At<R&&w.charAt(tt)==S.charAt(At);)tt++,At++;if(U[de]=tt,tt>A)De+=2;else if(At>R)ye+=2;else if(me&&(Qe=F+Q-ft)>=0&&Qe<P&&-1!=Z[Qe]&&tt>=($e=A-Z[Qe]))return this.diff_bisectSplit_(w,S,tt,At,x)}for(var ie=-We+Ke;ie<=We-pt;ie+=2){for(var $e,Qe=F+ie,ht=($e=ie==-We||ie!=We&&Z[Qe-1]<Z[Qe+1]?Z[Qe+1]:Z[Qe-1]+1)-ie;$e<A&&ht<R&&w.charAt(A-$e-1)==S.charAt(R-ht-1);)$e++,ht++;if(Z[Qe]=$e,$e>A)pt+=2;else if(ht>R)Ke+=2;else if(!me){var tt;if((de=F+Q-ie)>=0&&de<P&&-1!=U[de])if(At=F+(tt=U[de])-de,tt>=($e=A-$e))return this.diff_bisectSplit_(w,S,tt,At,x)}}}return[new j.Diff(-1,w),new j.Diff(1,S)]},j.prototype.diff_bisectSplit_=function(w,S,x,A,R){var O=w.substring(0,x),F=S.substring(0,A),P=w.substring(x),U=S.substring(A),Z=this.diff_main(O,F,!1,R),re=this.diff_main(P,U,!1,R);return Z.concat(re)},j.prototype.diff_linesToChars_=function(w,S){var x=[],A={};function R(U){for(var Z="",re=0,Q=-1,me=x.length;Q<U.length-1;){-1==(Q=U.indexOf("\n",re))&&(Q=U.length-1);var ye=U.substring(re,Q+1);(A.hasOwnProperty?A.hasOwnProperty(ye):void 0!==A[ye])?Z+=String.fromCharCode(A[ye]):(me==O&&(ye=U.substring(re),Q=U.length),Z+=String.fromCharCode(me),A[ye]=me,x[me++]=ye),re=Q+1}return Z}x[0]="";var O=4e4,F=R(w);return O=65535,{chars1:F,chars2:R(S),lineArray:x}},j.prototype.diff_charsToLines_=function(w,S){for(var x=0;x<w.length;x++){for(var A=w[x][1],R=[],O=0;O<A.length;O++)R[O]=S[A.charCodeAt(O)];w[x][1]=R.join("")}},j.prototype.diff_commonPrefix=function(w,S){if(!w||!S||w.charAt(0)!=S.charAt(0))return 0;for(var x=0,A=Math.min(w.length,S.length),R=A,O=0;x<R;)w.substring(O,R)==S.substring(O,R)?O=x=R:A=R,R=Math.floor((A-x)/2+x);return R},j.prototype.diff_commonSuffix=function(w,S){if(!w||!S||w.charAt(w.length-1)!=S.charAt(S.length-1))return 0;for(var x=0,A=Math.min(w.length,S.length),R=A,O=0;x<R;)w.substring(w.length-R,w.length-O)==S.substring(S.length-R,S.length-O)?O=x=R:A=R,R=Math.floor((A-x)/2+x);return R},j.prototype.diff_commonOverlap_=function(w,S){var x=w.length,A=S.length;if(0==x||0==A)return 0;x>A?w=w.substring(x-A):x<A&&(S=S.substring(0,x));var R=Math.min(x,A);if(w==S)return R;for(var O=0,F=1;;){var P=w.substring(R-F),U=S.indexOf(P);if(-1==U)return O;F+=U,(0==U||w.substring(R-F)==S.substring(0,F))&&(O=F,F++)}},j.prototype.diff_halfMatch_=function(w,S){if(this.Diff_Timeout<=0)return null;var x=w.length>S.length?w:S,A=w.length>S.length?S:w;if(x.length<4||2*A.length<x.length)return null;var R=this;function O(De,Ke,pt){for(var tt,At,Qe,$e,We=De.substring(pt,pt+Math.floor(De.length/4)),ft=-1,de="";-1!=(ft=Ke.indexOf(We,ft+1));){var ie=R.diff_commonPrefix(De.substring(pt),Ke.substring(ft)),ht=R.diff_commonSuffix(De.substring(0,pt),Ke.substring(0,ft));de.length<ht+ie&&(de=Ke.substring(ft-ht,ft)+Ke.substring(ft,ft+ie),tt=De.substring(0,pt-ht),At=De.substring(pt+ie),Qe=Ke.substring(0,ft-ht),$e=Ke.substring(ft+ie))}return 2*de.length>=De.length?[tt,At,Qe,$e,de]:null}var U,Z,re,Q,me,F=O(x,A,Math.ceil(x.length/4)),P=O(x,A,Math.ceil(x.length/2));return F||P?(U=P?F&&F[4].length>P[4].length?F:P:F,w.length>S.length?(Z=U[0],re=U[1],Q=U[2],me=U[3]):(Q=U[0],me=U[1],Z=U[2],re=U[3]),[Z,re,Q,me,U[4]]):null},j.prototype.diff_cleanupSemantic=function(w){for(var S=!1,x=[],A=0,R=null,O=0,F=0,P=0,U=0,Z=0;O<w.length;)0==w[O][0]?(x[A++]=O,F=U,P=Z,U=0,Z=0,R=w[O][1]):(1==w[O][0]?U+=w[O][1].length:Z+=w[O][1].length,R&&R.length<=Math.max(F,P)&&R.length<=Math.max(U,Z)&&(w.splice(x[A-1],0,new j.Diff(-1,R)),w[x[A-1]+1][0]=1,A--,O=--A>0?x[A-1]:-1,F=0,P=0,U=0,Z=0,R=null,S=!0)),O++;for(S&&this.diff_cleanupMerge(w),this.diff_cleanupSemanticLossless(w),O=1;O<w.length;){if(-1==w[O-1][0]&&1==w[O][0]){var re=w[O-1][1],Q=w[O][1],me=this.diff_commonOverlap_(re,Q),ye=this.diff_commonOverlap_(Q,re);me>=ye?(me>=re.length/2||me>=Q.length/2)&&(w.splice(O,0,new j.Diff(0,Q.substring(0,me))),w[O-1][1]=re.substring(0,re.length-me),w[O+1][1]=Q.substring(me),O++):(ye>=re.length/2||ye>=Q.length/2)&&(w.splice(O,0,new j.Diff(0,re.substring(0,ye))),w[O-1][0]=1,w[O-1][1]=Q.substring(0,Q.length-ye),w[O+1][0]=-1,w[O+1][1]=re.substring(ye),O++),O++}O++}},j.prototype.diff_cleanupSemanticLossless=function(w){function S(ye,De){if(!ye||!De)return 6;var Ke=ye.charAt(ye.length-1),pt=De.charAt(0),We=Ke.match(j.nonAlphaNumericRegex_),ft=pt.match(j.nonAlphaNumericRegex_),de=We&&Ke.match(j.whitespaceRegex_),tt=ft&&pt.match(j.whitespaceRegex_),At=de&&Ke.match(j.linebreakRegex_),Qe=tt&&pt.match(j.linebreakRegex_),$e=At&&ye.match(j.blanklineEndRegex_),ie=Qe&&De.match(j.blanklineStartRegex_);return $e||ie?5:At||Qe?4:We&&!de&&tt?3:de||tt?2:We||ft?1:0}for(var x=1;x<w.length-1;){if(0==w[x-1][0]&&0==w[x+1][0]){var A=w[x-1][1],R=w[x][1],O=w[x+1][1],F=this.diff_commonSuffix(A,R);if(F){var P=R.substring(R.length-F);A=A.substring(0,A.length-F),R=P+R.substring(0,R.length-F),O=P+O}for(var U=A,Z=R,re=O,Q=S(A,R)+S(R,O);R.charAt(0)===O.charAt(0);){A+=R.charAt(0),R=R.substring(1)+O.charAt(0),O=O.substring(1);var me=S(A,R)+S(R,O);me>=Q&&(Q=me,U=A,Z=R,re=O)}w[x-1][1]!=U&&(U?w[x-1][1]=U:(w.splice(x-1,1),x--),w[x][1]=Z,re?w[x+1][1]=re:(w.splice(x+1,1),x--))}x++}},j.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,j.whitespaceRegex_=/\s/,j.linebreakRegex_=/[\r\n]/,j.blanklineEndRegex_=/\n\r?\n$/,j.blanklineStartRegex_=/^\r?\n\r?\n/,j.prototype.diff_cleanupEfficiency=function(w){for(var S=!1,x=[],A=0,R=null,O=0,F=!1,P=!1,U=!1,Z=!1;O<w.length;)0==w[O][0]?(w[O][1].length<this.Diff_EditCost&&(U||Z)?(x[A++]=O,F=U,P=Z,R=w[O][1]):(A=0,R=null),U=Z=!1):(-1==w[O][0]?Z=!0:U=!0,R&&(F&&P&&U&&Z||R.length<this.Diff_EditCost/2&&F+P+U+Z==3)&&(w.splice(x[A-1],0,new j.Diff(-1,R)),w[x[A-1]+1][0]=1,A--,R=null,F&&P?(U=Z=!0,A=0):(O=--A>0?x[A-1]:-1,U=Z=!1),S=!0)),O++;S&&this.diff_cleanupMerge(w)},j.prototype.diff_cleanupMerge=function(w){w.push(new j.Diff(0,""));for(var F,S=0,x=0,A=0,R="",O="";S<w.length;)switch(w[S][0]){case 1:A++,O+=w[S][1],S++;break;case-1:x++,R+=w[S][1],S++;break;case 0:x+A>1?(0!==x&&0!==A&&(0!==(F=this.diff_commonPrefix(O,R))&&(S-x-A>0&&0==w[S-x-A-1][0]?w[S-x-A-1][1]+=O.substring(0,F):(w.splice(0,0,new j.Diff(0,O.substring(0,F))),S++),O=O.substring(F),R=R.substring(F)),0!==(F=this.diff_commonSuffix(O,R))&&(w[S][1]=O.substring(O.length-F)+w[S][1],O=O.substring(0,O.length-F),R=R.substring(0,R.length-F))),w.splice(S-=x+A,x+A),R.length&&(w.splice(S,0,new j.Diff(-1,R)),S++),O.length&&(w.splice(S,0,new j.Diff(1,O)),S++),S++):0!==S&&0==w[S-1][0]?(w[S-1][1]+=w[S][1],w.splice(S,1)):S++,A=0,x=0,R="",O=""}""===w[w.length-1][1]&&w.pop();var P=!1;for(S=1;S<w.length-1;)0==w[S-1][0]&&0==w[S+1][0]&&(w[S][1].substring(w[S][1].length-w[S-1][1].length)==w[S-1][1]?(w[S][1]=w[S-1][1]+w[S][1].substring(0,w[S][1].length-w[S-1][1].length),w[S+1][1]=w[S-1][1]+w[S+1][1],w.splice(S-1,1),P=!0):w[S][1].substring(0,w[S+1][1].length)==w[S+1][1]&&(w[S-1][1]+=w[S+1][1],w[S][1]=w[S][1].substring(w[S+1][1].length)+w[S+1][1],w.splice(S+1,1),P=!0)),S++;P&&this.diff_cleanupMerge(w)},j.prototype.diff_xIndex=function(w,S){var F,x=0,A=0,R=0,O=0;for(F=0;F<w.length&&(1!==w[F][0]&&(x+=w[F][1].length),-1!==w[F][0]&&(A+=w[F][1].length),!(x>S));F++)R=x,O=A;return w.length!=F&&-1===w[F][0]?O:O+(S-R)},j.prototype.diff_prettyHtml=function(w){for(var S=[],x=/&/g,A=/</g,R=/>/g,O=/\n/g,F=0;F<w.length;F++){var P=w[F][0],Z=w[F][1].replace(x,"&amp;").replace(A,"&lt;").replace(R,"&gt;").replace(O,"&para;<br>");switch(P){case 1:S[F]='<ins style="background:#e6ffe6;">'+Z+"</ins>";break;case-1:S[F]='<del style="background:#ffe6e6;">'+Z+"</del>";break;case 0:S[F]="<span>"+Z+"</span>"}}return S.join("")},j.prototype.diff_text1=function(w){for(var S=[],x=0;x<w.length;x++)1!==w[x][0]&&(S[x]=w[x][1]);return S.join("")},j.prototype.diff_text2=function(w){for(var S=[],x=0;x<w.length;x++)-1!==w[x][0]&&(S[x]=w[x][1]);return S.join("")},j.prototype.diff_levenshtein=function(w){for(var S=0,x=0,A=0,R=0;R<w.length;R++){var F=w[R][1];switch(w[R][0]){case 1:x+=F.length;break;case-1:A+=F.length;break;case 0:S+=Math.max(x,A),x=0,A=0}}return S+Math.max(x,A)},j.prototype.diff_toDelta=function(w){for(var S=[],x=0;x<w.length;x++)switch(w[x][0]){case 1:S[x]="+"+encodeURI(w[x][1]);break;case-1:S[x]="-"+w[x][1].length;break;case 0:S[x]="="+w[x][1].length}return S.join("\t").replace(/%20/g," ")},j.prototype.diff_fromDelta=function(w,S){for(var x=[],A=0,R=0,O=S.split(/\t/g),F=0;F<O.length;F++){var P=O[F].substring(1);switch(O[F].charAt(0)){case"+":try{x[A++]=new j.Diff(1,decodeURI(P))}catch(re){throw new Error("Illegal escape in diff_fromDelta: "+P)}break;case"-":case"=":var U=parseInt(P,10);if(isNaN(U)||U<0)throw new Error("Invalid number in diff_fromDelta: "+P);var Z=w.substring(R,R+=U);"="==O[F].charAt(0)?x[A++]=new j.Diff(0,Z):x[A++]=new j.Diff(-1,Z);break;default:if(O[F])throw new Error("Invalid diff operation in diff_fromDelta: "+O[F])}}if(R!=w.length)throw new Error("Delta length ("+R+") does not equal source text length ("+w.length+").");return x},j.prototype.match_main=function(w,S,x){if(null==w||null==S||null==x)throw new Error("Null input. (match_main)");return x=Math.max(0,Math.min(x,w.length)),w==S?0:w.length?w.substring(x,x+S.length)==S?x:this.match_bitap_(w,S,x):-1},j.prototype.match_bitap_=function(w,S,x){if(S.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var A=this.match_alphabet_(S),R=this;function O(tt,At){var Qe=tt/S.length,$e=Math.abs(x-At);return R.Match_Distance?Qe+$e/R.Match_Distance:$e?1:Qe}var F=this.Match_Threshold,P=w.indexOf(S,x);-1!=P&&(F=Math.min(O(0,P),F),-1!=(P=w.lastIndexOf(S,x+S.length))&&(F=Math.min(O(0,P),F)));var U=1<<S.length-1;P=-1;for(var Z,re,me,Q=S.length+w.length,ye=0;ye<S.length;ye++){for(Z=0,re=Q;Z<re;)O(ye,x+re)<=F?Z=re:Q=re,re=Math.floor((Q-Z)/2+Z);Q=re;var De=Math.max(1,x-re+1),Ke=Math.min(x+re,w.length)+S.length,pt=Array(Ke+2);pt[Ke+1]=(1<<ye)-1;for(var We=Ke;We>=De;We--){var ft=A[w.charAt(We-1)];if(pt[We]=0===ye?(pt[We+1]<<1|1)&ft:(pt[We+1]<<1|1)&ft|(me[We+1]|me[We])<<1|1|me[We+1],pt[We]&U){var de=O(ye,We-1);if(de<=F){if(F=de,!((P=We-1)>x))break;De=Math.max(1,2*x-P)}}}if(O(ye+1,x)>F)break;me=pt}return P},j.prototype.match_alphabet_=function(w){for(var S={},x=0;x<w.length;x++)S[w.charAt(x)]=0;for(x=0;x<w.length;x++)S[w.charAt(x)]|=1<<w.length-x-1;return S},j.prototype.patch_addContext_=function(w,S){if(0!=S.length){if(null===w.start2)throw Error("patch not initialized");for(var x=S.substring(w.start2,w.start2+w.length1),A=0;S.indexOf(x)!=S.lastIndexOf(x)&&x.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)x=S.substring(w.start2-(A+=this.Patch_Margin),w.start2+w.length1+A);var R=S.substring(w.start2-(A+=this.Patch_Margin),w.start2);R&&w.diffs.unshift(new j.Diff(0,R));var O=S.substring(w.start2+w.length1,w.start2+w.length1+A);O&&w.diffs.push(new j.Diff(0,O)),w.start1-=R.length,w.start2-=R.length,w.length1+=R.length+O.length,w.length2+=R.length+O.length}},j.prototype.patch_make=function(w,S,x){var A,R;if("string"==typeof w&&"string"==typeof S&&void 0===x)(R=this.diff_main(A=w,S,!0)).length>2&&(this.diff_cleanupSemantic(R),this.diff_cleanupEfficiency(R));else if(w&&"object"==typeof w&&void 0===S&&void 0===x)A=this.diff_text1(R=w);else if("string"==typeof w&&S&&"object"==typeof S&&void 0===x)A=w,R=S;else{if("string"!=typeof w||"string"!=typeof S||!x||"object"!=typeof x)throw new Error("Unknown call format to patch_make.");A=w,R=x}if(0===R.length)return[];for(var O=[],F=new j.patch_obj,P=0,U=0,Z=0,re=A,Q=A,me=0;me<R.length;me++){var ye=R[me][0],De=R[me][1];switch(!P&&0!==ye&&(F.start1=U,F.start2=Z),ye){case 1:F.diffs[P++]=R[me],F.length2+=De.length,Q=Q.substring(0,Z)+De+Q.substring(Z);break;case-1:F.length1+=De.length,F.diffs[P++]=R[me],Q=Q.substring(0,Z)+Q.substring(Z+De.length);break;case 0:De.length<=2*this.Patch_Margin&&P&&R.length!=me+1?(F.diffs[P++]=R[me],F.length1+=De.length,F.length2+=De.length):De.length>=2*this.Patch_Margin&&P&&(this.patch_addContext_(F,re),O.push(F),F=new j.patch_obj,P=0,re=Q,U=Z)}1!==ye&&(U+=De.length),-1!==ye&&(Z+=De.length)}return P&&(this.patch_addContext_(F,re),O.push(F)),O},j.prototype.patch_deepCopy=function(w){for(var S=[],x=0;x<w.length;x++){var A=w[x],R=new j.patch_obj;R.diffs=[];for(var O=0;O<A.diffs.length;O++)R.diffs[O]=new j.Diff(A.diffs[O][0],A.diffs[O][1]);R.start1=A.start1,R.start2=A.start2,R.length1=A.length1,R.length2=A.length2,S[x]=R}return S},j.prototype.patch_apply=function(w,S){if(0==w.length)return[S,[]];w=this.patch_deepCopy(w);var x=this.patch_addPadding(w);S=x+S+x,this.patch_splitMax(w);for(var A=0,R=[],O=0;O<w.length;O++){var U,re,F=w[O].start2+A,P=this.diff_text1(w[O].diffs),Z=-1;if(P.length>this.Match_MaxBits?-1!=(U=this.match_main(S,P.substring(0,this.Match_MaxBits),F))&&(-1==(Z=this.match_main(S,P.substring(P.length-this.Match_MaxBits),F+P.length-this.Match_MaxBits))||U>=Z)&&(U=-1):U=this.match_main(S,P,F),-1==U)R[O]=!1,A-=w[O].length2-w[O].length1;else if(R[O]=!0,A=U-F,P==(re=S.substring(U,-1==Z?U+P.length:Z+this.Match_MaxBits)))S=S.substring(0,U)+this.diff_text2(w[O].diffs)+S.substring(U+P.length);else{var Q=this.diff_main(P,re,!1);if(P.length>this.Match_MaxBits&&this.diff_levenshtein(Q)/P.length>this.Patch_DeleteThreshold)R[O]=!1;else{this.diff_cleanupSemanticLossless(Q);for(var ye,me=0,De=0;De<w[O].diffs.length;De++){var Ke=w[O].diffs[De];0!==Ke[0]&&(ye=this.diff_xIndex(Q,me)),1===Ke[0]?S=S.substring(0,U+ye)+Ke[1]+S.substring(U+ye):-1===Ke[0]&&(S=S.substring(0,U+ye)+S.substring(U+this.diff_xIndex(Q,me+Ke[1].length))),-1!==Ke[0]&&(me+=Ke[1].length)}}}}return[S=S.substring(x.length,S.length-x.length),R]},j.prototype.patch_addPadding=function(w){for(var S=this.Patch_Margin,x="",A=1;A<=S;A++)x+=String.fromCharCode(A);for(A=0;A<w.length;A++)w[A].start1+=S,w[A].start2+=S;var R=w[0],O=R.diffs;if(0==O.length||0!=O[0][0])O.unshift(new j.Diff(0,x)),R.start1-=S,R.start2-=S,R.length1+=S,R.length2+=S;else if(S>O[0][1].length){var F=S-O[0][1].length;O[0][1]=x.substring(O[0][1].length)+O[0][1],R.start1-=F,R.start2-=F,R.length1+=F,R.length2+=F}return 0==(O=(R=w[w.length-1]).diffs).length||0!=O[O.length-1][0]?(O.push(new j.Diff(0,x)),R.length1+=S,R.length2+=S):S>O[O.length-1][1].length&&(O[O.length-1][1]+=x.substring(0,F=S-O[O.length-1][1].length),R.length1+=F,R.length2+=F),x},j.prototype.patch_splitMax=function(w){for(var S=this.Match_MaxBits,x=0;x<w.length;x++)if(!(w[x].length1<=S)){var A=w[x];w.splice(x--,1);for(var R=A.start1,O=A.start2,F="";0!==A.diffs.length;){var P=new j.patch_obj,U=!0;for(P.start1=R-F.length,P.start2=O-F.length,""!==F&&(P.length1=P.length2=F.length,P.diffs.push(new j.Diff(0,F)));0!==A.diffs.length&&P.length1<S-this.Patch_Margin;){var Z=A.diffs[0][0],re=A.diffs[0][1];1===Z?(P.length2+=re.length,O+=re.length,P.diffs.push(A.diffs.shift()),U=!1):-1===Z&&1==P.diffs.length&&0==P.diffs[0][0]&&re.length>2*S?(P.length1+=re.length,R+=re.length,U=!1,P.diffs.push(new j.Diff(Z,re)),A.diffs.shift()):(re=re.substring(0,S-P.length1-this.Patch_Margin),P.length1+=re.length,R+=re.length,0===Z?(P.length2+=re.length,O+=re.length):U=!1,P.diffs.push(new j.Diff(Z,re)),re==A.diffs[0][1]?A.diffs.shift():A.diffs[0][1]=A.diffs[0][1].substring(re.length))}F=(F=this.diff_text2(P.diffs)).substring(F.length-this.Patch_Margin);var Q=this.diff_text1(A.diffs).substring(0,this.Patch_Margin);""!==Q&&(P.length1+=Q.length,P.length2+=Q.length,0!==P.diffs.length&&0===P.diffs[P.diffs.length-1][0]?P.diffs[P.diffs.length-1][1]+=Q:P.diffs.push(new j.Diff(0,Q))),U||w.splice(++x,0,P)}}},j.prototype.patch_toText=function(w){for(var S=[],x=0;x<w.length;x++)S[x]=w[x];return S.join("")},j.prototype.patch_fromText=function(w){var S=[];if(!w)return S;for(var x=w.split("\n"),A=0,R=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;A<x.length;){var O=x[A].match(R);if(!O)throw new Error("Invalid patch string: "+x[A]);var F=new j.patch_obj;for(S.push(F),F.start1=parseInt(O[1],10),""===O[2]?(F.start1--,F.length1=1):"0"==O[2]?F.length1=0:(F.start1--,F.length1=parseInt(O[2],10)),F.start2=parseInt(O[3],10),""===O[4]?(F.start2--,F.length2=1):"0"==O[4]?F.length2=0:(F.start2--,F.length2=parseInt(O[4],10)),A++;A<x.length;){var P=x[A].charAt(0);try{var U=decodeURI(x[A].substring(1))}catch(Z){throw new Error("Illegal escape in patch_fromText: "+U)}if("-"==P)F.diffs.push(new j.Diff(-1,U));else if("+"==P)F.diffs.push(new j.Diff(1,U));else if(" "==P)F.diffs.push(new j.Diff(0,U));else{if("@"==P)break;if(""!==P)throw new Error('Invalid patch mode "'+P+'" in: '+U)}A++}}return S},(j.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var A,x=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],R=0;R<this.diffs.length;R++){switch(this.diffs[R][0]){case 1:A="+";break;case-1:A="-";break;case 0:A=" "}x[R+1]=A+encodeURI(this.diffs[R][1])+"\n"}return x.join("").replace(/%20/g," ")},Hr.exports=j,Hr.exports.diff_match_patch=j,Hr.exports.DIFF_DELETE=-1,Hr.exports.DIFF_INSERT=1,Hr.exports.DIFF_EQUAL=0}},Hr=>{Hr(Hr.s=320)}]);